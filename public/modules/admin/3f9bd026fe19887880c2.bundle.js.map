{"version":3,"sources":["webpack:///./resources/modules/admin/src/svgs/left.svg","webpack:///./resources/modules/admin/src/svgs/bars.svg","webpack:///./resources/modules/admin/src/svgs/assets.svg","webpack:///./resources/modules/admin/src/svgs/dashboard.svg","webpack:///./resources/modules/admin/src/svgs/pages.svg","webpack:///./resources/modules/admin/src/svgs/plugins.svg","webpack:///./resources/modules/admin/src/svgs/reports.svg","webpack:///./resources/modules/admin/src/svgs/settings.svg","webpack:///./resources/modules/admin/src/svgs/tables.svg","webpack:///./resources/modules/admin/src/svgs/templates.svg","webpack:///./resources/modules/admin/src/svgs/users.svg","webpack:///./resources/modules/admin/src/svgs/admin__logo.svg","webpack:///./resources/modules/admin/src/components/AdminLogo.js","webpack:///./resources/modules/admin/src/svgs/vector.svg","webpack:///./resources/modules/admin/src/components/AdminTableComponents/SortableHeader.js","webpack:///./resources/modules/admin/src/components/AdminTableRow.js","webpack:///./resources/modules/admin/src/components/AdminTable.js","webpack:///./resources/modules/admin/src/svgs/right.svg","webpack:///./resources/modules/admin/src/components/Pagination.js","webpack:///./resources/modules/admin/src/js/helpers.js","webpack:///./resources/modules/admin/src/components/AllPages.js","webpack:///./resources/modules/admin/src/components/Updates.js","webpack:///./resources/modules/editor/src/js/components/altrp-image/Skeleton.js","webpack:///./resources/modules/admin/src/components/AutoUpdateInput.js","webpack:///./resources/modules/admin/src/components/StylesSettings.js","webpack:///./resources/modules/admin/src/components/settings/Import.js","webpack:///./resources/modules/admin/src/components/settings/Export.js","webpack:///./resources/modules/admin/src/components/settings/integrations/Websockets.js","webpack:///./resources/modules/admin/src/components/settings/integrations/Telegram.js","webpack:///./resources/modules/admin/src/components/AdminSettings.js","webpack:///./resources/modules/admin/src/svgs/user.svg","webpack:///./resources/modules/admin/src/components/users/Users.js","webpack:///./resources/modules/admin/src/components/users/Notifications/Notifications.js","webpack:///./resources/modules/admin/src/components/altrp-select/AltrpSelect.js","webpack:///./resources/modules/admin/src/components/users/Notifications/Compare.js","webpack:///./resources/modules/admin/src/components/users/Notifications/ConditionsTab.js","webpack:///./resources/modules/admin/src/components/users/Notifications/DataTab.js","webpack:///./resources/modules/admin/src/components/users/Notifications/SendToTab.js","webpack:///./resources/modules/admin/src/components/users/Notifications/EditNotification.js","webpack:///./resources/modules/admin/src/components/users/UserForm.js","webpack:///./resources/modules/admin/src/components/users/AddUserPage.js","webpack:///./resources/modules/admin/src/components/users/EditUserPage.js","webpack:///./resources/modules/admin/src/components/users/UserPage.js","webpack:///./resources/modules/admin/src/components/users/UsersTools.js","webpack:///./resources/modules/admin/src/components/AutoSaveDocumentDetail.js","webpack:///./resources/modules/admin/src/components/ImageDetail.js","webpack:///./resources/modules/admin/src/components/FontsDetail.js","webpack:///./resources/modules/admin/src/components/Assets.js","webpack:///./resources/modules/admin/src/components/dashboard/widgetTypes.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/Spinner.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/EmptyWidget.js","webpack:///./resources/modules/editor/src/js/components/altrp-dashboards/settings/NivoColorSchemes.js","webpack:///./resources/modules/admin/src/components/dashboard/services/getWidgetData.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/d3/TooltipBar.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicBarChart.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/d3/TooltipPie.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicPieChart.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/d3/Tooltip.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicLineChart.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicTableWidget.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/d3/TooltipScatter.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicPointChart.js","webpack:///./resources/modules/admin/src/components/dashboard/WidgetDiagram.js","webpack:///./resources/modules/admin/src/components/dashboard/dataSources.js","webpack:///./resources/modules/admin/src/components/dashboard/EditWidget.js","webpack:///./resources/modules/admin/src/components/dashboard/AddWidget.js","webpack:///./resources/modules/admin/src/components/Dashboard.js","webpack:///./resources/modules/admin/src/components/Plugins.js","webpack:///./resources/modules/admin/src/components/Reports.js","webpack:///./resources/modules/admin/src/components/Tables.js","webpack:///./resources/modules/admin/src/components/Templates.js","webpack:///./resources/modules/admin/src/components/Robots.js","webpack:///./resources/modules/admin/src/svgs/times.svg","webpack:///./resources/modules/admin/src/components/AdminModal.js","webpack:///./resources/modules/admin/src/components/AdminModal2.js","webpack:///./resources/modules/admin/src/components/pages/ParamItem.js","webpack:///./resources/modules/admin/src/components/pages/PageDataSourceParams.js","webpack:///./resources/modules/admin/src/components/pages/PageDataSourceForm.js","webpack:///./resources/modules/admin/src/components/AddPage.js","webpack:///./resources/modules/admin/src/components/AddReport.js","webpack:///./resources/modules/admin/src/svgs/bell.svg","webpack:///./resources/modules/admin/src/svgs/logout.svg","webpack:///./resources/modules/admin/src/components/UserTopPanel.js","webpack:///./resources/modules/admin/src/components/Models.js","webpack:///./resources/modules/admin/src/components/models/EditModelForm.js","webpack:///./resources/modules/admin/src/components/models/ValidationSection/ValidatedFieldForm.js","webpack:///./resources/modules/admin/src/components/models/ValidationSection/RuleForm.js","webpack:///./resources/modules/admin/src/components/models/ValidationSection/ValidationTableRow.js","webpack:///./resources/modules/admin/src/components/models/ValidationSection/ValidationTable.js","webpack:///./resources/modules/admin/src/components/models/RemoteFieldForms/ModelsRemoteFieldForm.js","webpack:///./resources/modules/admin/src/components/models/EditModel.js","webpack:///./resources/modules/admin/src/components/models/FieldCalculationLogic.js","webpack:///./resources/modules/admin/src/components/models/AddFieldForm.js","webpack:///./resources/modules/admin/src/components/models/EditField.js","webpack:///./resources/modules/admin/src/components/models/AddRelationForm.js","webpack:///./resources/modules/admin/src/components/models/AddRelation.js","webpack:///./resources/modules/admin/src/components/models/AddAccessorForm.js","webpack:///./resources/modules/admin/src/components/models/AddAccessor.js","webpack:///./resources/modules/admin/src/components/models/HeaderComponent.js","webpack:///./resources/modules/admin/src/components/models/AddDataSourceForm.js","webpack:///./resources/modules/admin/src/components/models/AddDataSource.js","webpack:///./resources/modules/admin/src/components/sql-builder/AggregateComponent.js","webpack:///./resources/modules/admin/src/components/sql-builder/JoinComponent.js","webpack:///./resources/modules/admin/src/components/sql-builder/helpers.js","webpack:///./resources/modules/admin/src/components/sql-builder/ConditionComponent.js","webpack:///./resources/modules/admin/src/components/sql-builder/OrderByComponent.js","webpack:///./resources/modules/admin/src/components/sql-builder/SQLBuilderForm.js","webpack:///./resources/modules/admin/src/components/SQLBuilder.js","webpack:///./resources/modules/admin/src/components/models/RemoteFieldForms/SQLsRemoteFieldForm.js","webpack:///./resources/modules/admin/src/components/models/SqlEditor.js","webpack:///./resources/modules/admin/src/components/AccessOptions.js","webpack:///./resources/modules/admin/src/components/access/RoleForm.js","webpack:///./resources/modules/admin/src/components/access/RolePage.js","webpack:///./resources/modules/admin/src/components/access/PermissionForm.js","webpack:///./resources/modules/admin/src/components/access/PermissionPage.js","webpack:///./resources/modules/admin/src/components/tables/TableForm.js","webpack:///./resources/modules/admin/src/components/tables/AddTable.js","webpack:///./resources/modules/admin/src/components/tables/EditTable.js","webpack:///./resources/modules/admin/src/components/tables/MigrationsTable.js","webpack:///./resources/modules/admin/src/components/tables/AddModelPage.js","webpack:///./resources/modules/admin/src/components/tables/AccessorsPage.js","webpack:///./resources/modules/admin/src/components/tables/AddControllerPage.js","webpack:///./resources/modules/admin/src/components/tables/SettingTable.js","webpack:///./resources/modules/admin/src/components/tables/AddMigrationPage.js","webpack:///./resources/modules/admin/src/components/AdminVersion.js","webpack:///./resources/modules/admin/src/components/SQLEditors.js","webpack:///./resources/modules/admin/src/components/dashboard/ColorSchemes.js","webpack:///./resources/modules/admin/src/components/models/ModelItemForm.js","webpack:///./resources/modules/admin/src/components/models/ModelPage.js","webpack:///./resources/modules/admin/src/components/AdminAssetsDropList.js","webpack:///./resources/modules/editor/src/js/classes/AltrpMeta.js","webpack:///./resources/modules/admin/src/components/CustomFonts.js","webpack:///./resources/modules/admin/src/components/EditFontElementPublish.js","webpack:///./resources/modules/admin/src/components/EditFont.js","webpack:///./resources/modules/admin/src/components/AddNewFont.js","webpack:///./resources/modules/editor/src/js/classes/modules/AssetsBrowser.js","webpack:///./resources/modules/admin/src/js/store/current-user/actions.js","webpack:///./resources/modules/admin/src/components/areas/Areas.js","webpack:///./resources/modules/admin/src/components/areas/AreaForm.js","webpack:///./resources/modules/admin/src/components/areas/AreaAdd.js","webpack:///./resources/modules/admin/src/components/areas/AreaEdit.js","webpack:///./resources/modules/admin/src/components/icon-select/IconSelect.js","webpack:///./resources/modules/admin/src/components/menu-builder/MenuItem.js","webpack:///./resources/modules/admin/src/components/menu-builder/MenuBuilder.js","webpack:///./resources/modules/admin/src/components/menu-builder/MenuPage.js","webpack:///./resources/modules/admin/src/components/menu-builder/MenusList.js","webpack:///./resources/modules/admin/src/Admin.js","webpack:///./resources/modules/admin/src/components/altrp-editor/AltrpCodeEditor.js","webpack:///./resources/modules/admin/src/components/users/Notifications/admin-notifications.scss","webpack:///./resources/modules/admin/src/sass/admin-style.scss","webpack:///./resources/modules/admin/src/sass/components/admin-pagination.scss","webpack:///./resources/modules/editor/src/sass/assets-browser.scss","webpack:///./resources/modules/admin/src/components/users/Notifications/admin-notifications.scss?6583","webpack:///./resources/modules/admin/src/sass/admin-style.scss?30a0","webpack:///./resources/modules/admin/src/sass/components/admin-pagination.scss?17bb","webpack:///./resources/modules/editor/src/sass/assets-browser.scss?8b5a"],"names":["styles","props","width","height","fill","xmlns","d","stroke","strokeWidth","viewBox","id","data-name","className","cx","cy","r","AdminLogo","href","target","this","adminLogo","assetType","renderAsset","Component","connect","state","order","clickHandler","setState","sortingHandler","column","name","sortingField","onClick","title","AdminTableRow","row","key","type","columns","map","index","tag","text","_","get","children","url","editUrl","Link","to","pathname","data","is_button","button","is_boolean","toString","React","quickActions","quickAction","item","replace","route","confirm","resource","Resource","isFunction","method","response","after","callBack","filterByKeyboard","e","value","search","onChange","changeHandler","rows","currentPage","num","parseInt","changePage","pageCount","setCurrentPage","altrp_version","itemsCount","redirect","window","location","assign","generateId","Math","random","substr","iconsManager","IconsManager","logout","post","pageReload","document","reload","a","transliterate","str","split","char","isUndefined","join","titleToName","toLowerCase","titleToPath","buildPagesTree","pages","tree","roots","filter","parent_page_id","length","treeRecursion","parentId","level","forEach","page","repeat","push","root","filterUsers","users","roleFilter","user","roles","some","role","AllPages","getPages","s","undefined","getQueried","res","pagesSearch","changeSearchHandler","itemsPerPage","slice","ceil","Updates","needUpdate","updateAltrp","bind","store","setAdminDisable","result","setNeedUpdate","setAdminEnable","setTimeout","updateMessage","testEnable","adminState","installTestAltrp","defaultBaseColor","SkeletonSpan","styled","duration","delay","keyframes","floor","color","highlightColor","disabled","changeValue","onKeyDown","prevProps","prevState","console","log","resourceid","keyCode","newValue","changevalue","onBlur","put","column_value","inputProps","iconFile","uploaderClasses","itemDeleteClasses","imageLazyLoading","updateImageLazyLoading","onDrop","persist","preventDefault","stopPropagation","dataTransfer","files","onDragOver","onDragLeave","submitHandler","postFile","then","alert","skeletonHighlightColorChange","skeletonHighlightColor","isString","rgb","g","b","skeletonColorChange","skeletonColor","altrp_image_lazy","altrp_skeleton_color","altrp_skeleton_highlight_color","UploadIcon","getIconComponent","htmlFor","presetColors","style","padding","boxShadow","onSubmit","accept","postFiles","inputFile","current","success","message","onCustomSubmit","custom_resource","inputCustomFile","createRef","_token","ref","required","toggleLine","open","listPages","items","uri","field","elements","resourceOut","submitData","element","getAll","i","filename","el","line","indexOf","fetch","headers","body","JSON","stringify","resp","blob","URL","createObjectURL","createElement","display","download","appendChild","click","revokeObjectURL","Style","dt","borderBottom","dd","temp","template","changeMainItem","checked","changeItem","enabled","setWebsocketsEnabled","toggle","websocketStore","reset","switcherClasses","onReset","AdvancedSettings","lazy","MailForm","AdminSettings","toggleSSREnabled","SSREnabled","switchTab","activeTab","hash","altrp_ssr_disabled","selectedIndex","onSelect","Suspense","fallback","attr","Users","getUsers","users_result","getUsersEmail","getAuthorList","users_result_email","email","includes","sorting","label","sortedUsers","sort","reverse","sortUsers","idx","userId","full_name","last_login_at","currentUser","Notifications","getNotices","notificationsAll","noticeSettingsData","notices","noticesSortingHandler","order_by","searchNotice","getArrayForRows","noticed_id","user_id","match","params","noticeSearch","generateNoticeJSON","pagination","objectDeepCleaning","parse","area","activeresponseArea","notice_name","downloadJSONFile","withRouter","renderScrollbar","autoHeight","loadOptions","searchString","callback","options","optionsResource","optionsRoute","selectRef","customStyles","control","base","borderColor","isFocused","menuPortal","zIndex","selectProps","placeholder","noOptionsMessage","menuPortalTarget","menuPlacement","menuPosition","components","MenusList","captureMenuScroll","isDisabled","isArray","_i","isNumber","isObject","option","find","o","Compare","changeInput","compareType","compareId","activeCompare","changeInputCompare","changeSelect","changeSelectCompare","isCompareOpened","onSave","onAction","onActive","onDisable","onExport","onDelete","compares","onSaveCompare","onActionCompare","operator","OptionsCompare","CONDITIONS_OPTIONS","ConditionsTab","conditionId","activeCondition","changeInputCondition","changeSelectCondition","isConditionOpened","condition","conditions","onSaveCondition","component","onActionCondition","OptionsCondition","t","DataTab","changeInputData","onSaveData","SendToTab","send","front","changeBox","telegram","onSaveSend","EditNotification","notice_settings","Array","arForDelete","compare","sources","notice_id","sourcesOptions","resourceEdit","dataSources","getSourceArray","serverUpdate","getNewValue","dataSourcesAll","history","conArray","comArray","saveNoticeSetting","isMulti","source","changeRolesHandler","usermeta","_roles","changePermissionsHandler","permissions","permission","_permissions","errors","redirectAfterSave","redirectAfterError","redirect_error_url","rolesOptions","permissionsOptions","isPasswordChange","saveUser","user_data","usermeta_data","password","password_confirmation","usermeta_resource","redirect_url","minlength","first_name","second_name","telegram_user_id","patronymic","closeMenuOnSelect","p","AddUserPage","EditUserPage","UserPage","UsersTools","aria-controls","action","defaultChecked","AutoSave","save","promise","values","difference","diff","Object","keys","submitting","updateAsset","nextProps","timeout","clearTimeout","debounce","subscription","GlobalStyle","createGlobalStyle","sleep","ms","Promise","resolve","ImageDetail","author","authorName","imageId","getAsset","deleteAsset","created_at","media_type","closeImageDetail","havePreviousImage","prevImageDetail","ArrowBackIos","fontSize","haveNextImage","nextImageDetail","ArrowForwardIos","Close","src","draggable","alt","initialValues","handleSubmit","CopyToClipboard","FontsDetail","fontId","closeFontDetail","prevFontDetail","nextFontDetail","Assets","assetId","newAssets","assets","Number","indexNextImageInArray","findIndex","checkingFirstOrLastDocument","indexPrevImageInArray","indexNextFontInArray","indexPrevFontInArray","haveNextFont","havePreviousFont","deleteClick","isActiveLink","changeUrlForTab","acceptInput","activeLink","typesFiles","images","svgs","fonts","archives","documents","medias","others","currentTarget","dataset","assetid","filterAssets","updateAssets","linkName","arrayPathname","path","pop","indexCurrentDocumentInArray","CloseIcon","multiple","activeClassName","isActive","onFilterAssets","asset","openImageDetail","typeIcon","IconFile","openDocumentDetail","data-assetid","BAR","PIE","LINE","TABLE","POINT","widgetTypes","colors","queryString","obj","reduce","encodeURIComponent","getWidgetData","axios","status","indexValue","datum","enable","settings","isEqual","widgetID","tooltip","whiteSpace","alignItems","background","marginRight","customTooltip","borderRadius","PureComponent","regagroScheme","Schemes","milkScheme","milkScheme2","widget","dataSource","groupMode","layout","colorScheme","enableLabel","innerPadding","borderWidth","tickRotation","bottomAxis","enableGridX","enableGridY","customColorSchemeChecker","customColors","yScaleMax","useCustomTooltips","useState","isLoading","setIsLoading","setData","getData","useCallback","charts","sortBy","useEffect","margin","top","right","bottom","left","indexBy","scheme","colorBy","axisBottom","tickSize","tickPadding","legend","legendOffset","enableSliceLabels","innerRadius","padAngle","cornerRadius","sortByValue","enableRadialLabels","keyIsDate","isDashboard","newData","currentKey","keyFormatted","moment","isValid","format","enablebar","point","containerSettings","settenableings","borderStyle","backgroundColor","flexDirection","xFormatted","x","y","Fragment","yFormatted","lineWidth","pointSize","xScaleType","precision","curve","enableArea","enablePoints","pointColor","yMarker","yMarkerValue","yMarkerOrientation","yMarkerColor","yMarkerLabel","yMarkerWidth","xMarker","xMarkerValue","xMarkerOrientation","xMarkerColor","xMarkerLabel","xMarkerWidth","yMarkerLabelColor","xMarkerLabelColor","constantsAxises","uniq","xFormat","yScale","max","xScale","markers","useMesh","colorPickedHex","from","modifiers","summary","useMemo","acc","object","maxHeight","textAlign","colSpan","node","formattedX","formattedY","nodeSize","DynamicPointChart","diagram","show","setShow","setWidget","Modal","onHide","animation","size","centered","closeButton","Row","Col","Form","controlId","as","custom","schemes","isVertical","Button","variant","diagrams","setDiagrams","showEditForm","setShowEditForm","showAddForm","setShowAddForm","selectedWidget","setSelectedWidget","addDiagram","req","getDiagrams","showSettingsModal","itemIndex","AddWidget","Plugins","plugins","event","pluginName","image","maxWidth","class","updateChange","for","Reports","Tables","modules","setModules","urlModules","Templates","updateTemplates","activeTemplateArea","pageSize","templateSearch","templates","toggleImportForm","showImportForm","importTemplate","f","fr","FileReader","onload","importedTemplateData","areaExists","templateAreas","ta","readAsText","searchTemplates","allTemplates","templateTypesResource","changeActiveArea","generateTemplateJSON","areaId","setActiveArea","file","Blob","modalSettings","submitButton","submit","formData","fields","getAreasOptions","defaultValue","active","setModalSettings","tabClasses","data-area","Robots","robots","model_id","addNew","fetchData","redirect_route","power","fillRule","clipRule","AdminModal","toggleModal","storeSubscribe","valid","errorMessage","error","modalClasses","data-field","data-error","closeHandler","ReactDOM","createPortal","param","paramValue","changeName","paramName","changeRequired","aria-label","addItem","parameters","mbParseJSON","altrpRandomId","_parameters","splice","PageDataSourceForm","source_id","alias","priority","dataSourceOptions","autoload","isExtendedSettings","isJSON","page_id","updateHandler","toggleParamsSettings","parseParamsFromString","data_sources","server_side","AddPage","getDataSources","dataSourceResource","isModalOpened","editingDataSource","editHandler","parentChangeHandler","endsWith","models","pagesOptions","currentTab","pagesOptionsResource","model_resource","templateResource","savePage","getOptions","models_res","pageData","newState","cloneDeep","changeCurrentTab","model","defaultOptions","is_cached","not_found","sections_count","seo_title","seo_keywords","seo_description","Boolean","AddReport","UserTopPanel","userName","columnsModel","columnsDataSource","Models","dataSourcesResource","dataSourcesCurrentPage","preset","dataSourcesSearch","dataSourcesSorting","dataSourcesPageCount","getModels","modelsResource","modelsCurrentPage","modelsSearch","modelsSorting","modelsPageCount","modelsSortingHandler","dataSourcesSortingHandler","searchModel","searchDataSources","modelsCount","dataSourcesCount","deleteHandler","titleChangeHandler","updated_at","parent_model_id","description","table_id","soft_deletes","time_stamps","submitText","edit","ValidatedFieldForm","column_id","column_name","is_created","is_updated","validationsResource","updateValidations","fieldsOptions","data_source_options","RuleForm","rule","editingRule","validation_field_id","ValidationTableRow","isRowExpanded","isRuleModalOpened","isFieldModalOpened","submitRuleHandler","deleteRuleHandler","deleteFieldHandler","editFieldHandler","rules","validations","ModelsRemoteFieldForm","remote_find_column","remote_need_column","as_object","single_source_id","list_source_id","remoteFieldsResource","updateRemoteFields","remoteFieldsColumns","EditModel","updateFields","fieldsResource","updateRelations","relationsResource","relations","updateQueries","queriesResource","queries","updateAccessors","accessorsResource","accessors","remoteFields","isFieldRemoteModalOpened","editingRemoteField","modelName","json","taken","bounded_model","data_source_optionsResource","sql_editors","relation","accessor","query","rightType","is1stString","is2ndString","string","fieldId","string_1","fieldId_1","string_2","fieldId_2","rightTypeHandler","rightChangeHandler","setRight","_state","deleteItemHandler","operatorChangeHandler","AltrpCodeEditor","mode","fieldTypeOptions","attributeOptions","inputTipeOptions","AddFieldForm","isAlways","is_label","is_title","is_auth","length_value","default","attribute","input_type","null","indexed","editable","calculation","calculation_logic","itemChangeHandler","addItemHandler","filedsResource","modelId","fieldsOptionsResource","substring","isNaN","default_","_null","isNeedToCheckName","fieldName","readOnly","EditField","modelTitle","relationTypeOptions","deleteUpdateOptions","AddRelationForm","modelsOptions","add_belong_to","always_with","local_key","foreign_key","onUpdate","selfFieldsOptions","foreignFieldsOptions","relationName","updateForeignFieldOptions","target_model_id","changeTargetModel","_relationTypeOptions","hideAddBelongTo","renderLocalKey","renderForeignKey","toUpperCase","AddRelation","AddAccessorForm","constructor","AddAccessor","AddDataSourceForm","typeIsDisabled","request_type","api_url","auth","access","changeRoles","changePermission","headerDeleteHandler","headerChangeHandler","headerAddHandler","fromEntries","goBack","entries","HeaderComponent","AddDataSource","typeOptions","columnsOptions","tablesOptions","tableId","targetColumnOptions","target_table","source_column","target_column","sourceColumnOptions","getDatePickerFormat","getMomentFormat","conditionTypeOptions","dateTypesOptions","isDateVar","dateValueFormatChange","Date","isFirst","condition_type","or","not","first_column","second_column","selected","_d","showTimeSelect","showYearPicker","showTimeSelectOnly","showMonthYearPicker","dateFormat","SQLBuilderForm","changeGroupBy","group_by","_group_by","changeColumns","_columns","c","changeRelations","_relations","valueChangeHandler","aggregateToggle","isAggregateRaw","aggregates","conditionAddHandler","offsetDeleteHandler","offset","limitDeleteHandler","limit","setRelations","setColumns","joins","relationsOptions","selfFields","counter","selfFieldsResource","sqlResource","multipleSelectChangeHandler","aggregateChangeHandler","aggregateAddHandler","aggregateDeleteHandler","joinChangeHandler","joinAddHandler","joinDeleteHandler","conditionChangeHandler","orderByChangeHandler","orderByAddHandler","orderByDeleteHandler","Error","trim","array","conditionDeleteHandler","SQLBuilder","SQLsRemoteFieldForm","SqlEditor","aceEditorObserver","storeState","AceEditor","aceEditorReducer","sql","sqlEditorResource","onTest","testParams","sqlEditorTest","testResponse","paged","is_object","AceEditorResponse","editor","test","arr","theme","setOptions","showPrintMargin","enableLiveAutocompletion","wrapEnabled","rolesResource","permissionsResource","initPaginationProps","count","AccessOptions","rolesPagination","rolesFilter","rolesSorting","permissionsPagination","permissionsFilter","permissionsSorting","getRoles","rolesSortingHandler","getPermissions","permissionsSortingHandler","searchRoles","searchPermissions","RoleForm","display_name","isEditing","RolePage","PermissionForm","PermissionPage","saveTable","AddTable","EditTable","setting_url","MigrationsTable","migrations","table","table_columns","migrations_resource","table_resource","table_res","AddModelPage","relationship_types","function","addModalShow","onDeleteClick","default_relationship","model_class","accessors_table_columns","addAccessorModalShow","onDeleteAccessorClick","default_accessor","formula","modal_toogle","actual_columns","fillable_columns","user_cols","fillable_cols","relationships","pk","selected_relationship","relationship","selected_accessor","save_model_resource","accessors_resource","addFillableColumn","deleteFillableColumn","addUserColsColumn","deleteUserColsColumn","onChangeRelationship","saveModel","addRelationship","getModalClasses","columns_res","model_data","setCols","accessors_data","accsessors","cols","update","$push","$splice","field_name","getTime","$set","AccessorsPage","addAccessor","AddControllerPage","prefix","namespace","controller_resource","save_controller_resource","saveController","addRelation","deleteRelation","controller_res","setRelation","SettingTable","AddMigrationPage","column_types","default_column","places","unique","default_key","source_table_id","key_actions","addModalColumnShow","onDeleteColumnClick","table_keys","addModalKeyShow","onDeleteKeyClick","column_modal_toggle","key_modal_toggle","rename_columns","selected_column","selected_key","migration_resource","onChangeColumn","onChangeKey","addColumn","addKey","saveMigration","isShowField","keys_res","modal_toggle","val","charAt","name_value","main_url","SQLEditors","getSqlEditors","sql_editorsResource","sqlEditorSearch","searchSqlEditors","sql_editorsPagination","sql_editor","ModelItemForm","pick","ModelPage","editingItem","getModelData","searchModelData","propsSearch","AdminAssetsDropList","pathmanHaveAsssets","WithRouterAdminAssetsDropList","AltrpMeta","metaName","metaValue","_default","getProperty","setProperty","getMetaName","getMetaValue","meta_value","reject","pendingCallbacks","statuses","meta","AltrpModel","CustomFonts","deleteFont","currentFontId","indexCurrentFont","setMetaValue","getCustomFonts","fontsCount","onMouseEnter","onMouseLeave","fontFamily","variations","compose","EditFontElementPublish","changePublishSizeMin","KeyboardArrowUp","changePublishSizeMax","KeyboardArrowDown","pathName","fontWeightOptions","fontStyleOptions","EditFont","fontWeight","fontStyle","woffFile","woff2File","ttfFile","svgFile","eotFile","fontsLibrary","editFont","publishMaxSize","postFont","restProps","addFontVariation","fontVariation","currentFont","findIndexCurrentFont","setNewMetaValue","deleteFontVariation","indexCurrentFontVariation","editFontOn","editFontOff","initialFontName","fontVariations","v","Edit","Delete","AddNewFont","fontSavedSuccessfully","addNewFont","newFont","idCurrentFont","configNewFont","idCurrentFontForRedirect","AssetsBrowser","tabClick","toggleBrowser","selectAsset","chooseAsset","tabs","svgAssets","getAssets","selectedAsset","mediaAssets","videoAssets","mediaResource","svgResource","videoResource","nextContext","tab","setActiveTab","resSvg","resMedia","addEventListener","assetname","dispatch","assetsToggle","onChoose","classes","buttonClasses","data-tab","AssetContent","assetProps","iconComponent","data-assetname","video","assetsManagerSettings","setUsersOnline","members","updateAreas","areas","CONSTANTS","submitForm","inputValue","valueName","set","area_type","sidebar_type","sidebar_location","sidebar_width","custom_css","AreaAdd","AreaEdit","IconSelectWrapper","openAssetsBrowser","assetsSettings","icon","returnType","assetsShow","dangerouslySetInnerHTML","__html","renderIcon","showContent","onDoubleClick","indexes","updateValue","deleteItem","group","setList","newList","updateChildren","list","MenuItem","toggle_icon","Wrapper","newItem","new","menuId","afterSave","afterDelete","menu","fetchError","mutate","handle","thisValue","MenuPage","updateMenus","menus","Admin","assetsActive","isAssetsActive","adminEnable","pagesMenuShow","toggleMenu","updateAdminState","getConnect","changeCurrentUser","pusherKey","websocketsPort","websocketsHost","pusher_app_key","websockets_port","pusher_host","Pusher","require","Echo","broadcaster","wsHost","wsPort","forceTLS","disableStats","setWebsocketsKey","setWebsocketsPort","notification","presenceChannel","activeUsers","here","joining","leaving","getPusherConnect","connector","pusher","connection","adminClasses","autoHide","autoHideTimeout","autoHideDuration","exact","customFonts","setUserData","userData","prepareIncomingValue","editorProps","prepareOutgoingValue","module","exports","escape","content","transform","locals","hot","newContent","dispose"],"mappings":"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E1Q,MAAO,OACPrO,MAAO,OACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,kBACPrO,MAAO,kBACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,kBACPrO,MAAO,kBACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,mBACPrO,MAAO,mBACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,gBACPrO,MAAO,gBACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,WACPrO,MAAO,WACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,UACPrO,MAAO,WACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,kBACPrO,MAAO,kBACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,mBACPrO,MAAO,mBACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,WACPrO,MAAO,WACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,QACPrO,MAAO,QACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,SACPrO,MAAO,SACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,QACPrO,MAAO,QACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,UACPrO,MAAO,UACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,UACPrO,MAAO,UACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,OACPrO,MAAO,OACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,aACPrO,MAAO,aACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,cACPrO,MAAO,cACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,aACPrO,MAAO,aACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,aACPrO,MAAO,aACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,oBACPrO,MAAO,oBACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,cACPrO,MAAO,cACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,aACPrO,MAAO,aACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,aACPrO,MAAO,aACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,oBACPrO,MAAO,oBACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,eACPrO,MAAO,eACP+e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE1Q,MAAO,sBACPrO,MAAO,sBACP+e,OAAQ,CACN,UAC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","file":"3f9bd026fe19887880c2.bundle.js","sourcesContent":["import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"7\" height=\"10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M6 1.5L2 5l4 4\" stroke=\"#8E94AA\" strokeWidth=\"1.5\" /></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"19\" height=\"14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path fill=\"#fff\" d=\"M0 0h19v2H0zM0 6h19v2H0V6zM0 12h19v2H0z\" /></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M15.63 1.79h-1v12.48a.36.36 0 01-.36.36H1.79v1a.37.37 0 00.37.37h13.47a.36.36 0 00.37-.37V2.16a.37.37 0 00-.37-.37z\" /><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M13.79 13.42V.37a.37.37 0 00-.37-.37H.37A.36.36 0 000 .37v13.05a.37.37 0 00.37.37h13.05a.38.38 0 00.37-.37zM10 2.71a1.4 1.4 0 11-1.4 1.4 1.4 1.4 0 011.4-1.4zm-8.8 9.91C1.27 11 2.1 8 3.3 6.83s2-.13 2.72.9a27.9 27.9 0 001.73 2.32c.81.81 1.49-.41 2.34-.81 1.23-.59 2.24 2.46 2.5 3.39z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17.73 10.85\" {...props}><g data-name=\"Слой 2\"><path d=\"M8.87 0A8.88 8.88 0 000 8.87a9.67 9.67 0 00.16 1.69.37.37 0 00.36.29h16.69a.36.36 0 00.36-.29A8.88 8.88 0 008.87 0zm0 1a.93.93 0 11-.66 1.58A.93.93 0 018.87 1zM2 9.79a.93.93 0 11.92-.92.93.93 0 01-.92.92zm2.63-5.16a.88.88 0 01-.63.28.94.94 0 01-.95-.91.92.92 0 01.95-.95.94.94 0 01.91.95.88.88 0 01-.28.63zm5.78 5.09a2.33 2.33 0 11-3-3.58c1-.83 6.74-2.57 6.74-2.57S11.4 8.9 10.41 9.72zm5.37.07a.93.93 0 11.92-.92.93.93 0 01-.92.92z\" fill=\"#fff\" data-name=\"Слой 1\" /></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13 17.35\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M10.33 15.72H1.6V2.64H.47a.47.47 0 00-.47.47v13.77a.47.47 0 00.47.47h9.39a.47.47 0 00.47-.47z\" /><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M13 .47a.47.47 0 00-.47-.47H3.14a.47.47 0 00-.47.47v13.77a.47.47 0 00.47.46h9.39a.44.44 0 00.33-.14.43.43 0 00.14-.32z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17 16.96\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M4.31 2.67A.43.43 0 004 2.54a.41.41 0 00-.31.14c-2.54 2.8-1.16 8.86-1 9.46L.12 14.7A.41.41 0 000 15a.42.42 0 00.12.3l1.54 1.53a.41.41 0 00.6 0l2.55-2.55a17.77 17.77 0 004.19.51c1.65 0 3.91-.26 5.3-1.52a.5.5 0 00.14-.31.46.46 0 00-.13-.31zM8 5.19a.44.44 0 00.3.12.42.42 0 00.3-.12L11.76 2a1.17 1.17 0 00.34-.83 1.18 1.18 0 00-.34-.84 1.16 1.16 0 00-.84-.33 1.15 1.15 0 00-.84.35L6.92 3.51a.42.42 0 000 .6zM16.65 5.24a1.2 1.2 0 00-1.67 0l-3.17 3.17a.44.44 0 000 .6l1.08 1.07a.41.41 0 00.6 0l3.16-3.16a1.18 1.18 0 000-1.68z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M16.14 10H8.06L8 6V1.5c0-.5-.29-.39-.48-.37a8.46 8.46 0 109.31 9.64.69.69 0 00-.69-.79z\" /><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M10.38 0a.37.37 0 00-.27.09.36.36 0 00-.11.25V8h7.65a.36.36 0 00.25-.11.32.32 0 00.1-.25A8 8 0 0010.38 0z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17 16.6\" {...props}><g data-name=\"Слой 2\"><path d=\"M16.66 8.49l-1.5-.34a6.68 6.68 0 00-.55-2.49l1.16-1a.42.42 0 00.06-.61l-1.59-2A.41.41 0 0014 2a.46.46 0 00-.32.09L12.5 3a6.72 6.72 0 00-2.3-1.11V.43A.44.44 0 009.76 0H7.23a.43.43 0 00-.43.43v1.45A6.77 6.77 0 004.45 3l-1.14-.88A.46.46 0 003 2a.41.41 0 00-.29.16l-1.58 2a.44.44 0 00.07.61l1.18.93a6.56 6.56 0 00-.53 2.5l-1.5.35a.38.38 0 00-.27.19.43.43 0 00-.08.34l.57 2.46a.43.43 0 00.52.33l1.55-.36a6.66 6.66 0 001.57 1.93l-.69 1.45a.42.42 0 000 .33.45.45 0 00.22.25L6 16.56a.43.43 0 00.19 0h.15a.45.45 0 00.24-.23l.71-1.47a6.78 6.78 0 002.46 0l.71 1.47a.45.45 0 00.58.2l2.27-1.11a.39.39 0 00.22-.25.42.42 0 000-.33l-.7-1.45a6.67 6.67 0 001.56-1.94l1.54.34a.43.43 0 00.52-.33L17 9a.44.44 0 00-.34-.51zm-5.3-.16A2.86 2.86 0 118.5 5.47a2.86 2.86 0 012.86 2.86z\" fill=\"#fff\" data-name=\"Слой 1\" /></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 15\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M0 .2A.2.2 0 01.2 0h3.6a.2.2 0 01.2.2v3.6a.2.2 0 01-.2.2H.2a.2.2 0 01-.2-.2zM6 .2a.2.2 0 01.2-.2h8.6a.2.2 0 01.2.2v3.6a.2.2 0 01-.2.2H6.2a.2.2 0 01-.2-.2zM0 6.2A.2.2 0 01.2 6h3.6a.2.2 0 01.2.2v8.6a.2.2 0 01-.2.2H.2a.2.2 0 01-.2-.2zM6 6.2a.2.2 0 01.2-.2h8.6a.2.2 0 01.2.2v8.6a.2.2 0 01-.2.2H6.2a.2.2 0 01-.2-.2z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 15\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M14.67 0H.33A.31.31 0 000 .28v3.09a.31.31 0 00.33.28h14.34a.31.31 0 00.33-.28V.28a.31.31 0 00-.33-.28zM9 5H6a.32.32 0 00-.33.32v2.22a.32.32 0 00.33.32h3a.32.32 0 00.33-.32V5.28A.32.32 0 009 5zM9 9.15H6a.32.32 0 00-.33.32v5.21A.32.32 0 006 15h3a.32.32 0 00.33-.32V9.47A.32.32 0 009 9.15zM14.67 5h-3a.32.32 0 00-.33.32V10a.32.32 0 00.33.32h3A.32.32 0 0015 10V5.28a.32.32 0 00-.33-.28zM3.37 5h-3a.32.32 0 00-.37.28V10a.32.32 0 00.33.32h3A.32.32 0 003.7 10V5.28A.32.32 0 003.37 5zM3.37 11.55h-3a.33.33 0 00-.33.32v2.81a.32.32 0 00.29.32h3a.32.32 0 00.33-.32v-2.81a.33.33 0 00-.29-.32zM14.67 11.55h-3a.33.33 0 00-.33.32v2.81a.32.32 0 00.33.32h3a.32.32 0 00.33-.32v-2.81a.33.33 0 00-.33-.32z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18.51 15.26\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M13.52 14.52a9.31 9.31 0 01-4 .74A15.11 15.11 0 015 14.52h-.09v-2.68a3.23 3.23 0 013.22-3.22h2.26a3.23 3.23 0 013.22 3.22v2.64zM6.16 7.63a4.56 4.56 0 00-2.7 3.81v.85A15.49 15.49 0 010 11.61s0-.14 0 0V8.9a3.08 3.08 0 013.08-3.1h2.34a3.92 3.92 0 00.74 1.83zM11.6 5.29a2.39 2.39 0 01-2.34 2.43 2.39 2.39 0 01-2.34-2.43 2.39 2.39 0 012.34-2.44 2.39 2.39 0 012.34 2.44zM5.57 4.46a2.35 2.35 0 01-1.2.33 2.38 2.38 0 112.38-2.38 3.33 3.33 0 00-1.18 2.05zM13.09 5.77h2.34a3.09 3.09 0 013.07 3.1v2.71c0-.14 0 0 0 0a15.57 15.57 0 01-3.43.68v-.85a4.56 4.56 0 00-2.7-3.81 3.92 3.92 0 00.72-1.83zM11.75 2.43v-.05a2.39 2.39 0 112.39 2.38 2.32 2.32 0 01-1.2-.33 3.39 3.39 0 00-1.19-2z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"100\" height=\"24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M50.004 7.797l-2.407 5.525c0 1.333.306 2.36.927 3.065.204.238.519.46.952.667l-.697 1.962a3.67 3.67 0 01-1.616-1.089 6.62 6.62 0 01-.808-1.187c-.544.82-1.156 1.387-1.854 1.686-.527.237-1.173.352-1.947.352-1.557 0-2.858-.498-3.887-1.502C37.553 16.211 37 14.77 37 12.946c0-.636.042-1.21.128-1.708.085-.498.238-.973.45-1.418.451-.904 1.055-1.594 1.829-2.069.774-.475 1.667-.713 2.687-.713.944 0 1.76.17 2.45.499.97.46 1.684 1.21 2.126 2.252l1.42-2.804 1.914.812zM45.403 13.3a1 1 0 00.025-.268v-.169a.317.317 0 00-.025-.122c0-.973-.306-1.84-.91-2.598-.613-.759-1.285-1.134-2.025-1.134-.875 0-1.59.337-2.126 1.019-.587.736-.876 1.763-.876 3.088 0 1.21.298 2.138.902 2.774.536.567 1.216.858 2.032.858.57 0 1.038-.153 1.387-.46.578-.52 1.122-1.509 1.616-2.988zM61.97 18.617h-2.517l-2.62-6.445-.62-1.77-.647 1.816-2.543 6.399h-2.688l4.627-11.05a39.743 39.743 0 01-.485-1.165 3.354 3.354 0 00-.255-.52c-.323-.46-.842-.69-1.548-.69-.246 0-.723.069-1.437.206l.28-2.13c.358-.1.647-.168.868-.207.221-.038.442-.061.663-.061 1.327 0 2.365.62 3.105 1.854.28.43.663 1.257 1.156 2.483l4.66 11.28zM72.363 9.238h-3.59v6.107c0 .444.018.728.043.858.034.123.12.238.28.338.154.068.358.107.605.107.187 0 .544-.039 1.088-.107l.374 2.022c-.28.054-.663.108-1.156.146a16.56 16.56 0 01-1.02.061c-.775 0-1.378-.107-1.82-.322a1.994 1.994 0 01-.962-.95c-.093-.207-.161-.482-.204-.835-.042-.345-.068-.82-.068-1.418V9.238l-1.667-.023c-.357 0-.689.145-.995.437-.093.1-.212.252-.374.46l-1.616-1.48c.306-.375.57-.65.79-.835.681-.56 1.413-.835 2.204-.835l8.096.023v2.253h-.008zM84.26 9.674c.417.904.622 1.947.622 3.127 0 1.226-.222 2.283-.672 3.172a5.093 5.093 0 01-1.965 2.107 5.39 5.39 0 01-2.798.774c-.604 0-1.08-.053-1.437-.168-.494-.154-.995-.453-1.506-.897V23h-2.798l.026-10.696c0-2.154.808-3.702 2.432-4.629 1.004-.567 2.144-.858 3.428-.858 1.063 0 1.998.245 2.815.743.8.49 1.42 1.196 1.854 2.115zm-2.797-.046c-.579-.636-1.267-.958-2.084-.958-.8 0-1.514.337-2.126 1.02-.29.337-.519.804-.68 1.41a7.628 7.628 0 00-.247 1.969c0 1.333.289 2.314.876 2.942.587.629 1.284.935 2.084.935.833 0 1.547-.322 2.151-.958.29-.337.519-.781.68-1.356a6.845 6.845 0 00.247-1.877c0-.682-.076-1.288-.22-1.817a3.324 3.324 0 00-.681-1.31zM99.306 9.192l-1.387-.023-.025 9.448h-2.62v-9.44h-4.303v9.448h-2.568V9.199c-.154 0-.34.054-.57.154a3.502 3.502 0 00-.774.551l-1.71-1.54c.63-.56 1.191-.92 1.667-1.096.477-.176 1.02-.26 1.616-.26h10.674v2.184z\" fill=\"#fff\" /><circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#D9FF8D\" /><path d=\"M17.603 7.85l-1.926 4.42c0 1.067.245 1.888.742 2.452.163.19.415.368.762.533l-.558 1.57a2.936 2.936 0 01-1.293-.87 5.287 5.287 0 01-.646-.951c-.435.656-.925 1.11-1.483 1.349-.422.19-.939.282-1.558.282-1.245 0-2.286-.399-3.11-1.202-.89-.852-1.333-2.005-1.333-3.463 0-.51.034-.969.102-1.368.068-.398.19-.778.36-1.134.361-.723.844-1.275 1.463-1.655.62-.38 1.334-.57 2.15-.57.756 0 1.409.135 1.96.399.776.367 1.347.968 1.7 1.802L16.073 7.2l1.53.65zm-3.68 4.402a.8.8 0 00.02-.215v-.135a.254.254 0 00-.02-.098c0-.779-.246-1.471-.729-2.078-.49-.607-1.027-.907-1.62-.907-.7 0-1.271.27-1.7.815-.47.588-.701 1.41-.701 2.47 0 .969.238 1.71.721 2.22.429.453.973.686 1.626.686.456 0 .83-.122 1.11-.368.462-.416.897-1.207 1.292-2.39z\" fill=\"#343B4C\" /></svg>);","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport DefaultLogo from '../svgs/admin__logo.svg'\r\nimport {renderAsset} from \"../../../front-app/src/js/helpers\";\r\n\r\nclass AdminLogo extends Component {\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n  render(){\r\n    return <a href='/' target=\"_blank\" className=\"admin__logo\">{this.props.adminLogo.assetType\r\n        ? renderAsset(this.props.adminLogo)\r\n        : <DefaultLogo />}\r\n    </a>;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    adminLogo: state.adminLogo\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AdminLogo);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg height=\"40\" viewBox=\"0 0 1792 1792\" width=\"40\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10L407 759q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z\" /></svg>);","import React, { Component } from \"react\";\nimport VectorSvg from '../../svgs/vector.svg';\n\nclass SortableHeader extends Component {\n  state = {\n    order: 'ASC'\n  }\n\n  clickHandler = () => {\n    this.setState(\n      { order: this.state.order === 'ASC' ? 'DESC' : 'ASC' },\n      () => this.props.sortingHandler(this.props.column.name, this.state.order)\n    )\n  }\n\n  render() {\n    const { column, sortingField } = this.props;\n    const { order } = this.state;\n\n\n    return <td onClick={this.clickHandler} className=\"admin-table__td \" title={column.name}>\n      {column.title}\n      <VectorSvg className={`vector-svg ${order === 'DESC' ? 'role-svg' : ''} ${sortingField === column.name ? 'vector-svg--active' : ''}`} />\n    </td>\n  }\n};\n\nexport default SortableHeader;\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nexport default class AdminTableRow extends Component {\r\n\r\n  render() {\r\n    const { row } = this.props;\r\n    return (\r\n      <tr className=\"admin-table-row\" key={row.id} title={row.id}>\r\n        <td\r\n          className=\"admin-table__td admin-table__td_check\"\r\n          key={\"choose\" + row.id}\r\n          title={\"choose\" + row.id}\r\n        >\r\n          <input type=\"checkbox\" />\r\n        </td>\r\n        {this.props.columns.map((column, index) => {\r\n          let tag = \"span\";\r\n          let text = _.get(row, column.name, '')\r\n          if(column.default && ! text){\r\n            text = column.default\r\n          }\r\n          let props = {\r\n            className: \"td__content\",\r\n            // children: [row[column.name]],\r\n            children: text\r\n          };\r\n          if (column.url && row.url) {\r\n            tag = \"a\";\r\n            props.href = row.url;\r\n            if (column.target) {\r\n              props.target = column.target;\r\n            }\r\n          }\r\n          if (column.editUrl && row.editUrl) {\r\n            tag = column.tag === \"Link\" ? Link : \"a\";\r\n            props.href = row.editUrl;\r\n            if (column.tag === \"Link\") {\r\n              props.to = {\r\n                pathname: row.editUrl,\r\n                data: row\r\n              };\r\n            }\r\n            if (column.target) {\r\n              props.target = column.target;\r\n            }\r\n          }\r\n          if (column.is_button) {\r\n            tag = \"button\";\r\n            props.title = column.button.title;\r\n            props.children = column.button.title;\r\n            props.onClick = () => {\r\n              column.button.function(row);\r\n            };\r\n          }\r\n          if (column.is_boolean) {\r\n            props.children = [\r\n              _.get(row, column.name, false).toString()\r\n            ];\r\n          }\r\n\r\n          return (\r\n            <td\r\n              className=\"admin-table__td td\"\r\n              key={column.name + row.id}\r\n              title={column.name + row.id}\r\n            >\r\n              {React.createElement(tag, props)}\r\n              {index === 0 && (\r\n                <span className=\"quick-action-menu\">\r\n                          {this.props.quickActions &&\r\n                          this.props.quickActions.map(\r\n                            (quickAction, index) => {\r\n                              let item = \"\";\r\n                              switch (quickAction.tag) {\r\n                                case \"a\":\r\n                                {\r\n                                  let href = quickAction.props.href.replace(\r\n                                    \":id\",\r\n                                    row.id\r\n                                  );\r\n\r\n                                  item = (\r\n                                    <a\r\n                                      className={\r\n                                        \"quick-action-menu__item \" +\r\n                                        (quickAction.className || \"\")\r\n                                      }\r\n                                      {...(quickAction.props || {})}\r\n                                      href={href}\r\n                                    >\r\n                                      {quickAction.title}\r\n                                    </a>\r\n                                  );\r\n                                }\r\n                                  break;\r\n                                case \"Link\":\r\n                                {\r\n                                  let href = quickAction.props.href.replace(\r\n                                    \":id\",\r\n                                    row.id\r\n                                  );\r\n\r\n                                  item = (\r\n                                    <Link\r\n                                      className={\r\n                                        \"quick-action-menu__item \" +\r\n                                        (quickAction.className || \"\")\r\n                                      }\r\n                                      {...(quickAction.props || {})}\r\n                                      to={href}\r\n                                    >\r\n                                      {quickAction.title}\r\n                                    </Link>\r\n                                  );\r\n                                }\r\n                                  break;\r\n                                case \"button\":\r\n                                  let route = quickAction.route.replace(\r\n                                    \":id\",\r\n                                    row.id\r\n                                  );\r\n                                  item = (\r\n                                    <button\r\n                                      className={\r\n                                        \"quick-action-menu__item \" +\r\n                                        (quickAction.className || \"\")\r\n                                      }\r\n                                      {...(quickAction.props || {})}\r\n                                      onClick={async () => {\r\n                                        if (quickAction.confirm) {\r\n                                          if (\r\n                                            !(await confirm(\r\n                                              quickAction.confirm\r\n                                            ))\r\n                                          ) {\r\n                                            return;\r\n                                          }\r\n                                        }\r\n                                        const resource = new Resource({\r\n                                          route\r\n                                        });\r\n                                        if (\r\n                                          _.isFunction(\r\n                                            resource[quickAction.method]\r\n                                          )\r\n                                        ) {\r\n                                          let response;\r\n                                          switch (quickAction.method) {\r\n                                            case \"get\":\r\n                                              response = await resource[\r\n                                                quickAction.method\r\n                                                ](row.id);\r\n                                              break;\r\n                                            case \"put\":\r\n                                              response = await resource[\r\n                                                quickAction.method\r\n                                                ](row.id, quickAction.data);\r\n                                              break;\r\n\r\n                                            default:\r\n                                              response = await resource[\r\n                                                quickAction.method\r\n                                                ]();\r\n                                              break;\r\n                                          }\r\n                                          _.isFunction(quickAction.after)\r\n                                            ? quickAction.after(response)\r\n                                            : \"\";\r\n                                        }\r\n                                      }}\r\n                                    >\r\n                                      {quickAction.title}\r\n                                    </button>\r\n                                  );\r\n                                  break;\r\n                                // case 'button': {\r\n                                //   let route = quickAction.route.replace(':id', row.id);\r\n                                //   item = <button\r\n                                //       className={'quick-action-menu__item ' + (quickAction.className || '')}\r\n                                //       {...quickAction.props || {}}\r\n                                //       onClick={async () => {\r\n                                //         if (quickAction.confirm) {\r\n                                //           if (!await confirm(quickAction.confirm)) {\r\n                                //             return;\r\n                                //           }\r\n                                //         }\r\n                                //         let resource = new Resource({route: route});\r\n                                //         if (_.isFunction(resource[quickAction.method])) {\r\n                                //           await resource[quickAction.method]();\r\n                                //           _.isFunction(quickAction.after) ? quickAction.after() : ''\r\n                                //         }\r\n                                //       }}\r\n                                //   >{quickAction.title}</button>;\r\n                                // }\r\n                                // break;\r\n\r\n                                default:\r\n                                  break;\r\n                              }\r\n                              if (quickAction.callBack) {\r\n                                item = (\r\n                                  <button\r\n                                    className={\r\n                                      \"quick-action-menu__item \" +\r\n                                      (quickAction.className || \"\")\r\n                                    }\r\n                                    onClick={() => quickAction.callBack(row)}\r\n                                  >\r\n                                    {quickAction.title}\r\n                                  </button>\r\n                                );\r\n                              }\r\n                              return (\r\n                                <span\r\n                                  className=\"quick-action-menu__item_wrapper\"\r\n                                  key={index + row.id}\r\n                                >\r\n                                    {item}\r\n                                  </span>\r\n                              );\r\n                            }\r\n                          )}\r\n                        </span>\r\n              )}\r\n            </td>\r\n          );\r\n        })}\r\n      </tr>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport SortableHeader from \"./AdminTableComponents/SortableHeader\";\r\nimport AdminTableRow from \"./AdminTableRow\";\r\nclass AdminTable extends Component {\r\n  /**\r\n   * Фильтр по введенной строке\r\n   * @param {{}} e\r\n   */\r\n\r\n  filterByKeyboard = e => {\r\n    if (_.isFunction(this.props.filterByKeyboard)) {\r\n      this.props.filterByKeyboard(e.target.value);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { search, sortingHandler, sortingField } = this.props;\r\n    return (\r\n      <div className=\"admin-table\">\r\n        {search && (\r\n          <div className=\"admin-table\">\r\n            <input\r\n              value={search.value}\r\n              onChange={search.changeHandler}\r\n              type=\"text\"\r\n              className=\"form-group\"\r\n            />\r\n          </div>\r\n        )}\r\n        <table>\r\n          <thead className=\"admin-table-head\">\r\n            <tr className=\"admin-table-row\">\r\n              <td className=\"admin-table__td admin-table__td_check\">\r\n                <input type=\"checkbox\" />\r\n              </td>\r\n              {this.props.columns.map(column =>\r\n                sortingHandler ? (\r\n                  <SortableHeader\r\n                    key={column.name}\r\n                    column={column}\r\n                    sortingHandler={sortingHandler}\r\n                    sortingField={sortingField}\r\n                  />\r\n                ) : (\r\n                  <td\r\n                    className=\"admin-table__td \"\r\n                    key={column.name}\r\n                    title={column.name}\r\n                  >\r\n                    {column.title}\r\n                  </td>\r\n                )\r\n              )}\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"admin-table-body\">\r\n            {this.props.rows.map(row => (\r\n              <AdminTableRow key={row.id} row={row} {...this.props} />\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminTable;\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"7\" height=\"10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M1 8.5L5 5 1 1\" stroke=\"#343B4C\" strokeWidth=\"1.5\" /></svg>);","import React, { Component } from \"react\";\r\nimport Left from \"../svgs/left.svg\";\r\nimport Right from \"../svgs/right.svg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"../sass/components/admin-pagination.scss\";\r\n\r\nclass Pagination extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentPage: 1\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Задает текущую страницу\r\n   * @param num\r\n   */\r\n  setCurrentPage(num) {\r\n    num = parseInt(num) || 1;\r\n    if (num <= 1) {\r\n      this.setState({ currentPage: 1 });\r\n      this.props.changePage(1);\r\n      return;\r\n    }\r\n    if (num >= this.props.pageCount) {\r\n      this.setState({ currentPage: this.props.pageCount });\r\n      this.props.changePage(this.props.pageCount);\r\n      return;\r\n    }\r\n    this.setState({ currentPage: num });\r\n    this.props.changePage(num);\r\n  }\r\n\r\n  /**\r\n   * надо проверить, чтобы при обновлении props.pageCount state.currentPage было меньше\r\n   */\r\n  componentDidUpdate() {\r\n    if (this.state.currentPage > this.props.pageCount) {\r\n      this.setCurrentPage(this.props.currentPage || this.props.pageCount);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"pagination\">\r\n        <div className=\"version\">\r\n          <p className=\"pagination__version\">\r\n            {/*App creating*/}\r\n            {/*with*/}\r\n            {/*<a className=\"pagination__link\"*/}\r\n            {/*target=\"_blank\"*/}\r\n            {/*href=\"https://altrp.com/\">Altrp</a>*/}\r\n            {/*/*/}\r\n            Version {altrp_version}{\" \"}\r\n          </p>\r\n        </div>\r\n        <div className=\"pagination__buttons\">\r\n          <p className=\"pagination__text\">{this.props.itemsCount} Items</p>\r\n          <div\r\n            className={\r\n              this.state.currentPage <= 1\r\n                ? \" pagination__disabled pagination__toStart pagination__move\"\r\n                : \"pagination__move pagination__toStart\"\r\n            }\r\n            onClick={() => this.setCurrentPage(1)}\r\n          >\r\n            <Right className=\"right__arrow\" />\r\n            <Right className=\"right__arrow\" />\r\n          </div>\r\n          <div\r\n            className={\r\n              this.state.currentPage <= 1\r\n                ? \"pagination__disabled pagination__prev pagination__move\"\r\n                : \"pagination__move pagination__prev\"\r\n            }\r\n            onClick={() => this.setCurrentPage(--this.state.currentPage)}\r\n          >\r\n            <Right className=\"right__arrow\" />{\" \"}\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"pagination__indicator\"\r\n            value={this.state.currentPage || 1}\r\n            onChange={e =>\r\n              this.setCurrentPage(e.target.value.replace(/[^0-9]/g, \"\") || 1)\r\n            }\r\n          />\r\n          <div className=\"pagination__map\">of {this.props.pageCount}</div>\r\n          <div\r\n            className={\r\n              this.state.currentPage >= this.props.pageCount\r\n                ? \"pagination__disabled pagination__next pagination__move\"\r\n                : \"pagination__move pagination__next\"\r\n            }\r\n            onClick={() => {\r\n              this.setCurrentPage(++this.state.currentPage);\r\n            }}\r\n          >\r\n            {\" \"}\r\n            <Right />{\" \"}\r\n          </div>\r\n          <div\r\n            className={\r\n              this.state.currentPage >= this.props.pageCount\r\n                ? \"pagination__disabled pagination__move\"\r\n                : \"pagination__move\"\r\n            }\r\n            onClick={() => this.setCurrentPage(this.props.pageCount)}\r\n          >\r\n            <Right /> <Right />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Pagination;\r\n","import IconsManager from \"../../../editor/src/js/classes/modules/IconsManager\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport { isEmpty } from \"lodash\";\r\n\r\nexport function redirect(url) {\r\n  url = url || '/';\r\n  window.location.assign(url);\r\n}\r\nexport function generateId() {\r\n  return '_' + Math.random().toString(36).substr(2, 9);\r\n}\r\n/**\r\n * @return {IconsManager}\r\n* */\r\nexport function iconsManager() {\r\n  if (!window.iconsManager) {\r\n    window.iconsManager = new IconsManager();\r\n  }\r\n  return window.iconsManager;\r\n}\r\n\r\nexport async function logout() {\r\n  let res = await (new Resource({ route: '/logout' })).post();\r\n  redirect(res.location)\r\n}\r\n\r\nexport function pageReload() {\r\n  document.location.reload(true);\r\n}\r\n\r\nconst a = { \"Ё\": \"Yo\", \"Й\": \"I\", \"Ц\": \"Ts\", \"У\": \"U\", \"К\": \"K\", \"Е\": \"E\", \"Н\": \"N\", \"Г\": \"G\", \"Ш\": \"Sh\", \"Щ\": \"Sch\", \"З\": \"Z\", \"Х\": \"H\", \"Ъ\": \"\", \"ё\": \"yo\", \"й\": \"i\", \"ц\": \"ts\", \"у\": \"u\", \"к\": \"k\", \"е\": \"e\", \"н\": \"n\", \"г\": \"g\", \"ш\": \"sh\", \"щ\": \"sch\", \"з\": \"z\", \"х\": \"h\", \"ъ\": \"\", \"Ф\": \"F\", \"Ы\": \"I\", \"В\": \"V\", \"А\": \"a\", \"П\": \"P\", \"Р\": \"R\", \"О\": \"O\", \"Л\": \"L\", \"Д\": \"D\", \"Ж\": \"ZH\", \"Э\": \"E\", \"ф\": \"f\", \"ы\": \"i\", \"в\": \"v\", \"а\": \"a\", \"п\": \"p\", \"р\": \"r\", \"о\": \"o\", \"л\": \"l\", \"д\": \"d\", \"ж\": \"zh\", \"э\": \"e\", \"Я\": \"Ya\", \"Ч\": \"CH\", \"С\": \"S\", \"М\": \"M\", \"И\": \"I\", \"Т\": \"T\", \"Ь\": \"\", \"Б\": \"B\", \"Ю\": \"YU\", \"я\": \"ya\", \"ч\": \"ch\", \"с\": \"s\", \"м\": \"m\", \"и\": \"i\", \"т\": \"t\", \"ь\": \"\", \"б\": \"b\", \"ю\": \"yu\" };\r\n\r\n/**\r\n * Транслитерация\r\n * @param {string}str\r\n * @return {string}\r\n */\r\nexport function transliterate(str) {\r\n  if (!str) {\r\n    return \"\";\r\n  }\r\n  return str.split('').map(function (char) {\r\n    return _.isUndefined(a[char]) ? char : a[char];\r\n  }).join(\"\");\r\n}\r\n\r\n/**\r\n * Парсит строку в name для БД\r\n * @param {string}str\r\n * @return {string}\r\n */\r\nexport function titleToName(str) {\r\n  str = transliterate(str);\r\n  return str.toLowerCase().replace(/^\\d+/, '').replace(/[^\\d\\w]/g, '_');\r\n\r\n}\r\n\r\nexport function titleToPath(str) {\r\n  str = transliterate(str);\r\n  return str.toLowerCase().replace(/^\\d+/, '').replace(/[^\\d\\w]/g, '-');\r\n\r\n}\r\n/** @function objectDeepCleaning\r\n  * Удаляет все свойства id, и чистит settings (пока нет) todo: нужна оптимизация\r\n  * @param {object} collection\r\n  * @return {object} Объект после удаления всех свойств id, и чистки settings\r\n */\r\nexport function objectDeepCleaning(collection) {\r\n  return collection;\r\n  if (typeof collection !== \"object\" || collection === null) return collection;\r\n  if (collection.id) delete collection.id;\r\n\r\n  if (Array.isArray(collection)) {\r\n    for (let index = 0; index < collection.length; index++) {\r\n      const element = collection[index];\r\n      objectDeepCleaning(element);\r\n    }\r\n  } else {\r\n    if (collection.hasOwnProperty(\"settings\")) deleteEmptyPropsDeep(collection.settings);\r\n    if (isEmpty(collection.settings)) delete collection.settings; // удаляем settings, если оно - пустой объект\r\n    for (const key in collection) {\r\n      if (collection.hasOwnProperty(key)) {\r\n        const element = collection[key];\r\n        objectDeepCleaning(element);\r\n      }\r\n    }\r\n  }\r\n  return collection;\r\n}\r\n/** @function deleteEmptyPropsDeep\r\n  * Удаляет в объекте все свойства, значения которых - null, или \"\", или {}\r\n  * @param {object} collection\r\n */\r\nexport function deleteEmptyPropsDeep(collection) {\r\n  const deleteProps = [];\r\n  for (const key in collection) {\r\n    if (collection[key] === null || collection[key] === \"\") {\r\n      deleteProps.push(key);\r\n    }\r\n    deleteProps.forEach(key => delete collection[key]);\r\n\r\n    if (typeof collection[key] === \"object\") {\r\n      deleteEmptyPropsDeep(collection[key]);\r\n      if (isEmpty(collection[key])) delete collection[key];\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function buildPagesTree(pages) {\r\n  const level = 0;\r\n  const tree = [];\r\n  const roots = pages.filter(({ parent_page_id }) => parent_page_id === null);\r\n\r\n  if (!roots.length) return pages;\r\n\r\n  roots.forEach(root => {\r\n    tree.push(root);\r\n    treeRecursion(root.id, level + 1);\r\n  });\r\n\r\n  function treeRecursion(parentId, level) {\r\n    const children = pages.filter(({ parent_page_id }) => parent_page_id === parentId);\r\n    children.forEach(page => {\r\n      page.title = \"—\".repeat(level) + page.title;\r\n      tree.push(page);\r\n      treeRecursion(page.id, level + 1);\r\n    });\r\n  }\r\n\r\n  return tree;\r\n}\r\n\r\nexport function filterUsers(users, roleFilter) {\r\n  return users.filter(user => user.roles.some(role => role.id === roleFilter));\r\n}\r\n\r\n\r\nexport function sortUsers(users, sortingField, order) {\r\n  const sortedUsers = users.sort((a, b) => {\r\n    if (a[sortingField] < b[sortingField]) {\r\n      return -1;\r\n    }\r\n    if (a[sortingField] > b[sortingField]) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n\r\n  return order === 'ASC' ? sortedUsers : sortedUsers.reverse();\r\n}","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport Pagination from \"./Pagination\";\r\nimport { buildPagesTree } from \"../js/helpers\";\r\n\r\nexport default class AllPages extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pages: [],\r\n      currentPage: 1,\r\n      pagesSearch: \"\"\r\n    };\r\n    this.resource = new Resource({ route: \"/admin/ajax/pages\" });\r\n    this.itemsPerPage = 20;\r\n  }\r\n\r\n  getPages = async s => {\r\n    if (typeof s === 'object') {\r\n      s = undefined;\r\n    }\r\n    let res = await this.resource.getQueried({ s });\r\n    this.setState(state => {\r\n      return { ...state, pages: res, pagesSearch: s };\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getPages();\r\n  }\r\n\r\n  changeSearchHandler = e => {\r\n    this.getPages(e.target.value);\r\n  };\r\n\r\n  render() {\r\n    const { currentPage, pages, pagesSearch } = this.state;\r\n    return (\r\n      <div className=\"admin-pages admin-page\">\r\n        <div className=\"admin-heading\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n              Pages\r\n            </a>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">All Pages</span>\r\n          </div>\r\n          <Link className=\"btn\" to=\"/admin/pages/add\">\r\n            Add New\r\n          </Link>\r\n          <div className=\"admin-filters\">\r\n            <span className=\"admin-filters__current\">\r\n              All ({this.state.pages.length || \"0\"})\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n          <AdminTable\r\n            columns={[\r\n              {\r\n                name: \"title\",\r\n                title: \"Title\",\r\n                editUrl: true,\r\n                tag: \"Link\"\r\n              },\r\n              {\r\n                name: \"author\",\r\n                title: \"Author\"\r\n              },\r\n              {\r\n                name: \"path\",\r\n                title: \"Path\",\r\n                url: true,\r\n                target: \"_blank\"\r\n              }\r\n            ]}\r\n            quickActions={[\r\n              {\r\n                tag: \"button\",\r\n                route: `/admin/ajax/pages/:id`,\r\n                method: \"delete\",\r\n                confirm: \"Are You Sure?\",\r\n                after: this.getPages,\r\n                className: \"quick-action-menu__item_danger\",\r\n                title: \"Trash\"\r\n              }\r\n            ]}\r\n            rows={buildPagesTree(pages).slice(\r\n              currentPage * this.itemsPerPage - this.itemsPerPage,\r\n              currentPage * this.itemsPerPage\r\n            )}\r\n            search={{\r\n              value: pagesSearch || \"\",\r\n              changeHandler: this.changeSearchHandler\r\n            }}\r\n            getPages={this.getPages}\r\n          />\r\n          <Pagination\r\n            pageCount={Math.ceil(pages.length / this.itemsPerPage) || 1}\r\n            currentPage={currentPage}\r\n            changePage={page => {\r\n              if (currentPage !== page) {\r\n                this.setState({ currentPage: page });\r\n              }\r\n            }}\r\n            itemsCount={pages.length}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport {setAdminDisable, setAdminEnable} from \"../js/store/admin-state/actions\";\r\nimport store from '../js/store/store';\r\nimport {connect} from \"react-redux\";\r\nimport {pageReload} from \"../js/helpers\";\r\n\r\n/**\r\n * Компонент вкладки обновления админки\r\n * @class\r\n */\r\nclass Updates extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      needUpdate: false,\r\n    };\r\n    this.updateAltrp = this.updateAltrp.bind(this);\r\n  }\r\n  async componentDidMount(){\r\n    store.dispatch(setAdminDisable());\r\n    let res = await (new Resource({route:'/admin/ajax/check_update'})).post( {});\r\n    if(res.result){\r\n      this.setNeedUpdate();\r\n    }\r\n    store.dispatch(setAdminEnable());\r\n  }\r\n\r\n  /**\r\n   * Вызывается, если нужно обновление\r\n   */\r\n  setNeedUpdate() {\r\n    this.setState(state => {\r\n      return {...state, needUpdate: true};\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Вызывается, если не нужно обновление\r\n   */\r\n  setDontNeedUpdate() {\r\n    this.setState(state => {\r\n      return {...state, needUpdate: false};\r\n    })\r\n  }\r\n  async installTestAltrp(){\r\n\r\n    store.dispatch(setAdminDisable());\r\n    try{\r\n      let res = await (new Resource({route:'/admin/ajax/install_test_altrp'})).post( {});\r\n      setTimeout(()=>{\r\n            res.result ? pageReload() : this.setNeedUpdate();\r\n          }\r\n          ,1300);\r\n    } catch(error){\r\n      store.dispatch(setAdminEnable());\r\n    }\r\n  }\r\n  /**\r\n   * Отправляет запрос на обноление приложения\r\n   */\r\n  async updateAltrp(){\r\n    store.dispatch(setAdminDisable());\r\n    try{\r\n      let res = await (new Resource({route:'/admin/ajax/update_altrp'})).post( {});\r\n    setTimeout(()=>{\r\n          res.result ? pageReload() : this.setNeedUpdate();\r\n        }\r\n    ,1300);\r\n    } catch(error) {\r\n      store.dispatch(setAdminEnable());\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let data = {\r\n      updateMessage: 'You have the latest version of Altrp.',\r\n    };\r\n    if (this.state.needUpdate) {\r\n      data.updateMessage = 'A fresh version of Altrp is available for updating.';\r\n    }\r\n    const {testEnable} = this.props.adminState;\r\n    return <div className=\"admin-updates p-4\">\r\n      <div className=\"admin-caption mt-1\">\r\n        {data.updateMessage}\r\n      </div>\r\n      {\r\n        this.state.needUpdate ?\r\n          <button className=\"btn_success btn\" onClick={this.updateAltrp}>Update</button>\r\n          :  <button className=\"btn\"  onClick={this.updateAltrp}>Re-install Now</button>}\r\n      {testEnable && <React.Fragment>\r\n\r\n        <div className=\"admin-caption mt-1\">\r\n          Install Test Version of Altrp\r\n        </div>\r\n        <button className=\"btn_success btn\" onClick={this.installTestAltrp}>Install Test</button>\r\n\r\n      </React.Fragment>}\r\n    </div>\r\n\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  return{adminState: state.adminState}\r\n}\r\nexport default connect(mapStateToProps)(Updates);","import styled, { keyframes} from 'styled-components';\r\n\r\nexport const defaultBaseColor = \"#eee\";\r\n\r\nexport const defaultHighlightColor = \"#f5f5f5\";\r\n\r\nexport const skeletonKeyframes = (duration, delay) => keyframes`\r\n  0% {\r\n    background-position: -200px 0;\r\n  }\r\n  ${\r\n  delay > 0\r\n    ? `${Math.floor((1 / (duration + delay)) * duration * 100)}% {\r\n    background-position: calc(200px + 100%) 0;\r\n  }`\r\n    : undefined\r\n}\r\n  100% {\r\n    background-position: calc(200px + 100%) 0;\r\n  }\r\n`;\r\nconst SkeletonSpan = styled.span`\r\n  animation: ${skeletonKeyframes} 1.2s ease-in-out infinite;\r\n  background-color: ${({color})=>`${color || defaultBaseColor}`};\r\n  background-size: 200px 100%;\r\n  background-repeat: no-repeat;\r\n  background-image: linear-gradient(90deg, ${({highlightColor, color})=>{\r\n    return `${color || defaultBaseColor}, ${highlightColor || defaultHighlightColor}, ${color || defaultBaseColor}`;\r\n  }});\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  height: 100%;\r\n`;\r\nconst Skeleton = (props) => <div className={props.className}><SkeletonSpan {...props} className=\"altrp-skeleton__span\"/></div>\r\nexport default Skeleton;\r\n","import React, {Component} from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\n\r\nclass AutoUpdateInput extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.resource = new Resource({\r\n      route: this.props.route,\r\n    });\r\n\r\n    this.state = {\r\n      value: this.props.value || '',\r\n      disabled: ! this.props.value,\r\n    };\r\n    this.changeValue = this.changeValue.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Обновление роута или значения через пропсы\r\n   * @param {{}} prevProps\r\n   * @param {{}} prevState\r\n   */\r\n  componentDidUpdate(prevProps, prevState){\r\n    if(prevProps.route !== this.props.route){\r\n      this.resource = new Resource({\r\n        route: this.props.route,\r\n      });\r\n      console.log(this.resource);\r\n    }\r\n    if(prevProps.value !== this.props.value && this.props.value !== this.state.value){\r\n      // console.log(this.props.value);\r\n      this.setState(state =>({...state, value: this.props.value}));\r\n    }\r\n  }\r\n\r\n  async componentDidMount(){\r\n    if(this.props.value !== undefined || ! this.props.resourceid){\r\n      return;\r\n    }\r\n    let res = await this.resource.get(this.props.resourceid);\r\n    this.setState(state=>{\r\n      return{...state,\r\n        value: res[this.props.resourceid] || '',\r\n        disabled: false,\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * При нажатии на enter тоже обновим данные\r\n   * @param e\r\n   */\r\n  onKeyDown(e){\r\n    if(e.keyCode === 13){\r\n      this.changeValue(e);\r\n    }\r\n  }\r\n\r\n  onChange(e){\r\n    let newValue = e.target.value;\r\n    this.setState(state=>{\r\n      return{...state,\r\n        value: newValue,\r\n      }\r\n    });\r\n    if(_.isFunction(this.props.changevalue)){\r\n      this.props.changevalue(newValue);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Запрос на именение поля\r\n   * @param e\r\n   * @return {Promise<void>}\r\n   */\r\n  async changeValue(e){\r\n    let newValue = e.target.value;\r\n    this.setState(state=>{\r\n      return{...state,\r\n        disabled: true,\r\n      }\r\n    });\r\n    if(_.isFunction(this.props.onBlur)){\r\n      this.props.onBlur(newValue);\r\n    }\r\n    let res = await this.resource.put(this.props.resourceid, {value: newValue, column_value: newValue});\r\n\r\n    this.setState(state=>{\r\n      return{...state,\r\n        disabled: false,\r\n      }\r\n    });\r\n  }\r\n  render(){\r\n    let {className} = this.props;\r\n    if(this.state.disabled){\r\n      className += ' pointer-event-none';\r\n    }\r\n    const inputProps = {...this.props};\r\n    delete inputProps.changevalue;\r\n    return<input{...inputProps} className={className}\r\n                onBlur={this.changeValue}\r\n                onKeyDown={this.onKeyDown}\r\n                onChange={this.onChange}\r\n                value={this.state.value}/>\r\n  }\r\n}\r\n\r\nexport default AutoUpdateInput","import Skeleton from '../../../editor/src/js/components/altrp-image/Skeleton';\r\nimport React, {Component} from \"react\";\r\nimport AutoUpdateInput from \"./AutoUpdateInput\";\r\nimport {iconsManager} from \"../js/helpers\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport {SketchPicker} from \"react-color\"\r\n\r\nclass StylesSettings extends Component {\r\n  state = {\r\n    iconFile: null,\r\n    uploaderClasses: \"admin-assets__uploader uploader\",\r\n    itemDeleteClasses: \"item__delete\",\r\n    imageLazyLoading: 'none',\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const imageLazyLoading = (await new Resource({route: '/admin/ajax/settings'}).get('altrp_image_lazy')).altrp_image_lazy;\r\n    const skeletonColor = (await new Resource({route: '/admin/ajax/settings'}).get('altrp_skeleton_color')).altrp_skeleton_color;\r\n    const skeletonHighlightColor = (await new Resource({route: '/admin/ajax/settings'}).get('altrp_skeleton_highlight_color')).altrp_skeleton_highlight_color;\r\n\r\n    this.setState(state => ({\r\n      ...state,\r\n      imageLazyLoading,\r\n      skeletonColor,\r\n      skeletonHighlightColor,\r\n    }));\r\n  }\r\n\r\n  /**\r\n   * Изменить ленивую загрузку\r\n   * @param e\r\n   * @return {Promise<void>}\r\n   */\r\n\r\n  updateImageLazyLoading = async (e) => {\r\n    let value = e.target.value;\r\n    await new Resource({route: '/admin/ajax/settings'}).put('altrp_image_lazy', {value});\r\n    this.setState(state => ({\r\n      ...state,\r\n      imageLazyLoading: value,\r\n    }))\r\n  };\r\n\r\n  onDrop = e => {\r\n    e.persist();\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState(state => {\r\n      return {\r\n        ...state,\r\n        uploaderClasses: \"admin-assets__uploader uploader\",\r\n        iconFile: e.dataTransfer.files[0]\r\n      };\r\n    });\r\n  };\r\n\r\n  onDragOver = e => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState(state => {\r\n      return {\r\n        ...state,\r\n        uploaderClasses: \"admin-assets__uploader uploader uploader_drag-over\"\r\n      };\r\n    });\r\n  };\r\n\r\n  onDragLeave = e => {\r\n    this.setState(state => {\r\n      return {...state, uploaderClasses: \"admin-assets__uploader uploader\"};\r\n    });\r\n  };\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    new Resource({route: \"/admin/ajax/favicon\"})\r\n        .postFile(this.state.iconFile)\r\n        .then(() => alert(\"Icon successfully  uploaded.\"));\r\n  };\r\n  /**\r\n   * Меняем цвет мерцания скелетона картинок\r\n   */\r\n  skeletonHighlightColorChange = async (value) => {\r\n    let skeletonHighlightColor = _.isString(value) ? value : `rgba(${value.rgb.r}, ${value.rgb.g}, ${value.rgb.b}, ${value.rgb.a})`;\r\n    await new Resource({route: '/admin/ajax/settings'}).put('altrp_skeleton_highlight_color', {value:skeletonHighlightColor});\r\n    this.setState(state =>({...state, skeletonHighlightColor}));\r\n  };\r\n  /**\r\n   * Меняем основной цвет скелетона картинок\r\n   */\r\n  skeletonColorChange = async (value) => {\r\n    let skeletonColor = _.isString(value) ? value : `rgba(${value.rgb.r}, ${value.rgb.g}, ${value.rgb.b}, ${value.rgb.a})`;\r\n    await new Resource({route: '/admin/ajax/settings'}).put('altrp_skeleton_color', {value:skeletonColor});\r\n    this.setState(state =>({...state, skeletonColor}));\r\n  };\r\n\r\n  render() {\r\n    let UploadIcon = iconsManager().getIconComponent(\"upload\");\r\n    const {\r\n      iconFile,\r\n      imageLazyLoading,\r\n    } = this.state;\r\n    let {\r\n      skeletonColor = '#ccc',\r\n      skeletonHighlightColor = '#d0d0d0',\r\n    } = this.state;\r\n    skeletonColor = skeletonColor || '#ccc';\r\n    skeletonHighlightColor = skeletonHighlightColor || '#d0d0d0';\r\n    return (\r\n        <div className=\"admin-styles-settings\">\r\n          <table>\r\n            <tbody className=\"admin-settings-table-row\">\r\n            <tr className=\"admin-settings-table-row\">\r\n              <td className=\"admin-settings-table__td row-text\" width=\"10%\">\r\n                <label htmlFor=\"settings-container-width\">\r\n                  Container Width:\r\n                </label>\r\n              </td>\r\n              <td className=\"admin-settings-table__td\">\r\n                <AutoUpdateInput\r\n                    type=\"number\"\r\n                    route=\"/admin/ajax/settings\"\r\n                    resourceid=\"container_width\"\r\n                    id=\"settings-container-width\"\r\n                    className=\"form__input w-25\"\r\n                />\r\n              </td>\r\n            </tr>\r\n\r\n            <tr className=\"admin-settings-table-row\">\r\n              <td className=\"admin-settings-table__td row-text\" width=\"10%\">\r\n                Image Lazy Loading:\r\n              </td>\r\n              <td className=\"admin-settings-table__td\">\r\n                <div className=\"form-group w-25\">\r\n                  <select className=\"form-control\" value={imageLazyLoading} onChange={this.updateImageLazyLoading}>\r\n                    <option value=\"none\">None</option>\r\n                    <option value=\"color\">Color</option>\r\n                    <option value=\"skeleton\">Skeleton</option>\r\n                  </select></div>\r\n              </td>\r\n            </tr>\r\n            {imageLazyLoading === 'skeleton' &&\r\n            <tr className=\"admin-settings-table-row\">\r\n              <td className=\"admin-settings-table__td row-text\" width=\"10%\">\r\n                Skeleton Colors:\r\n              </td>\r\n              <td className=\"admin-settings-table__td admin-skeleton-settings\">\r\n                <div className=\"row\">\r\n                  <div className=\"control-color-colorPicker pr-5\">\r\n                    <SketchPicker presetColors={[]}\r\n                                  color={skeletonColor}\r\n                                  onChange={this.skeletonColorChange}\r\n                                  style={{\r\n                                    padding: 0,\r\n                                    boxShadow: 'none',\r\n                                  }}\r\n                                  name=\"colorPicker\"\r\n                                  className=\"sketchPicker\">\r\n                    </SketchPicker>\r\n                  </div>\r\n                  <div className=\"control-color-colorPicker pr-5\">\r\n                    <SketchPicker presetColors={[]}\r\n                                  color={skeletonHighlightColor}\r\n                                  onChange={this.skeletonHighlightColorChange}\r\n                                  style={{\r\n                                    padding: 0,\r\n                                    boxShadow: 'none',\r\n                                  }}\r\n                                  name=\"colorPicker\"\r\n                                  className=\"sketchPicker\">\r\n                    </SketchPicker>\r\n                  </div>\r\n                  <div className=\"admin-skeleton pr-5 position-relative\">\r\n                      <Skeleton className=\"altrp-skeleton\"\r\n                                color={skeletonColor}\r\n                                highlightColor={skeletonHighlightColor}/>\r\n                  </div>\r\n                  <button className=\"admin-media-input__button btn btn_success align-self-end\" onClick={async()=>{\r\n                    await this.skeletonHighlightColorChange('#d0d0d0');\r\n                    await this.skeletonColorChange('#ccc');\r\n                  }}>\r\n                    Reset Colors\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>}\r\n            </tbody>\r\n          </table>\r\n          <form onSubmit={this.submitHandler}>\r\n            <legend>Add Favicon:</legend>\r\n            <div\r\n                className={this.state.uploaderClasses}\r\n                onDragLeave={this.onDragLeave}\r\n                onDrop={this.onDrop}\r\n                onDragOver={this.onDragOver}\r\n            >\r\n              <label className=\"uploader__label d-flex flex-column align-items-center\">\r\n                <UploadIcon width={100} height={100} className=\"icon\"/>\r\n                <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={e => this.setState({iconFile: e.target.files[0]})}\r\n                    className=\"uploader__input\"\r\n                />\r\n                <span className=\"uploader__text text text_bold\">\r\n                Drag or Choose File\r\n              </span>\r\n              </label>\r\n            </div>\r\n            {iconFile && (\r\n                <div className=\"centred mt-2\">\r\n                  <button\r\n                      className=\"admin-settings-button btn btn-sm\"\r\n                      type=\"submit\"\r\n                  >\r\n                    Upload icon\r\n                  </button>\r\n                </div>\r\n            )}\r\n          </form>\r\n          {/* <table>\r\n          <tbody className=\"admin-settings-table-row\">\r\n            <tr className=\"admin-settings-table-row\">\r\n              <td\r\n                className=\"admin-settings-table__td row-text pb-0\"\r\n                width=\"10%\"\r\n              >\r\n                <label htmlFor=\"settings-container-width\">\r\n                  Color Scheme Pallet\r\n                </label>\r\n              </td>\r\n            </tr>\r\n            <tr className=\"admin-settings-table-row\">\r\n              <td className=\"admin-settings-table__td row-text\" width=\"10%\">\r\n                <ColorSchemeSettings />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table> */}\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StylesSettings;\r\n","import Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass Import extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.inputFile = React.createRef();\r\n    this.inputCustomFile = React.createRef();\r\n    this.resource = new Resource({route:'/admin/ajax/import/settings'});\r\n    this.custom_resource = new Resource({route:'/admin/ajax/import/custom_settings'});\r\n  }\r\n\r\n  /**\r\n   * Отправка формы\r\n   */\r\n  onSubmit  = async e => {\r\n    e.preventDefault();\r\n    let res = await this.resource.postFiles(this.inputFile.current.files, 'application/zip,application/x-zip,application/x-zip-compressed');\r\n    if( res.success ){\r\n      await alert('Success');\r\n      window.location.href = '/admin/dashboard';\r\n    } else {\r\n      alert('Error ' + res.message)\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Отправка формы\r\n   */\r\n  onCustomSubmit  = async e => {\r\n    e.preventDefault();\r\n    let res = await this.custom_resource.postFiles(this.inputCustomFile.current.files, 'application/zip,application/x-zip,application/x-zip-compressed');\r\n    if( res.success ){\r\n      await alert('Success');\r\n      window.location.href = '/admin/dashboard';\r\n    } else {\r\n      alert('Error ' + res.message)\r\n    }\r\n  };\r\n  /**\r\n   * Отрисовываем вкладку импорта админки\r\n   */\r\n  render() {\r\n\r\n    return <div><form\r\n                 onSubmit={this.onSubmit}\r\n                 method=\"post\"\r\n                 className=\"admin-updates p-4\">\r\n      <div className=\"admin-caption mt-1\">\r\n        Export All App Settings in Archive\r\n      </div>\r\n      <input type=\"hidden\"\r\n             name=\"_token\"\r\n             value={_token}/>\r\n      <input type=\"file\"\r\n             ref={this.inputFile}\r\n             accept={'.zip,application/zip,application/x-zip,application/x-zip-compressed'}\r\n             name=\"file\"\r\n             required/>\r\n      <button className=\"btn_success btn\">Import ZIP Archive</button>\r\n    </form>\r\n\r\n    <form\r\n      onSubmit={this.onCustomSubmit}\r\n      method=\"post\"\r\n      className=\"admin-updates p-4\">\r\n      <div className=\"admin-caption mt-1\">\r\n        Export All App Settings in Archive\r\n      </div>\r\n      <input type=\"hidden\"\r\n             name=\"_token\"\r\n             value={_token}/>\r\n      <input type=\"file\"\r\n             ref={this.inputCustomFile}\r\n             accept={'.zip,application/zip,application/x-zip,application/x-zip-compressed'}\r\n             name=\"file\"\r\n             required/>\r\n      <button className=\"btn_success btn\">Import ZIP Archive (JSON)</button>\r\n    </form></div>\r\n  }\r\n}\r\n\r\nexport default Import\r\n","\r\n/*import React, { useEffect, useState, useRef, useCallback } from \"react\"\r\nimport styled from 'styled-components'\r\nimport { useTable, useRowSelect } from 'react-table'\r\n\r\n//import makeData from './makeData'\r\n\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n\r\n  table {\r\n    border-spacing: 0;\r\n    border: 1px solid black;\r\n\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.5rem;\r\n      border-bottom: 1px solid black;\r\n      border-right: 1px solid black;\r\n\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\n\r\n\r\nconst IndeterminateCheckbox = React.forwardRef(\r\n  ({ indeterminate, ...rest }, ref) => {\r\n    const defaultRef = React.useRef()\r\n    const resolvedRef = ref || defaultRef\r\n\r\n    React.useEffect(() => {\r\n      resolvedRef.current.indeterminate = indeterminate\r\n    }, [resolvedRef, indeterminate])\r\n\r\n    return (\r\n      <>\r\n        <input type=\"checkbox\" ref={resolvedRef} {...rest} />\r\n      </>\r\n    )\r\n  }\r\n)\r\n\r\nfunction Table({ columns, data }) {\r\n  // Use the state and functions returned from useTable to build your UI\r\n\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    rows,\r\n    prepareRow,\r\n    selectedFlatRows,\r\n    state: { selectedRowIds },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n    },\r\n    useRowSelect,\r\n    hooks => {\r\n      hooks.visibleColumns.push(columns => [\r\n        // Let's make a column for selection\r\n        {\r\n          id: 'selection',\r\n          // The header can use the table's getToggleAllRowsSelectedProps method\r\n          // to render a checkbox\r\n          Header: ({ getToggleAllRowsSelectedProps }) => (\r\n            <div>\r\n              <IndeterminateCheckbox {...getToggleAllRowsSelectedProps()} />\r\n            </div>\r\n          ),\r\n          // The cell can use the individual row's getToggleRowSelectedProps method\r\n          // to the render a checkbox\r\n          Cell: ({ row }) => (\r\n            <div>\r\n              <IndeterminateCheckbox {...row.getToggleRowSelectedProps()} />\r\n            </div>\r\n          ),\r\n        },\r\n        ...columns,\r\n      ])\r\n    }\r\n  )\r\n\r\n  // Render the UI for your table\r\n  return (\r\n    <>\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n        {headerGroups.map(headerGroup => (\r\n          <tr {...headerGroup.getHeaderGroupProps()}>\r\n            {headerGroup.headers.map(column => (\r\n              <th {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n        {rows.slice(0, 10).map((row, i) => {\r\n          prepareRow(row)\r\n          return (\r\n            <tr {...row.getRowProps()}>\r\n              {row.cells.map(cell => {\r\n                return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n              })}\r\n            </tr>\r\n          )\r\n        })}\r\n        </tbody>\r\n      </table>\r\n      <p>Selected Rows: {Object.keys(selectedRowIds).length}</p>\r\n      <pre>\r\n        <code>\r\n          {JSON.stringify(\r\n            {\r\n              selectedRowIds: selectedRowIds,\r\n              'selectedFlatRows[].original': selectedFlatRows.map(\r\n                d => d.original\r\n              ),\r\n            },\r\n            null,\r\n            2\r\n          )}\r\n        </code>\r\n      </pre>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction App() {\r\n\r\n  const {exportData, setExportData} = useState([\r\n    {name: 'Pages', value: 'exportPages', uri: '/admin/ajax/pages'},\r\n    //{name: 'Page Roles', value: 'exportPageRoles'},\r\n    //{name: 'Page DataSources', value: 'exportPageDatasources'},\r\n    //{name: 'Page Templates', value:'exportPageTemplates'},\r\n    //{name: 'Templates', value: 'exportTemplates', uri: '/admin/ajax/templates', field: 'templates'},\r\n    //{name: 'Template Settings', value: 'exportTemplateSettings'},\r\n\r\n    //{name: 'Media', value: 'exportMedia', uri: '/admin/ajax/media'},\r\n    //{name: 'Settings', value: 'exportSettings', uri: '/admin/ajax/settings'},\r\n    //{name: 'Diagrams', value: 'exportDiagrams', uri: '/admin/ajax/diagrams'},\r\n    //{name: 'Dashboards', value: 'exportDashboards', uri: '/admin/ajax/dashboards'},\r\n    //{name: 'Reports', value: 'exportReports', uri: '/admin/ajax/reports'},\r\n    //{name: 'Tables', value: 'exportTables', uri: '/admin/ajax/tables'},\r\n    //{name: 'Models', value: 'exportModels', uri: '/admin/ajax/models', field: 'models'},\r\n    //{name: 'Columns', value: 'exportColumns', uri: '/admin/ajax/columns'},\r\n    //{name: 'Accessors', value: 'exportAccessors', uri: '/admin/ajax/accessors'},\r\n    //{name: 'SQL Editors', value: 'exportSQLEditors', uri: '/admin/ajax/sql_editors', field: 'sql_editors'},\r\n    //{name: 'Relationships', value: 'exportRelationships', uri: '/admin/ajax/relationships'},\r\n    //{name: 'Queries', value: 'exportQueries', uri: '/admin/ajax/queries'},\r\n    //{name: 'Roles', value: 'exportRoles', uri: '/admin/ajax/roles'},\r\n    //{name: 'Permission Roles', value: 'exportPermissionRoles', uri: '/admin/ajax/permissionroles'},\r\n    //{name: 'Remote Data', value: 'exportRemoteData', uri: '/admin/ajax/remotedata'},\r\n    //{name: 'Remote DataSources', value: 'exportRemoteDataSources', uri: '/admin/ajax/remotedatasources'},\r\n    //{name: 'Remote DataSources Roles', value: 'exportDataSourcesRoles'},\r\n    //{name: 'Remote DataSources Permissions', value: 'exportDataSourcesPremissions'},\r\n    //{name: 'Validation Fields', value: 'exportValidationFields', uri: '/admin/ajax/validationfields'},\r\n    //{name: 'Validation Rules', value: 'exportValidationRules', uri: '/admin/ajax/validationrules'},\r\n  ]);\r\n\r\n  async function getData(){\r\n    let resource = [];\r\n    let elements = [];\r\n    let open = {};\r\n    for (let item of this.items) {\r\n      if (item.uri) {\r\n        open[item.value] = false;\r\n        elements[item.value] = [];\r\n        resource[item.value] = new Resource({route: item.uri});\r\n        elements[item.value]['name'] = '';\r\n        elements[item.value]['name'] = item.name;\r\n        elements[item.value]['items'] = [];\r\n        elements[item.value]['items'] = await resource[item.value].getAll();\r\n        if (item.value == 'exportMedia') {\r\n          for(let j in elements[item.value]['items']) {\r\n            elements[item.value]['items'][j].title = elements[item.value]['items'][j].filename;\r\n          }\r\n        }\r\n        if (item.field) {\r\n          elements[item.value]['items'] = elements[item.value]['items'][item.field];\r\n        }\r\n      }\r\n    }\r\n    console.log(elements);\r\n    setExportData(elements);\r\n\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  },[exportData]);\r\n\r\n\r\n  const columns = React.useMemo(\r\n    () => [\r\n      {\r\n        //Header: 'Info',\r\n        columns: [\r\n          {\r\n            Header: 'Name',\r\n            accessor: 'title',\r\n          },\r\n        ],\r\n      }\r\n    ],\r\n    []\r\n  )\r\n\r\n  const data = React.useMemo(() => exportData, [])\r\n\r\n  return (\r\n    <Styles>\r\n      <Table columns={columns} data={data} />\r\n    </Styles>\r\n  )\r\n}\r\n\r\nexport default App\r\n\r\n\r\n\r\n*/\r\nimport React, { Component } from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\n\r\nclass Export extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.open = {};\r\n    this.listPages = [];\r\n    //this.props = {};\r\n    this.items = [\r\n      {name: 'Pages', value: 'exportPages', uri: '/admin/ajax/pages'},\r\n      //{name: 'Page Roles', value: 'exportPageRoles'},\r\n      //{name: 'Page DataSources', value: 'exportPageDatasources'},\r\n      //{name: 'Page Templates', value:'exportPageTemplates'},\r\n      {name: 'Templates', value: 'exportTemplates', uri: '/admin/ajax/templates', field: 'templates'},\r\n      //{name: 'Template Settings', value: 'exportTemplateSettings'},\r\n\r\n      {name: 'Media', value: 'exportMedia', uri: '/admin/ajax/media'},\r\n      {name: 'Settings', value: 'exportSettings', uri: false},\r\n      {name: 'Diagrams', value: 'exportDiagrams', uri: '/admin/ajax/diagrams'},\r\n      //{name: 'Dashboards', value: 'exportDashboards', uri: '/admin/ajax/dashboards'},\r\n      {name: 'Reports', value: 'exportReports', uri: '/admin/ajax/reports'},\r\n      {name: 'Tables', value: 'exportTables', uri: '/admin/ajax/tables'},\r\n      {name: 'Models', value: 'exportModels', uri: '/admin/ajax/models', field: 'models'},\r\n      //{name: 'Columns', value: 'exportColumns', uri: '/admin/ajax/columns'},\r\n      //{name: 'Accessors', value: 'exportAccessors', uri: '/admin/ajax/accessors'},\r\n      {name: 'SQL Editors', value: 'exportSQLEditors', uri: '/admin/ajax/sql_editors', field: 'sql_editors'},\r\n      //{name: 'Relationships', value: 'exportRelationships', uri: '/admin/ajax/relationships'},\r\n      //{name: 'Queries', value: 'exportQueries', uri: '/admin/ajax/queries'},\r\n      //{name: 'Roles', value: 'exportRoles', uri: '/admin/ajax/roles'},\r\n      //{name: 'Permission Roles', value: 'exportPermissionRoles', uri: '/admin/ajax/permissionroles'},\r\n      //{name: 'Remote Data', value: 'exportRemoteData', uri: '/admin/ajax/remotedata'},\r\n      {name: 'Remote DataSources', value: 'exportRemoteDataSources', uri: '/admin/ajax/ajax/data_sources'},\r\n      //{name: 'Remote DataSources Roles', value: 'exportDataSourcesRoles'},\r\n      //{name: 'Remote DataSources Permissions', value: 'exportDataSourcesPremissions'},\r\n      //{name: 'Validation Fields', value: 'exportValidationFields', uri: '/admin/ajax/validationfields'},\r\n      //{name: 'Validation Rules', value: 'exportValidationRules', uri: '/admin/ajax/validationrules'},\r\n    ];\r\n\r\n    this.state = {\r\n      elements: [],\r\n      open: {},\r\n      props: {},\r\n      value: {},\r\n    };\r\n    this.resourceOut = new Resource({route: '/admin/ajax/downloads/filtered_settings'});\r\n    //this.toggleMainItem = this.toggleMainItem.bind(this);\r\n    this.submitData = this.submitData.bind(this);\r\n  }\r\n\r\n  toggleLine = (name)=>{\r\n    const open = {...this.state.open};\r\n    open[name] = ! open[name];\r\n    this.setState(state => ({...state, open}));\r\n  }\r\n\r\n  async componentDidMount(){\r\n    let resource = [];\r\n    let elements = [];\r\n    let open = {};\r\n    for (let item of this.items) {\r\n      let element = {};\r\n      if (item.uri) {\r\n        open[item.value] = false;\r\n        // elements[item.value] = [];\r\n        if (item.uri)\r\n          resource[item.value] = new Resource({route: item.uri});\r\n        else\r\n          resource[item.value] = [];\r\n            // elements[item.value]['name'] = '';\r\n        // elements[item.value]['name'] = item.name;\r\n        // elements[item.value]['items'] = [];\r\n        // elements[item.value]['items'] = await resource[item.value].getAll();\r\n        element = {\r\n          value: item.value,\r\n          name: item.name || '',\r\n        };\r\n        try{\r\n          element.items = await resource[item.value].getAll();\r\n          if (item.field && element.items[item.field]){\r\n            element.items = element.items[item.field]\r\n          }\r\n        } catch (e) {\r\n          element.items = [];\r\n        }\r\n        if (item.value === 'exportMedia') {\r\n          element.items = element.items.map(i => {\r\n            return {...i, title: i.filename}\r\n          })\r\n        }\r\n\r\n        // if (item.value == 'exportMedia') {\r\n        //   for(let j in elements[item.value]['items']) {\r\n        //     elements[item.value]['items'][j].title = elements[item.value]['items'][j].filename;\r\n        //   }\r\n        // }\r\n        // if (item.field) {\r\n        //   elements[item.value]['items'] = elements[item.value]['items'][item.field];\r\n        // }\r\n      } else {\r\n        element = {\r\n          value: item.value,\r\n          name: item.name || '',\r\n        };\r\n        element.items = [];\r\n        if (item.value == 'exportSettings') {\r\n          element.items = [{id: 'admin_logo', title: 'admin_logo'}, {id: 'container_width', title: 'container_width'}];\r\n        }\r\n      }\r\n      elements.push(element);\r\n    }\r\n\r\n\r\n    let newValue = {};\r\n    elements.forEach(el=>{\r\n      newValue[el.value] = el.items.map(i=>i.id)\r\n    })\r\n    this.setState(state => ({\r\n      ...state,\r\n      elements,\r\n      open,\r\n      value: newValue,\r\n    }));\r\n  }\r\n/*\r\n  toggleMainItem = param => e => {\r\n    let open = {};\r\n    this.open[param] = !this.open[param];\r\n    open[param] = this.open[param];\r\n    this.setState(state => ({\r\n      ...state,\r\n      open\r\n    }));\r\n\r\n  }\r\n*/\r\n  changeMainItem(id, line) {\r\n    console.log(id, line, this);\r\n    let newValue = {...this.state.value};\r\n    const props = {...this.state.props};\r\n    props[line] = ! props[line];\r\n    console.log(props);\r\n    if (props[line]) {\r\n      newValue[line] = [];\r\n    } else {\r\n      newValue[line] = newValue[line];\r\n    }\r\n    this.setState(state =>({...state, props, value: newValue}));\r\n    /*\r\n    if (newValue.length == 0) {\r\n      for(let item of newValue) {\r\n\r\n      }\r\n    }\r\n\r\n     */\r\n  }\r\n\r\n  changeItem(id, line) {\r\n    console.log(id, line);\r\n    let newValue = {...this.state.value};\r\n    if(newValue[line].indexOf(id) === -1){\r\n      newValue[line].push(id);\r\n    } else {\r\n      newValue[line] = newValue[line].filter(item => item !== id);\r\n    }\r\n    console.log(newValue);\r\n    this.setState(state =>({...state, value: newValue}));\r\n  }\r\n\r\n  async submitData() {\r\n    //const data = '?exportPages=' + JSON.stringify([1, 2]) + '&exportTemplates=' + JSON.stringify([13, 15]);\r\n    const data = this.state.value;\r\n    let url = '/admin/ajax/downloads/filtered_settings';\r\n    //let res = await this.resourceOut.post(data);\r\n\r\n    await fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=utf-8',\r\n        //'Content-Type': 'application/zip',\r\n        'X-CSRF-TOKEN': _token\r\n      },\r\n      body: JSON.stringify(data)\r\n    }).then(resp => resp.blob())\r\n      .then(blob => {\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.style.display = 'none';\r\n        a.href = url;\r\n        // the filename you want\r\n        a.download = 'altrp.zip';\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        alert('Export File Downloaded!'); // or you know, something with better UX...\r\n      })\r\n      .catch((e) => alert('Error! '+ e.message));\r\n\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    const { elements, open } =  this.state;\r\n\r\n    const Style = {\r\n      dt: {\r\n        width: '100%',\r\n        borderBottom: '1px solid #000000',\r\n      },\r\n      dd: {\r\n        width: '100%',\r\n        borderBottom: '1px solid #cccccc',\r\n      }\r\n    };\r\n\r\n    let temp = [];\r\n    let i = 0;\r\n    for(let key in elements) {\r\n      //this.props[key] = true;\r\n      const template = <React.Fragment key={i}>\r\n        <dl >\r\n          <dt style={Style.dt}>\r\n            <input\r\n              type=\"checkbox\"\r\n              className=\"form-check-input mr-1 ml-0 mt-0 position-static\"\r\n              id={key}\r\n              onChange={e=>this.changeMainItem(key, elements[key].value)}\r\n              checked={this.state.value[elements[key].value]?.length === elements[key]?.items?.length}\r\n            />\r\n            <a onClick={()=>{ this.toggleLine(elements[key].name)}}>{elements[key].name}</a>\r\n          </dt>\r\n          {this.state.open[elements[key].name] && elements[key]?.items?.map((item, index) =>\r\n            <dd style={Style.dd}\r\n              className={(open[key] === false) ? \"d-none\" : null}\r\n              key={index}>\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"form-check-input mr-1 ml-0 mt-0 position-static\"\r\n                onChange={e=>this.changeItem(item.id, elements[key].value)}\r\n                checked={this.state.value[elements[key].value] && this.state.value[elements[key].value].indexOf(item.id) !== -1}/>{item.title}\r\n\r\n            </dd>\r\n          )}\r\n        </dl>\r\n      </React.Fragment>\r\n      temp.push(template);\r\n      i++;\r\n    }\r\n\r\n    return <div className=\"admin-updates p-4\">\r\n      <div className=\"admin-caption mt-1\">\r\n        Export All App Settings in Archive\r\n      </div>\r\n      <div className=\"mt-1\">\r\n        {temp}\r\n      </div>\r\n      <div>\r\n        <button className=\"btn_success btn\" onClick={this.submitData}>Download Filtered ZIP Archive (JSON)</button>\r\n      </div>\r\n      <div className=\"mt-1\">\r\n        <a className=\"btn_success btn\"\r\n           href=\"/admin/ajax/downloads/settings\"\r\n        >Download ZIP Archive (JSON)</a>\r\n        <a className=\"btn_success btn ml-3\"\r\n           href=\"/admin/ajax/downloads/stream_settings\"\r\n\r\n        >Download ZIP Archive (JSON Stream)</a>\r\n\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Export\r\n\r\n","import Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nimport store from \"../../../js/store/store\";\r\nimport AutoUpdateInput from \"../../AutoUpdateInput\";\r\nimport {setWebsocketsEnabled} from \"../../../js/store/websockets-storage/actions\";\r\n\r\nclass Websockets extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  // Изменение положения переключателя\r\n  toggle() {\r\n    let checked = store.getState().websocketStore?.enabled ? 0 : 1 ;\r\n    this.submitHandler(checked);\r\n  }\r\n\r\n  // Отправка на сервер положения переключателя и запись в store\r\n  submitHandler = async checked => {\r\n    const resource = new Resource({ route: `/admin/ajax/websockets` });\r\n    let res = await resource.getQueried({enabled:checked});\r\n    if(res.success){\r\n      alert(res.message || 'success');\r\n    }\r\n    store.dispatch(setWebsocketsEnabled(checked));\r\n  };\r\n\r\n  async onReset() {\r\n    const resource = new Resource({ route: `/admin/ajax/websockets` });\r\n    let res = await resource.getQueried({reset:true});\r\n    if(res.success){\r\n      alert(res.message || 'success');\r\n      store.dispatch(setWebsocketsEnabled(false));\r\n      window.location.reload();  \r\n    }\r\n  };\r\n\r\n  render() {\r\n    let value = store.getState().websocketStore?.enabled ?? false;\r\n    let switcherClasses = `control-switcher control-switcher_${value ? 'on' : 'off'}`;\r\n    return <div className=\"admin_settings_websockets\">\r\n      <div className=\"admin_settings_websockets_box\">\r\n        <div className=\"admin_switcher\">\r\n          <div className=\"admin_switcher__label\">\r\n          Websocket Server\r\n          </div>\r\n          <div className={switcherClasses} onClick={this.toggle}>\r\n            <div className=\"control-switcher__on-text\">ON</div>\r\n            <div className=\"control-switcher__caret\" />\r\n            <div className=\"control-switcher__off-text\">OFF</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin_input__label\" width=\"10%\">\r\n              <label htmlFor=\"websockets-port\">\r\n                Port:\r\n              </label>\r\n        </div>\r\n        <div className=\"admin_input\">\r\n        <AutoUpdateInput type=\"number\"\r\n            route=\"/admin/ajax/settings\"\r\n            resourceid=\"websockets_port\"\r\n            id=\"websockets-port\"\r\n            className=\"admin_input_port\" />\r\n        </div>\r\n        <div className=\"admin_input__label\" width=\"10%\">\r\n              <label htmlFor=\"websockets-key\">\r\n                Key:\r\n              </label>\r\n        </div>\r\n        <div className=\"admin_input\">\r\n          <AutoUpdateInput type=\"number\"\r\n            route=\"/admin/ajax/settings\"\r\n            resourceid=\"pusher_app_key\"\r\n            id=\"websockets-key\"\r\n            className=\"admin_input_key\" />\r\n        </div>\r\n\r\n        <div className=\"admin_input__label\" width=\"10%\">\r\n              <label htmlFor=\"websockets-key\">\r\n                Host:\r\n              </label>\r\n        </div>\r\n        <div className=\"admin_input\">\r\n          <AutoUpdateInput type=\"text\"\r\n            route=\"/admin/ajax/settings\"\r\n            resourceid=\"pusher_host\"\r\n            id=\"websockets-host\"\r\n            className=\"admin_input_host\" />\r\n        </div>\r\n\r\n        <div>\r\n          <button className=\"btn btn_save\" onClick={() => this.onReset()}>\r\n            Reset\r\n          </button>          \r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Websockets","import Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nimport store from \"../../../js/store/store\";\r\nimport AutoUpdateInput from \"../../AutoUpdateInput\";\r\n\r\nclass Telegram extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  // Изменение положения переключателя\r\n  // ComponentDidM() {\r\n  //   let websocketsPort = await new Resource({ route: \"/admin/ajax/settings\" }).get(\"websockets_port\");\r\n  // }\r\n\r\n  // Изменение положения переключателя\r\n  toggle() {\r\n    let checked = store.getState().websocketStore?.enabled ? 0 : 1 ;\r\n    this.submitHandler(checked);\r\n  }\r\n\r\n  // Отправка на сервер положения переключателя и запись в store\r\n  submitHandler = async checked => {\r\n    const resource = new Resource({ route: `/admin/ajax/websockets` });\r\n    let res = await resource.getQueried({enabled:checked});\r\n    if(res.success){\r\n      alert(res.message || 'success');\r\n    }\r\n    store.dispatch(setWebsocketsEnabled(checked));\r\n  };\r\n\r\n  async onReset() {\r\n    const resource = new Resource({ route: `/admin/ajax/websockets` });\r\n    let res = await resource.getQueried({reset:true});\r\n    if(res.success){\r\n      alert(res.message || 'success');\r\n      store.dispatch(setWebsocketsEnabled(false));\r\n      window.location.reload();  \r\n    }\r\n  };\r\n\r\n  render() {\r\n    return <div className=\"admin_settings_telegram\">\r\n        <div className=\"admin_input__label\" width=\"10%\">\r\n              <label htmlFor=\"telegram_bot_token\">\r\n                Telegram bot key:\r\n              </label>\r\n        </div>\r\n        <div className=\"admin_input\">\r\n          <AutoUpdateInput type=\"text\"\r\n            route=\"/admin/ajax/settings\"\r\n            resourceid=\"telegram_bot_token\"\r\n            id=\"telegram_bot_token\"\r\n            className=\"admin_input_key\" />\r\n        </div>\r\n        <div>\r\n        </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Telegram","import {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport 'react-tabs/style/react-tabs.scss';\r\nimport Updates from \"./Updates\";\r\nimport StylesSettings from \"./StylesSettings\";\r\nimport Import from \"./settings/Import\";\r\nimport Export from \"./settings/Export\";\r\nimport Websockets from \"./settings/integrations/Websockets\";\r\nimport Telegram from \"./settings/integrations/Telegram\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nconst AdvancedSettings = React.lazy(()=>import('./AdvancedSettings'));\r\nconst MailForm = React.lazy(()=>import('./settings/MailForm'));\r\n\r\n\r\nexport default class AdminSettings extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.switchTab = this.switchTab.bind(this);\r\n    this.state = {\r\n      SSREnabled: false,\r\n      activeTab: parseInt(window.location.hash[1]) || 0,\r\n    };\r\n  }\r\n\r\n  toggleSSREnabled = async (e)=>{\r\n    let value = e.target.checked;\r\n    await new Resource({route:'/admin/ajax/settings'}).put('altrp_ssr_disabled', {value});\r\n    this.setState(state=>({\r\n      ...state,\r\n      SSREnabled: value,\r\n    }))\r\n  };\r\n\r\n  async componentDidMount() {\r\n    let SSREnabled = ! ! (await new Resource({route:'/admin/ajax/settings'}).get('altrp_ssr_disabled')).altrp_ssr_disabled;\r\n    this.setState(state => ({...state,\r\n      SSREnabled,\r\n    }));\r\n  }\r\n  switchTab(activeTab){\r\n    window.location.hash = activeTab + '';\r\n    this.setState(state=>{return{ ...state,activeTab }})\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"admin-settings admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\"><a className=\"admin-breadcrumbs__link\" href=\"#\">Settings</a><span\r\n            className=\"admin-breadcrumbs__separator\">/</span><span\r\n            className=\"admin-breadcrumbs__current\">Builder</span></div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <Tabs selectedIndex={this.state.activeTab}\r\n              onSelect={this.switchTab}\r\n        >\r\n          <TabList className=\"nav nav-pills admin-pills\">\r\n            <Tab>\r\n              GENERAL\r\n            </Tab>\r\n            <Tab>\r\n              STYLE\r\n            </Tab>\r\n            <Tab >\r\n              INTEGRATIONS\r\n            </Tab>\r\n            <Tab >\r\n              ADVANCED\r\n            </Tab>\r\n            <Tab >\r\n              UPDATES\r\n            </Tab>\r\n            <Tab >\r\n              EXPORT\r\n            </Tab>\r\n            <Tab >\r\n              IMPORT\r\n            </Tab>\r\n            <Tab >\r\n              MAIL\r\n            </Tab>\r\n          </TabList>\r\n          <TabPanel>\r\n            <table>\r\n              <tbody className=\"admin-table-body\">\r\n              <tr className=\"admin-settings-table-row\">\r\n                <td className=\"admin-settings-table__td row-text\">SSR</td>\r\n                <td className=\"admin-settings-table__td \">\r\n                  <input className=\"admin-table__td_check\"\r\n                         checked={this.state.SSREnabled}\r\n                         onChange={this.toggleSSREnabled}\r\n                         type=\"checkbox\"/>Hide Server Side Content\r\n                </td>\r\n              </tr>\r\n              <tr className=\"admin-settings-table-row\">\r\n                <td className=\"admin-settings-table__td row-text\">Disable Default Colors</td>\r\n                <td className=\"admin-settings-table__td \">\r\n                  <input className=\"admin-table__td_check\" type=\"checkbox\"/>Checking this box will disable\r\n                  Builder's Default Colors, and make Builder inherit the colors from your CSS file\r\n                </td>\r\n              </tr>\r\n              <tr className=\"admin-settings-table-row\">\r\n                <td className=\"admin-settings-table__td row-text\">Disable Default Fonts</td>\r\n                <td className=\"admin-settings-table__td \">\r\n                  <input className=\"admin-table__td_check\" type=\"checkbox\"/>Checking this box will disable\r\n                  Builder’s Default Fonts, and make Builder inherit the fonts from your CSS file\r\n                </td>\r\n              </tr>\r\n              <tr className=\"admin-settings-table-row\">\r\n                <td className=\"admin-settings-table__td header-text\">Improve builder</td>\r\n              </tr>\r\n              <tr className=\"admin-settings-table-row\">\r\n                <td className=\"admin-settings-table__td row-text\">Usage Data Sharing</td>\r\n                <td className=\"admin-settings-table__td \">\r\n                  <input className=\"admin-table__td_check\" type=\"checkbox\"/>Become a super contributor by\r\n                  opting in to share non-sensitive plugin data and to get our updates. Learn more\r\n                </td>\r\n              </tr>\r\n\r\n              </tbody>\r\n            </table>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <StylesSettings/>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <Websockets />\r\n            <Telegram />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <React.Suspense fallback={'Loading'}>\r\n              <AdvancedSettings/>\r\n            </React.Suspense>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <Updates attr={'attr'}/>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <Export />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <Import />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <React.Suspense fallback={'Loading'}>\r\n              <MailForm />\r\n            </React.Suspense>\r\n          </TabPanel>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"31\" height=\"31\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M11.124 24.386l-4.415 2.492c-.26.146-.492.325-.709.521C8.574 29.645 11.897 31 15.528 31c3.603 0 6.905-1.335 9.472-3.55a3.911 3.911 0 00-.778-.54l-4.728-2.445a1.873 1.873 0 01-.997-1.67v-1.919a7.36 7.36 0 00.447-.595 11.42 11.42 0 001.47-3.064 1.53 1.53 0 001.053-1.462v-2.049c0-.45-.194-.853-.495-1.135V9.609S21.56 5 15.528 5s-5.444 4.609-5.444 4.609v2.962a1.55 1.55 0 00-.495 1.135v2.049c0 .54.274 1.015.685 1.289.495 2.229 1.79 3.832 1.79 3.832v1.873c0 .681-.361 1.31-.94 1.637z\" fill=\"#F7F8F9\" /><path d=\"M15.765.002C7.207-.144.15 6.676.002 15.236c-.083 4.853 2.08 9.215 5.524 12.115.226-.196.467-.377.736-.523l4.625-2.523a1.89 1.89 0 00.984-1.658v-1.895s-1.357-1.624-1.875-3.88a1.555 1.555 0 01-.717-1.305v-2.074c0-.456.203-.864.518-1.15V9.346S9.18 4.68 15.5 4.68s5.703 4.666 5.703 4.666v2.999c.316.285.518.693.518 1.15v2.073c0 .698-.468 1.284-1.103 1.48a11.397 11.397 0 01-1.54 3.103c-.17.24-.329.444-.468.602v1.943c0 .715.404 1.37 1.044 1.69l4.953 2.475c.297.149.565.337.813.546a15.46 15.46 0 005.578-11.64C31.145 7.205 24.325.148 15.765.002z\" fill=\"#8E94AA\" /></svg>);","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PluginSvg from \"../../svgs/plugins.svg\";\r\nimport VectorSvg from '../../svgs/vector.svg';\r\nimport UserSvg from '../../svgs/user.svg';\r\nimport { Link } from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport Pagination from \"../Pagination\";\r\nimport { filterUsers, sortUsers } from \"../../js/helpers\";\r\n\r\nclass Users extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      roleFilter: null,\r\n      search: \"\",\r\n      currentPage: 1,\r\n      roles: [],\r\n      sorting: { sortingField: null, order: 'ASC' }\r\n    };\r\n\r\n    this.resource = new Resource({ route: '/admin/ajax/users' });\r\n    this.itemsPerPage = 10;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getUsers();\r\n    new Resource({ route: '/admin/ajax/role_options' }).getAll()\r\n      .then(roles => this.setState({ roles }));\r\n  }\r\n\r\n  getUsers = async () => {\r\n    let users_result = await this.resource.getQueried({ s: this.state.search });\r\n    this.setState(state => {\r\n      return { ...state, data: users_result };\r\n    });\r\n  }\r\n\r\n  getUsersEmail = async () => {\r\n    let users_result = await this.resource.getAuthorList();\r\n    let users_result_email = [];\r\n    for (let i = 0; i < users_result.length; i++) {\r\n      if (users_result[i].email.includes(this.state.search)) {\r\n        users_result_email.push(users_result[i])\r\n      }\r\n    }\r\n    this.setState(state => {\r\n      return { ...state, data: users_result_email };\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { currentPage, data, search, roles, roleFilter } = this.state;\r\n    const { sortingField, order } = this.state.sorting;\r\n    const users = roleFilter ? filterUsers(data, roleFilter) : data;\r\n\r\n    return <div className=\"admin-users\">\r\n      <div className=\"wrapper\">\r\n        <div className=\"admin-heading-users\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <a className=\"admin-breadcrumbs__link\" href=\"#\">Users</a>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">All Users</span>\r\n          </div>\r\n\r\n          <Link className=\"btn\" to={\"/admin/users/new/\"}>Add New</Link>\r\n\r\n          <div className=\"admin-filters\">\r\n            <span className=\"admin-filters__current\" onClick={() => this.setState({ roleFilter: null })}>\r\n              <a className=\"admin-filters__link\">All ({data.length})</a>\r\n            </span>\r\n            {roles.map(role => {\r\n              const itemsCount = filterUsers(data, role.value).length;\r\n\r\n              return itemsCount ? <React.Fragment key={role.value}>\r\n                <span className=\"admin-filters__separator\">|</span>\r\n                <a className=\"admin-filters__link\" onClick={() => this.setState({ roleFilter: role.value })}>\r\n                  {role.label} ({itemsCount})\r\n                </a>\r\n              </React.Fragment> : null\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"admin-panel\">\r\n          <form className=\"admin-users-form form-bulk-left\">\r\n            <select className=\"form-control input-sm\">\r\n              <option value=\"1\">Bulk Actions</option>\r\n            </select>\r\n            <button className=\"btn btn_bare admin-users-button\">Apply</button>\r\n          </form>\r\n\r\n          <form className=\"admin-users-form form-bulk-right\" >\r\n            <select className=\"form-control input\">\r\n              <option value=\"1\">Change role on...</option>\r\n            </select>\r\n            <button className=\"btn btn_bare admin-users-button\">Change</button>\r\n          </form>\r\n\r\n          <form className=\"admin-users-form form-bulk-search\" >\r\n            <input className=\"form-control input-sm\" value={search} onChange={e => this.setState({ search: e.target.value })} />\r\n            <button type=\"button\" onClick={this.getUsers} className=\"btn btn_bare admin-users-button\">Search Users</button>\r\n            <button type=\"button\" onClick={this.getUsersEmail} className=\"btn btn_bare admin-users-button\">Search Email</button>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"admin-users-table\">\r\n          <table className=\"table\">\r\n            <thead className=\"admin-users-table-head\">\r\n              <tr className=\"admin-table-row\">\r\n                <td className=\"admin-table__td admin-table__td_check\"\r\n                  onClick={() => this.setState({ sorting: { sortingField: 'name', order: order === 'ASC' ? 'DESC' : 'ASC' } })}\r\n                >\r\n                  <input className=\"input-users\" type=\"checkbox\" />\r\n                  Username\r\n                  <VectorSvg className={`vector-svg ${order === 'DESC' ? 'role-svg' : ''} ${sortingField === 'name' ? 'vector-svg--active' : ''}`} />\r\n                </td>\r\n                <td className=\"admin-table__td \"\r\n                  onClick={() => this.setState({ sorting: { sortingField: 'full_name', order: order === 'ASC' ? 'DESC' : 'ASC' } })}\r\n                >\r\n                  Name\r\n                  <VectorSvg className={`vector-svg ${order === 'DESC' ? 'role-svg' : ''} ${sortingField === 'full_name' ? 'vector-svg--active' : ''}`} />\r\n                </td>\r\n                <td className=\"admin-table__td \"\r\n                  onClick={() => this.setState({ sorting: { sortingField: 'email', order: order === 'ASC' ? 'DESC' : 'ASC' } })}\r\n                >\r\n                  Email\r\n                  <VectorSvg className={`vector-svg ${order === 'DESC' ? 'role-svg' : ''} ${sortingField === 'email' ? 'vector-svg--active' : ''}`} />\r\n                </td>\r\n                <td className=\"admin-table__td \">Role</td>\r\n                <td className=\"admin-table__td \">Post</td>\r\n                <td className=\"admin-table__td \"\r\n                  onClick={() => this.setState({ sorting: { sortingField: 'last_login_at', order: order === 'ASC' ? 'DESC' : 'ASC' } })}\r\n                >\r\n                  Last Enter\r\n                  <VectorSvg className={`vector-svg ${order === 'DESC' ? 'role-svg' : ''} ${sortingField === 'last_login_at' ? 'vector-svg--active' : ''}`} />\r\n                </td>\r\n                <td className=\"admin-table__td \">Status</td>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"admin-table-body\">\r\n              {sortUsers(users, sortingField, order)\r\n                .slice(currentPage * this.itemsPerPage - this.itemsPerPage, currentPage * this.itemsPerPage)\r\n                .map((row, idx) => <tr className=\"admin-table-row\" key={row.id}>\r\n                  <td className=\"admin-table__td admin-table__td_check \">\r\n                    <input className=\"input-users\" type=\"checkbox\" />\r\n                    <UserSvg className=\"users-svg\" />\r\n                    <Link to={\"/admin/users/user/\" + row.id}>{row.name} {row.id === this.props.userId && <span style={{ color: 'red' }}>you</span>}</Link>\r\n                  </td>\r\n                  <td className=\"admin-table__td \">{row.full_name}</td>\r\n                  <td className=\"admin-table__td \"><a>{row.email}</a></td>\r\n                  <td className=\"admin-table__td \"><a>{row.roles.map((value) => { return value.name }).join(\", \")}</a></td>\r\n                  <td className=\"admin-table__td \">2</td>\r\n                  <td className=\"admin-table__td \">{row.last_login_at}</td>\r\n                  <td className=\"admin-table__td \">Enable</td>\r\n                </tr>)}\r\n            </tbody>\r\n          </table>\r\n          <Pagination pageCount={Math.ceil(users.length / this.itemsPerPage) || 1}\r\n            currentPage={currentPage}\r\n            changePage={page => {\r\n              if (currentPage !== page) {\r\n                this.setState({ currentPage: page })\r\n              }\r\n            }}\r\n            itemsCount={users.length}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    userId: state.currentUser.id\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(Users);\r\n","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport AdminTable from \"../../AdminTable\";\r\nimport Pagination from \"../../Pagination\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport './admin-notifications.scss';\r\n\r\nimport Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nclass Notifications extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            user_id: this.props.match.params.id ?? '',\r\n            notices: [],\r\n            currentPage: 1,\r\n            noticeSearch: '',\r\n            sorting: {}\r\n      \r\n        };\r\n        this.itemsPerPage = 3;\r\n        this.notificationsAll = new Resource({route: `/admin/ajax/users/${this.state.user_id}/notifications`});\r\n        this.changePage = this.changePage.bind(this);\r\n        this.generateNoticeJSON = this.generateNoticeJSON.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getNotices();\r\n    }\r\n        \r\n    changePage(currentPage, pagination) {\r\n        this.setState(state => ({ ...state, [pagination]: { ...state[pagination], currentPage } }));\r\n    }\r\n        \r\n        \r\n    getNotices = async () => {\r\n        let noticeSettingsData = await this.notificationsAll.getAll();\r\n        this.setState(state => {\r\n            return { ...state, notices: noticeSettingsData };\r\n        }); \r\n    };\r\n\r\n    noticesSortingHandler = (order_by, order) => {\r\n        this.setState({ sorting: { order_by, order } }, this.getNotices);\r\n    }\r\n\r\n    searchNotice = e => {\r\n        e.preventDefault();\r\n        this.getNotices();\r\n    }\r\n\r\n    getArrayForRows = (notices, currentPage, itemsPerPage) => {\r\n\r\n        let arrayNew = notices.slice(currentPage * this.itemsPerPage - this.itemsPerPage, currentPage * this.itemsPerPage).map(item =>{\r\n                            item.url = `/admin/users/user/${item.noticed_id}/notification/${item.id}`;            \r\n                            return item;\r\n                        });\r\n\r\n        return arrayNew;\r\n    }\r\n\r\n     /** @function generateTemplateJSON\r\n     * Генерируем контент файла template в формате JSON\r\n     * @param {object} response Данные, получаемые с сервера\r\n     * @return {string} Строка в формате JSON\r\n     */\r\n    generateNoticeJSON(response) {\r\n        const data = objectDeepCleaning(JSON.parse(response.data));\r\n        return JSON.stringify({\r\n        area: this.state.activeresponseArea.name,\r\n        data,\r\n        title: response.title,\r\n        name: response.notice_name,\r\n        });\r\n    }\r\n    /** @function downloadJSONFile\r\n     * Скачиваем файл\r\n     * @param {object} response Данные, получаемые с сервера\r\n     */\r\n    downloadJSONFile(response) {\r\n        // const element = document.createElement(\"a\");\r\n        // const file = new Blob([this.generateNoticeJSON(response)], { type: 'text/plain' });\r\n        // element.href = URL.createObjectURL(file);\r\n        // element.download = `${response.name}.json`;\r\n        // document.body.appendChild(element); // Required for this to work in FireFox\r\n        // element.click();\r\n    }\r\n    \r\n    \r\n        \r\n    render(){\r\n        const { currentPage, notices, user_id, noticeSearch, sorting} = this.state;\r\n        return <div className=\"admin-users-notice\">\r\n            <div className=\"admin-breadcrumbs\">\r\n                <Link to={`/admin/users`}>Users</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <span className=\"admin-breadcrumbs__current\">{user_id}</span>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <span className=\"admin-breadcrumbs__current\">Settings Notifications</span>\r\n            </div>\r\n            <Link className=\"btn\" to={`/admin/users/user/${user_id}/notification/new`}>Add New</Link>\r\n            <div className=\"admin-notifications-table\">\r\n                <form className=\"admin-panel py-2\" onSubmit={this.searchNotice}>\r\n                    <input className=\"input-sm mr-2\" value={noticeSearch} onChange={e => this.setState({ noticeSearch: e.target.value })} />\r\n                    <button className=\"btn btn_bare admin-users-button\">Search</button>\r\n                </form>\r\n                <AdminTable\r\n                    columns={[{\r\n                        name: 'name',\r\n                        title: 'Notification Setting:',\r\n                        url: true,\r\n                    }]}\r\n                    quickActions={[{ tag: 'a', props: {\r\n                        href: `/admin/users/user/${user_id}/notification/:id`,\r\n                        },\r\n                        title: 'Edit'\r\n                    }, {\r\n                        tag: 'button',\r\n                        route: '',\r\n                        method: 'delete',\r\n                        title: 'Disable'\r\n                    }, {\r\n                        tag: 'button',\r\n                        route: `/admin/ajax/users/${user_id}/notifications/:id`,\r\n                        method: 'get',\r\n                        after: response => this.downloadJSONFile(response),\r\n                        title: 'Export'\r\n                    }, {\r\n                        tag: 'button',\r\n                        route: `/admin/ajax/users/${user_id}/notifications/:id`,\r\n                        method: 'delete',\r\n                        confirm: 'Are You Sure?',\r\n                        after: () => this.getNotices(),\r\n                        className: 'quick-action-menu__item_danger',\r\n                        title: 'Trash'\r\n                    }]}\r\n                    rows={this.getArrayForRows(notices, currentPage, this.itemsPerPage)}\r\n                    sortingHandler={this.noticesSortingHandler}\r\n                    sortingField={sorting.order_by}\r\n                />\r\n                <Pagination pageCount={Math.ceil(notices.length / this.itemsPerPage) || 1}\r\n                    currentPage={currentPage}\r\n                    changePage={page => {\r\n                        if (currentPage !== page) {\r\n                        this.setState({ currentPage: page })\r\n                        }\r\n                    }\r\n                    }\r\n                    itemsCount={notices.length}\r\n                />\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default withRouter(Notifications);\r\n\r\n","import React, {Component} from \"react\";\r\nimport AsyncSelect from \"react-select/async\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport Select from \"react-select\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport {parseParamsFromString, parseURLTemplate} from \"../../../../front-app/src/js/helpers\";\r\n\r\nexport const renderScrollbar = (props) => {\r\n  return <Scrollbars autoHeight >{props.children}</Scrollbars>;\r\n};\r\n\r\nclass AltrpSelect extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      options: props.options || [],\r\n    };\r\n    if(props.optionsRoute){\r\n      this.optionsResource = new Resource({route: props.optionsRoute});\r\n    }\r\n    this.selectRef = React.createRef();\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  async componentDidMount(){\r\n\r\n  }\r\n  /**\r\n   * изменение значения\r\n   */\r\n  onChange(){\r\n\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  loadOptions = async (searchString, callback)=>{\r\n    let options = [];\r\n    if(this.optionsResource){\r\n      options = await this.optionsResource.search(searchString);\r\n    }\r\n    this.setState(state=>({\r\n      ...state,\r\n      options\r\n    }));\r\n    return callback(options);\r\n  };\r\n\r\n  render(){\r\n    const customStyles = {\r\n      control: (base, state) => ({\r\n        ...base,\r\n        boxShadow: \"none\",\r\n        borderColor: state.isFocused ? \"hsl(0,0%,80%)\" : \"hsl(0,0%,80%)\",\r\n        \"&:hover\": {\r\n          borderColor: \"hsl(0,0%,80%)\"\r\n        }\r\n      }),\r\n      menuPortal: base => ({ ...base, zIndex: 99999 }),\r\n      // option: (provided, state) => ({\r\n      //   ...provided,\r\n      //   backgroundColor: state.isSelected ?\r\n      //     background.selected.color :\r\n      //     state.isFocused ? background.focused.color : background.normal.color\r\n      // })\r\n    };\r\n\r\n    let selectProps = {\r\n      onChange: this.onChange,\r\n      options: this.state.options || [],\r\n      placeholder: this.props.placeholder,\r\n      loadOptions: this.loadOptions,\r\n      noOptionsMessage: this.props.noOptionsMessage || (() => \"not found\"),\r\n      styles: customStyles,\r\n      menuPortalTarget: document.body,\r\n      menuPlacement: 'auto',\r\n      menuPosition: 'absolute',\r\n      onKeyDown : this.onKeyDown,\r\n      components: { MenusList: renderScrollbar },\r\n      captureMenuScroll: false,\r\n      isDisabled: this.state.isDisabled,\r\n      ref: this.selectRef,\r\n    };\r\n\r\n    _.assign(selectProps, this.props);\r\n\r\n    if(_.isArray(selectProps.value)){\r\n      selectProps.value = selectProps.value.map(item => {\r\n        let _i = {\r\n          label: '',\r\n          value: '',\r\n        };\r\n        if(_.isString(item) || _.isNumber(item)){\r\n          _i.value = item;\r\n          _i.label = item;\r\n        } else if(_.isObject(item)) {\r\n          return item;\r\n        }\r\n        if(_.isArray(selectProps.options)){\r\n          selectProps.options.forEach(option=>{\r\n            if(option.value === _i.value){\r\n              _i = {...option,};\r\n            }\r\n          });\r\n        }\r\n        return _i;\r\n      });\r\n    }\r\n    if(selectProps.value && ! _.isObject(selectProps.value)){\r\n      selectProps.value = selectProps.options.find(o=>{\r\n        return o.value == selectProps.value;\r\n      });\r\n    }\r\n    if( this.optionsResource){\r\n      return <AsyncSelect {...selectProps} />\r\n    } else {\r\n      return <Select {...selectProps} />\r\n    }\r\n  }\r\n}\r\n\r\nexport default AltrpSelect\r\n\r\n\r\n\r\n","import React, {Component} from \"react\";\r\nimport {CONDITIONS_OPTIONS} from \"../../../../../front-app/src/js/helpers\"\r\nimport AltrpSelect from \"../../altrp-select/AltrpSelect\";\r\n\r\n\r\nexport default class Compare extends Component{\r\n    constructor(props){\r\n        super(props);        \r\n        this.state = {\r\n            activeCompare: {},\r\n            isCompareOpened: false,\r\n        };\r\n        this.onSave = this.onSave.bind(this);\r\n        this.onAction = this.onAction.bind(this);\r\n        this.onActive = this.onActive.bind(this);\r\n        this.onDisable = this.onDisable.bind(this);\r\n        this.onExport = this.onExport.bind(this);\r\n        this.onDelete = this.onDelete.bind(this);\r\n        this.changeInput = this.changeInput.bind(this);\r\n        this.changeSelect = this.changeSelect.bind(this);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        // Сворачивание формы, если удалён активный compare (activeCompare)\r\n        const {activeCompare, isCompareOpened} = this.state;\r\n        let compares = this.props.compares ?? [];\r\n        compares = _.filter(compares, s => s.id === activeCompare?.id);\r\n        if(compares.length === 0 && isCompareOpened) this.setState(s => ({ ...s, isCompareOpened: false}));\r\n    }    \r\n    \r\n    // Обработчик создания нового compare\r\n    onSave(){\r\n        this.props.onSaveCompare('compare');\r\n    }\r\n\r\n    // Отправка данных от обработчиков родителю\r\n    onAction(e, type){\r\n        this.props.onActionCompare(e, type, 'compare');\r\n    }\r\n    \r\n    // Обработчик нажатия на конкретный compare\r\n    onActive(e){\r\n        this.setState({ activeCompare: e,  isCompareOpened: true});\r\n    }\r\n    \r\n    // Обработчик отключения compare\r\n    onDisable(e){\r\n        this.onAction(e, 'disable');\r\n    }\r\n    \r\n    // Обработчик экспорта compare\r\n    onExport(e){\r\n    }\r\n    \r\n    // Обработчик удаления compare\r\n    onDelete(e){\r\n        this.onAction(e, 'delete');\r\n    }\r\n\r\n    // Отправка значения inputs родителю\r\n    changeInput = (e, compareType) => {        \r\n        const compareId = this.state.activeCompare?.id ?? 0;\r\n        this.props.changeInputCompare(e, 'compare', compareId, compareType);        \r\n    }\r\n\r\n    // Обработчик выбранного селекта родителю\r\n    changeSelect = (e, i) => {\r\n        const compareId = this.state.activeCompare?.id ?? 0;\r\n        this.props.changeSelectCompare(e, i, 'compare', compareId);      \r\n    }  \r\n\r\n    render(){\r\n        let { isCompareOpened, activeCompare } = this.state;\r\n        let { id, name, operator, value, enabled } = activeCompare;\r\n        const OptionsCompare = CONDITIONS_OPTIONS;\r\n        const data = this.props.compares ?? [];\r\n\r\n        data.map( item => {\r\n            if(item?.id === id){\r\n                name = item.name\r\n                operator = item.operator\r\n                value = item.value\r\n                enabled = item.enabled\r\n            }\r\n        });\r\n\r\n        return <div className=\"admin-notice-compare-box\">\r\n            <div className=\"compare-box\">\r\n                <button className=\"btn btn_save\" onClick={() => this.onSave()}>\r\n                    Save and Add New Compare\r\n                </button>\r\n                <ul>\r\n                    {data.map((item, index) =>\r\n                        <li className=\"list-box\" key={index}>\r\n                            <div className=\"list-item\" onClick={() => this.onActive(item)}>\r\n                                <a className={item.enabled ? \"enabled\" : \"disabled\"}>{item.name ?? ''}</a>\r\n                                <a className={item.enabled ? \"enabled\" : \"disabled\"}>{item.operator ?? ''}</a>\r\n                                <a className={item.enabled ? \"enabled\" : \"disabled\"}>{item.value ?? ''}</a>\r\n                            </div> \r\n                            <span className=\"quick-action-menu\">\r\n                                <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item\" onClick={() => this.onActive(item)}>Edit</button></span>\r\n                                <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item\" onClick={() => this.onDisable(item)}>{item.enabled ? \"Disable\" : \"Enable\"}</button></span>\r\n                                <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item\" onClick={() => this.onExport(item)}>Export</button></span>\r\n                                <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item quick-action-menu__item_danger\" onClick={() => this.onDelete(item)}>Trash</button></span>\r\n                            </span>\r\n                        </li>\r\n                    )}\r\n                </ul>\r\n            </div>\r\n        \r\n            {isCompareOpened && <div className=\"admin-notice-box-child-compare\">\r\n                <div className=\"form-group\">\r\n                    <input type=\"text\" id=\"compare\" name=\"name\" value={name ?? ''} onChange={(e) => { this.changeInput(e, \"name\")}} className=\"form-control\" />\r\n                </div>\r\n                <AltrpSelect \r\n                    onChange={this.changeSelect}\r\n                    value={_.filter(OptionsCompare, o => operator === o.value)}\r\n                    options={OptionsCompare} />\r\n                <div className=\"form-group\">\r\n                    <textarea type=\"text\" id=\"value\" name=\"value\" value={value ?? ''} onChange={(e) => { this.changeInput(e, \"value\")}} className=\"form-control\" ></textarea>\r\n                </div>\r\n            </div>}\r\n\r\n        </div>\r\n    }\r\n}","import React, {Component} from \"react\";\r\nimport Compare from \"./Compare\";\r\nimport AltrpSelect from \"../../altrp-select/AltrpSelect\";\r\n\r\n\r\nexport default class ConditionsTab extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            activeCondition: {},\r\n            isConditionOpened: false,\r\n        };\r\n        this.onSave = this.onSave.bind(this);\r\n        this.onAction = this.onAction.bind(this);\r\n        this.onActive = this.onActive.bind(this);\r\n        this.onDisable = this.onDisable.bind(this);\r\n        this.onExport = this.onExport.bind(this);\r\n        this.onDelete = this.onDelete.bind(this);\r\n        this.changeInput = this.changeInput.bind(this);\r\n        this.changeSelect = this.changeSelect.bind(this);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        // Сворачивание формы, если удалён активный condition (activeCondition)\r\n        const {activeCondition, isConditionOpened} = this.state;\r\n        let condition = this.props.conditions ?? [];\r\n        condition = _.filter(condition, s => s.id === activeCondition?.id);\r\n        if(condition.length === 0 && isConditionOpened) this.setState(s => ({ ...s, isConditionOpened: false}));\r\n    }    \r\n       \r\n    // Обработчик создания нового condition\r\n    onSave(type = 'condition'){\r\n        const conditionId = this.state.activeCondition?.id ?? 0;\r\n        this.props.onSaveCondition(type, conditionId);\r\n    }\r\n    \r\n    // Отправка данных от обработчиков родителю\r\n    onAction(e, type, component = 'condition'){\r\n        const conditionId = this.state.activeCondition?.id ?? 0;\r\n        this.props.onActionCondition(e, type, component, conditionId);\r\n    }\r\n\r\n    // Обработчик нажатия на конкретный condition\r\n    onActive(e){\r\n        this.setState({ activeCondition: e,  isConditionOpened: true});\r\n    }\r\n    \r\n    // Обработчик отключения condition\r\n    onDisable(e){\r\n        this.onAction(e, 'disable');\r\n    }\r\n    \r\n    // Обработчик экспорта condition\r\n    onExport(e){\r\n    }\r\n    \r\n    // Обработчик удаления condition\r\n    onDelete(e){\r\n        this.onAction(e, 'delete');\r\n    }\r\n\r\n    // Запись значения inputs в стейт (value)\r\n    changeInput = (e, type=\"condition\", compareId=false, compareType=false) => {\r\n        const conditionId = this.state.activeCondition?.id ?? 0;\r\n        if (!conditionId) return;\r\n        this.props.changeInputCondition(e, type, conditionId, compareId, compareType);\r\n    }\r\n\r\n    // Обработчик выбранных селектов\r\n    changeSelect = (e, i, type = 'condition', compareId=false) => {\r\n        const conditionId = this.state.activeCondition?.id ?? 0;\r\n        if (!conditionId) return;        \r\n        this.props.changeSelectCondition(e, i, type, conditionId, compareId);      \r\n    }\r\n\r\n    render(){\r\n        let { isConditionOpened, activeCondition } = this.state;\r\n        let { id, type, name, compares, enabled } = activeCondition;        \r\n        const OptionsCondition = [{label:\"any\", value:1}, {label:\"all\", value:2}];        \r\n        const data = this.props.conditions ?? [];\r\n\r\n        data.map( item => {\r\n            if(item?.id === id){\r\n                type = item.type\r\n                name = item.name\r\n                compares = item.compares\r\n                enabled = item.enabled\r\n            }\r\n        });\r\n\r\n        return <div className=\"admin-notice-condition-box\">\r\n                <div className=\"condition-box\">\r\n                    <button className=\"btn btn_save\" onClick={() => this.onSave()}>\r\n                        Save and Add New Condition\r\n                    </button>\r\n                    <ul>\r\n                        {data.map((item, index) =>\r\n                            <li className=\"list-box\" key={index}>\r\n                                <div className=\"list-item\">\r\n                                    <a className={item.enabled ? \"enabled\" : \"disabled\"} onClick={() => this.onActive(item)}>{item.name ?? ''}</a>\r\n                                </div>\r\n                                <span className=\"quick-action-menu\">\r\n                                    <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item\" onClick={() => this.onActive(item)}>Edit</button></span>\r\n                                    <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item\" onClick={() => this.onDisable(item)}>{item.enabled ? \"Disable\" : \"Enable\"}</button></span>\r\n                                    <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item\" onClick={() => this.onExport(item)}>Export</button></span>\r\n                                    <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item quick-action-menu__item_danger\" onClick={() => this.onDelete(item)}>Trash</button></span>\r\n                                </span>\r\n                            </li>\r\n                        )}\r\n                    </ul>\r\n                </div>\r\n                {isConditionOpened && <div className=\"admin-notice-box-child\">\r\n                    <div className=\"condition-compare-box\">\r\n                        <div className=\"condition-box-general\">\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"condition-input\">Name</label>\r\n                                <input type=\"text\" id=\"condition-input\" name=\"name\" value={name ?? ''} onChange={(e) => { this.changeInput(e)}} className=\"form-control\" />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"condition-select\">Type</label>\r\n                                <AltrpSelect id=\"condition-select\"\r\n                                    onChange={this.changeSelect}\r\n                                    value={_.filter(OptionsCondition, t => type === t.label)}\r\n                                    options={OptionsCondition} />\r\n                            </div>\r\n                        </div>\r\n                        <Compare\r\n                            compares={compares ?? []}\r\n                            onSaveCompare={this.onSave}\r\n                            onActionCompare={this.onAction}\r\n                            changeInputCompare={this.changeInput}\r\n                            changeSelectCompare={this.changeSelect}\r\n                        />\r\n                    </div>\r\n                    <div className=\"btn-box\">\r\n                        <button className=\"btn btn_save\" onClick={() => this.onSave(\"save\")}>\r\n                            Save\r\n                        </button>\r\n                        <button className=\"btn btn_cancel\" onClick={() => this.setState({ isConditionOpened: false, activeCondition: {} })}>\r\n                            Cancel\r\n                        </button>                       \r\n                    </div>\r\n                </div>}\r\n            </div>\r\n    }\r\n}","import React, {Component} from \"react\";\r\n\r\nexport default class DataTab extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    render(){\r\n        const data = this.props.data[0] ?? [];\r\n\r\n        return <div>\r\n            <div className=\"data-box-general\">\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"field-input\">Key</label>\r\n                    <input type=\"text\" id=\"field-input\" name=\"field\" value={data?.field ?? ''} onChange={(e) => { this.props.changeInputData(e, 'field')}} className=\"form-control\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"value-input\">Value</label>\r\n                    <input type=\"text\" id=\"value-input\" name=\"value\" value={data?.value ?? ''} onChange={(e) => { this.props.changeInputData(e, 'value')}} className=\"form-control\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"btn-box\">\r\n                <button className=\"btn btn_save\" onClick={() => this.props.onSaveData('save')}>\r\n                    Save\r\n                </button>\r\n            </div>\r\n        </div>\r\n    }\r\n}","import React, {Component} from \"react\";\r\n\r\nexport default class SendToTab extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n    }\r\n\r\n\r\n    render(){\r\n        const send = this.props.send ?? [];\r\n\r\n        return <div>\r\n            <div className=\"send-checkbox-box\">\r\n                <input\r\n                    type=\"checkbox\"                    \r\n                    id=\"front_checkbox\"\r\n                    checked={send?.front?.enabled}\r\n                    onChange={e => this.props.changeBox(e, 'front')}\r\n                ></input>\r\n                <label htmlFor=\"front_checkbox\" >Front</label>\r\n                <input\r\n                    type=\"checkbox\"                    \r\n                    id=\"telegram_checkbox\"\r\n                    checked={send?.telegram?.enabled}\r\n                    onChange={e => this.props.changeBox(e, 'telegram')}\r\n                ></input>\r\n                <label htmlFor=\"telegram_checkbox\" >Telegram</label>\r\n                <input\r\n                    type=\"checkbox\"                    \r\n                    id=\"email_checkbox\"\r\n                    checked={send?.email?.enabled}\r\n                    onChange={e => this.props.changeBox(e, 'email')}\r\n                ></input>\r\n                <label htmlFor=\"email_checkbox\" >Email</label>\r\n            </div>\r\n\r\n            <div className=\"btn-box\">\r\n                <button className=\"btn btn_save\" onClick={() => this.props.onSaveSend('save')}>\r\n                    Save\r\n                </button>\r\n            </div>\r\n        </div>\r\n    }\r\n}","import React, {Component} from \"react\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { titleToName }from \"../../../js/helpers\";\r\nimport ConditionsTab from \"./ConditionsTab\";\r\nimport DataTab from \"./DataTab\";\r\nimport SendToTab from \"./SendToTab\";\r\nimport AltrpSelect from \"../../altrp-select/AltrpSelect\";\r\nimport Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nimport './admin-notifications.scss';\r\n\r\nclass EditNotification extends Component{\r\n    constructor(props){\r\n        super(props);        \r\n        this.state = {\r\n            user_id: this.props.match.params.id ?? '',\r\n            notice_id: this.props.match.params.name ?? '',\r\n            activeTab: parseInt(window.location.hash[1]) || 0,\r\n            value: '',\r\n            sourcesOptions: [],\r\n        };\r\n        this.resource = new Resource({route: `/admin/ajax/users/${this.state.user_id}/notifications/${this.state.notice_id}`});\r\n        this.resourceEdit = new Resource({route: `/admin/ajax/users/${this.state.user_id}/notifications`});\r\n        this.dataSources = new Resource({ route: \"/admin/ajax/data_source_options\" });\r\n\r\n        this.switchTab = this.switchTab.bind(this);\r\n        this.getSourceArray = this.getSourceArray.bind(this);\r\n        this.onSave = this.onSave.bind(this);\r\n        this.onAction = this.onAction.bind(this);\r\n        this.serverUpdate = this.serverUpdate.bind(this);\r\n        this.getNewValue = this.getNewValue.bind(this);\r\n    }\r\n\r\n    async componentDidMount(){\r\n        const value = await this.resource.getAll();\r\n        const dataSourcesAll = await this.dataSources.getAll();\r\n\r\n        // Проверка на наличие полученной настройки с сервера\r\n        if (value.length === 0) this.getNewValue();\r\n        else this.setState({ value: value[0] });        \r\n\r\n        this.setState({ sourcesOptions: dataSourcesAll?.options ?? [] });\r\n\r\n        this.getSourceArray();\r\n    }   \r\n    \r\n    // Обработка переключения табов\r\n    switchTab(activeTab){\r\n        window.location.hash = activeTab + '';\r\n        this.setState(s=>{return{ ...s, activeTab }})\r\n    }\r\n\r\n    // Создание массива дата-сурсов для селекта\r\n    getSourceArray(){ \r\n        if(this.state.value?.sources instanceof Array){\r\n            let sources = this.state.value.sources.map(item => {\r\n                return item.id;\r\n              });  \r\n            this.setState(s => ({ ...s, value: {...s.value, sources: sources} }));  \r\n        }           \r\n    }\r\n\r\n    // Сохранение и редирект для создания новой настройки\r\n    saveNoticeSetting(){\r\n        const {user_id} = this.state;\r\n        this.serverUpdate(); \r\n\r\n        this.props.history.push(`/admin/users/user/${user_id}/notification/new`);        \r\n        this.getNewValue();\r\n    }\r\n    \r\n    // Создание и запись новой настройки в value\r\n    getNewValue(){\r\n        const newValue = {\r\n            \"name\": \"New Notice Settings\",\r\n            \"enabled\": true,\r\n            \"sources\": [],\r\n            \"notice_settings\": {\r\n                \"notice_name\": \"new_notice_settings\",\r\n                \"conditions\": [\r\n                    {\r\n                        \"id\": 1,\r\n                        \"name\": \"new condition\",\r\n                        \"enabled\": false,\r\n                        \"type\": \"all\",\r\n                        \"compares\": [\r\n                            {\r\n                                \"id\": 1,\r\n                                \"name\": \"title\",\r\n                                \"enabled\": false,\r\n                                \"operator\": \"==\",\r\n                                \"value\": \"value1\"\r\n                            }\r\n                        ]\r\n                    }\r\n                ],\r\n                \"data\": [{\r\n                    \"field\": \"message\",\r\n                    \"value\": \"{{altrpdata.text}} added or updated or deleted\",\r\n                    \"type\": \"content\"\r\n                }],\r\n                \"send\": {\r\n                    \"front\": {\r\n                        \"enabled\": true\r\n                    },\r\n\r\n                    \"email\": {\r\n                        \"enabled\": false,\r\n                        \"template\": \"template\"\r\n                    },\r\n                    \"telegram\": {\r\n                        \"enabled\": false\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.setState(s => ({ ...s, value: newValue, notice_id: \"new\" }));\r\n    }\r\n\r\n    // Отправка изменений на сервер\r\n    serverUpdate(){\r\n        const {notice_id, value} = this.state;\r\n        console.log(notice_id);\r\n\r\n        // Проверка роута (текущая настройка или новая)\r\n        if (notice_id === \"new\") this.resourceEdit.post(value);      \r\n        else this.resourceEdit.put(notice_id, value);       \r\n    }\r\n\r\n    // Сохранение и создание condition или compare\r\n    onSave(type, conditionId = false){\r\n        const {notice_id} = this.state;\r\n\r\n        switch(type){\r\n            case 'condition':\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        const conArray = state.value.notice_settings.conditions;\r\n                        conArray.push({\r\n                            id: conArray.length + 1,\r\n                            name: 'Default New Condition',\r\n                            type: 'all',\r\n                            enabled: false,\r\n                            compares: [],\r\n                        });\r\n                        state.value.notice_settings.conditions = conArray;\r\n                    }    \r\n                    return state\r\n                });        \r\n                break;\r\n            case 'compare':\r\n                if (!conditionId) return;\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        state.value.notice_settings.conditions.map(item => {\r\n                            if(item?.id === conditionId){\r\n                                if(item?.compares instanceof Array){\r\n                                    const comArray = item.compares;\r\n                                    comArray.push({\r\n                                        id: comArray.length + 1,\r\n                                        name: 'Default New Compare',\r\n                                        operator: '==',\r\n                                        enabled: false,\r\n                                        value: 'Default value',\r\n                                    });\r\n                                    item.compares = comArray;\r\n                                }\r\n                            }\r\n                            return item;\r\n                        });    \r\n                    }    \r\n                    return state\r\n                });           \r\n                break;\r\n            case 'save':\r\n                console.log('SAVE');\r\n                this.serverUpdate();\r\n                return;\r\n        }\r\n        if(notice_id !== \"new\") this.serverUpdate();\r\n    }\r\n    \r\n    // Обработка disable и delete у condition и compare\r\n    onAction = (e, type, component = false, conditionId = false) => {\r\n\r\n        switch(component){\r\n            case 'condition':\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        if(type === 'disable'){\r\n                            state.value.notice_settings.conditions.map(item => {\r\n                                if(item.id === e.id) item.enabled = !item.enabled;\r\n                                return item;\r\n                            });    \r\n                        }\r\n                        if(type === 'delete'){\r\n                            if (confirm(\"Are you sure?\")) {\r\n                                let arForDelete = state.value.notice_settings.conditions;\r\n                                arForDelete = _.filter(arForDelete, item => e.id !== item.id);\r\n                                state.value.notice_settings.conditions = arForDelete;\r\n                            }\r\n                        }\r\n                    }    \r\n                    return state\r\n                });             \r\n                break;\r\n            case 'compare':\r\n                if (!conditionId) return;\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        state.value.notice_settings.conditions.map(item => {\r\n                            if(item?.id === conditionId){\r\n                                if(item?.compares instanceof Array){\r\n                                    if(type === 'disable'){\r\n                                        item.compares.map(compare =>{\r\n                                            if(compare?.id === e.id) compare.enabled = !compare.enabled;                                       \r\n                                            return compare;\r\n                                        });\r\n                                    }\r\n                                    if(type === 'delete'){\r\n                                        if (confirm(\"Are you sure?\")) {\r\n                                            let arForDelete = item.compares;\r\n                                            arForDelete = _.filter(arForDelete, item => e.id !== item.id);\r\n                                            item.compares = arForDelete;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            return item;\r\n                        });    \r\n                    }    \r\n                    return state\r\n                });           \r\n                break;\r\n        }\r\n    }\r\n\r\n    changeBox = (e, key) => {\r\n        e.persist();        \r\n        this.setState(state => {\r\n            state.value.notice_settings.send[key].enabled = e.target.checked;\r\n            return state\r\n        });\r\n    }\r\n\r\n    // Запись значения inputs в стейт (value)\r\n    changeInput = (e, type='parent', conditionId=false, compareId=false, compareType=false) => {\r\n\r\n        let name = e.target.value;\r\n\r\n        switch(type){\r\n            case 'field':\r\n                this.setState(state => {\r\n                    state.value.notice_settings.data[0].field = name;\r\n                    return state\r\n                });\r\n        \r\n                // this.setState(s => ({ ...s, value: {...s.value, name: name, notice_settings: {...s.value.notice_settings, data: {...s.value.notice_settings.data, field: name }}} }));\r\n                break;\r\n            case 'value':\r\n                this.setState(state => {\r\n                    state.value.notice_settings.data[0].value = name;\r\n                    return state\r\n                });\r\n\r\n                // this.setState(s => ({ ...s, value: {...s.value, name: name, notice_settings: {...s.value.notice_settings, data: {...s.value.notice_settings.data, value: name }}} }));\r\n                break;\r\n            case 'parent':\r\n                this.setState(s => ({ ...s, value: {...s.value, name: name, notice_settings: {...s.value.notice_settings, notice_name: titleToName(name)}} }));\r\n                break;\r\n            case 'notice':\r\n                this.setState(s => ({ ...s, value: {...s.value, notice_settings: {...s.value.notice_settings, notice_name: titleToName(name)}} }));\r\n                break;\r\n            case 'condition':\r\n                if (!conditionId) return;\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        state.value.notice_settings.conditions.map(item => {\r\n                            if(item.id === conditionId) item.name = name;\r\n                            return item;\r\n                        });    \r\n                    }    \r\n                    return state\r\n                });              \r\n                break;\r\n            case 'compare':\r\n                if (!conditionId || !compareId || !compareType) return;\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        state.value.notice_settings.conditions.map(item => {\r\n                            if(item?.id === conditionId){\r\n                                if(item?.compares instanceof Array){\r\n                                    item.compares.map(compare =>{\r\n                                        if(compare?.id === compareId) compare[compareType] = name;                                       \r\n                                        return compare;\r\n                                    });\r\n                                }\r\n                            }\r\n                            return item;\r\n                        });    \r\n                    }    \r\n                    return state\r\n                });            \r\n                break;\r\n        }        \r\n    }    \r\n\r\n    // Запись выбранных селектов Data source в стейт (value)\r\n    changeSelect = (e, i, type = 'parent', conditionId=false, compareId=false) => {\r\n        \r\n        switch(type){\r\n            case 'parent':\r\n                this.setState({\r\n                    value: {\r\n                        ...this.state.value,\r\n                        sources: e ? e.map(item => item.value) : []\r\n                    }    \r\n                });            \r\n                break;\r\n            case 'condition':\r\n                if (!conditionId) return;\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        state.value.notice_settings.conditions.map(item => {\r\n                            if(item.id === conditionId) item.type = e.label;\r\n                            return item;\r\n                        });    \r\n                    }    \r\n                    return state\r\n                });           \r\n                break;\r\n            case 'compare':\r\n                if (!conditionId || !compareId) return;\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        state.value.notice_settings.conditions.map(item => {\r\n                            if(item?.id === conditionId){\r\n                                if(item?.compares instanceof Array){\r\n                                    item.compares.map(compare =>{\r\n                                        if(compare?.id === compareId) compare.operator = e.value;                                       \r\n                                        return compare;\r\n                                    });\r\n                                }\r\n                            }\r\n                            return item;\r\n                        });    \r\n                    }    \r\n                    return state\r\n                });            \r\n                break;\r\n        }        \r\n    }\r\n\r\n    render(){\r\n        let { value, sourcesOptions, user_id } = this.state;\r\n        let { sources, notice_settings } = this.state.value;\r\n\r\n        return <div className=\"wrapper\">\r\n            <div className=\"admin-notice--heading\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <Link to={`/admin/users`}>Users</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <Link to={`/admin/users/user/${user_id}`}>{user_id}</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <Link to={`/admin/users/user/${user_id}#1`}>Settings</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">{value?.notice_name ?? ''}</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"admin-notice-box-parent\">\r\n                <button className=\"btn btn_save\" onClick={() => this.saveNoticeSetting()}>\r\n                    Save and Add New\r\n                </button>\r\n                <div className=\"admin-notice-general\">\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"page-name\">Name</label>\r\n                        <input type=\"text\" id=\"name\" name=\"name\" value={value?.name ?? ''} onChange={(e) => { this.changeInput(e) }} className=\"form-control\" />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"page-name\">Notice Name</label>\r\n                        <input type=\"text\" id=\"name\" name=\"name\" value={notice_settings?.notice_name ?? ''} onChange={(e) => { this.changeInput(e, 'notice') }} className=\"form-control\" />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"source\">Data source</label>\r\n                        <AltrpSelect id=\"source\"\r\n                            isMulti={true}\r\n                            value={_.filter(sourcesOptions, s => sources.indexOf(s.value) >= 0)}\r\n                            onChange={this.changeSelect}\r\n                            options={sourcesOptions} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Tabs selectedIndex={this.state.activeTab} onSelect={this.switchTab} >\r\n                <TabList className=\"nav nav-pills admin-pills\">\r\n                    <Tab> Conditions </Tab>\r\n                    <Tab> Data </Tab>\r\n                    <Tab> Send to </Tab>\r\n                </TabList>\r\n                <TabPanel>\r\n                    <ConditionsTab\r\n                        conditions={notice_settings?.conditions ?? []}\r\n                        onSaveCondition={this.onSave}\r\n                        onActionCondition={this.onAction}\r\n                        changeInputCondition={this.changeInput}\r\n                        changeSelectCondition={this.changeSelect}\r\n                    />\r\n                </TabPanel>\r\n                <TabPanel>\r\n                    <DataTab \r\n                        data={notice_settings?.data ?? []}\r\n                        onSaveData={this.onSave}\r\n                        changeInputData={this.changeInput}\r\n                    />\r\n                </TabPanel>\r\n                <TabPanel>\r\n                    <SendToTab\r\n                        send={notice_settings?.send ?? []}\r\n                        onSaveSend={this.onSave}\r\n                        changeBox={this.changeBox}\r\n                    />\r\n                </TabPanel>\r\n            </Tabs>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default withRouter(EditNotification);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport { Redirect, withRouter } from 'react-router-dom';\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\n//import TableForm from \"../../../../admin/src/components/tables/TableForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass UserForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: this.props.id,\r\n      user: {},\r\n      usermeta: {},\r\n      errors: [],\r\n      redirectAfterSave: false,\r\n      redirectAfterError: false,\r\n      redirect_error_url: \"/admin/users\",\r\n      rolesOptions: [],\r\n      permissionsOptions: [],\r\n      isPasswordChange: false\r\n    };\r\n\r\n    if (!this.state.id) {\r\n      console.log(this.props.id)\r\n    }\r\n\r\n    this.resource = new Resource({ route: '/admin/ajax/users' });\r\n    this.rolesOptions = new Resource({ route: '/admin/ajax/role_options' });\r\n    this.permissionsOptions = new Resource({ route: '/admin/ajax/permissions_options' });\r\n\r\n    this.saveUser = this.saveUser.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const rolesOptions = await this.rolesOptions.getAll();\r\n    this.setState(state => ({ ...state, rolesOptions }));\r\n    const permissionsOptions = await this.permissionsOptions.getAll();\r\n    this.setState(state => ({ ...state, permissionsOptions }));\r\n    if (!this.state.id) {\r\n      return;\r\n    }\r\n\r\n    if (this.state.id) {\r\n\r\n      let user_data = await this.resource.get(this.state.id);\r\n\r\n      this.setState(state => {\r\n        return { ...state, user: user_data }\r\n      }, async () => {\r\n        let usermeta_data = await this.resource.get(this.state.id + \"/usermeta\");\r\n\r\n        this.setState(state => {\r\n          return { ...state, usermeta: usermeta_data }\r\n        });\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  async saveUser(e) {\r\n    e.preventDefault();\r\n    let res, usermeta_resource, usermeta_res;\r\n    const { isPasswordChange, user: { password, password_confirmation}} = this.state;\r\n    if (isPasswordChange && password !== password_confirmation) {\r\n      return alert(\"Password doesn't match confirmation\");\r\n    }\r\n\r\n    if (this.state.id) {\r\n      res = await this.resource.put(this.state.id, this.state.user);\r\n    } else {\r\n      res = await this.resource.post(this.state.user);\r\n    }\r\n    console.log(res);\r\n\r\n\r\n\r\n    if (res) {\r\n\r\n      //Обновление меты\r\n      usermeta_resource = new Resource({ route: '/admin/ajax/users/' + res.id + \"/usermeta\" });\r\n\r\n      usermeta_res = await usermeta_resource.post(this.state.usermeta);\r\n\r\n      if (usermeta_res) {\r\n        this.setState(state => {\r\n          return { ...state, redirectAfterSave: true }\r\n        });\r\n      }\r\n      else {\r\n        this.setState(state => {\r\n          return { ...state, redirectAfterError: true, redirect_error_url: this.state.redirect_error_url + \"/user/\" + res.id }\r\n        });\r\n      }\r\n\r\n\r\n    } else {\r\n      /*this.setState(state=>{\r\n          return {...state, value: {}}\r\n      });*/\r\n    }\r\n  }\r\n\r\n  changeValue = (e, source = \"user\") => {\r\n    let field = e.target.name;\r\n    let value = e.target.value;\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      state[source][field] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  changeRolesHandler = roles => {\r\n    this.setState({\r\n      usermeta: {\r\n        ...this.state.usermeta,\r\n        roles: roles ? roles.map(role => role.value) : []\r\n      },\r\n      user: {\r\n        ...this.state.user,\r\n        _roles: roles ? roles.map(role => role.value) : []\r\n      }\r\n    })\r\n  };\r\n\r\n  changePermissionsHandler = permissions => {\r\n    this.setState({\r\n      usermeta: {\r\n        ...this.state.usermeta,\r\n        permissions: permissions ? permissions.map(permission => permission.value) : []\r\n      },\r\n      user: {\r\n        ...this.state.user,\r\n        _permissions: permissions ? permissions.map(permission => permission.value) : []\r\n      }\r\n    })\r\n  };\r\n\r\n  render() {\r\n\r\n    const { rolesOptions, permissionsOptions, isPasswordChange } = this.state;\r\n    const { _roles: roles = [], _permissions: permissions = [] } = this.state.user;\r\n    if (this.state.redirectAfterSave) {\r\n      return <Redirect to={this.props.redirect_url} />\r\n    }\r\n    if (this.state.redirectAfterError) {\r\n      return <Redirect to={this.state.redirect_error_url} />\r\n    }\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.saveUser}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-name\">Name</label>\r\n        <input type=\"text\" id=\"name\" name=\"name\" required={1}\r\n          value={this.state.user.name || ''}\r\n          disabled={this.props.id}\r\n          onChange={(e) => { this.changeValue(e) }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-title\">Email</label>\r\n        <input type=\"email\" id=\"email\" name=\"email\" required={1}\r\n          value={this.state.user.email || ''}\r\n          onChange={(e) => { this.changeValue(e) }}\r\n          disabled={this.props.id}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      {!this.state.id ?\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"page-description\">Password</label>\r\n          <input type=\"password\" id=\"password\" name=\"password\" required={1}\r\n            minlength={8}\r\n            value={this.state.user.password || ''}\r\n            onChange={(e) => { this.changeValue(e) }}\r\n            className=\"form-control\" />\r\n        </div> : null}\r\n      {!this.state.id ?\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"page-description\">Confirm Password</label>\r\n          <input type=\"password\" id=\"password_confirmation\" name=\"password_confirmation\" required={1}\r\n            minlength={8}\r\n            value={this.state.user.password_confirmation || ''}\r\n            onChange={(e) => { this.changeValue(e) }}\r\n            className=\"form-control\" />\r\n        </div> : null}\r\n\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-description\">First Name</label>\r\n        <input type=\"text\" id=\"first_name\" name=\"first_name\"\r\n          value={this.state.usermeta.first_name || ''}\r\n          onChange={(e) => { this.changeValue(e, \"usermeta\") }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-description\">Second Name</label>\r\n        <input type=\"text\" id=\"second_name\" name=\"second_name\"\r\n          value={this.state.usermeta.second_name || ''}\r\n          onChange={(e) => { this.changeValue(e, \"usermeta\") }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-description\">Telegram ID</label>\r\n        <input type=\"text\" id=\"telegram_user_id\" name=\"telegram_user_id\"\r\n          value={this.state.user.telegram_user_id || ''}\r\n          onChange={(e) => { this.changeValue(e) }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-description\">Patronymic</label>\r\n        <input type=\"text\" id=\"patronymic\" name=\"patronymic\"\r\n          value={this.state.usermeta.patronymic || ''}\r\n          onChange={(e) => { this.changeValue(e, \"usermeta\") }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"roles\">Roles</label>\r\n        <AltrpSelect id=\"roles\"\r\n          closeMenuOnSelect={false}\r\n          value={_.filter(rolesOptions, r => roles && roles.indexOf(r.value) >= 0)}\r\n          isMulti={true}\r\n          onChange={this.changeRolesHandler}\r\n          options={rolesOptions} />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"permissions\">Permissions</label>\r\n        <AltrpSelect id=\"permissions\"\r\n          value={_.filter(permissionsOptions, p => permissions && permissions.indexOf(p.value) >= 0)}\r\n          closeMenuOnSelect={false}\r\n          isMulti={true}\r\n          onChange={this.changePermissionsHandler}\r\n          options={permissionsOptions} />\r\n      </div>\r\n\r\n      {this.state.id && <div className=\"form-group\">\r\n        <input type=\"checkbox\" id=\"changePassword\"\r\n          checked={isPasswordChange}\r\n          onChange={e => { this.setState({ isPasswordChange: e.target.checked }) }}\r\n        />\r\n        <label className=\"checkbox-label\" htmlFor=\"changePassword\">Change Password</label>\r\n      </div>}\r\n\r\n      {isPasswordChange && this.state.id && <>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"newPassword\">New Password</label>\r\n          <input type=\"password\" id=\"newPassword\" name=\"password\" required\r\n            minlength={8}\r\n            value={this.state.user.password || ''}\r\n            onChange={this.changeValue}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"page-description\">Confirm Password</label>\r\n          <input type=\"password\" id=\"confirmNewPassword\" name=\"password_confirmation\" required\r\n            minlength={8}\r\n            value={this.state.user.password_confirmation || ''}\r\n            onChange={this.changeValue}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </>}\r\n\r\n      <button className=\"btn btn_success\">{this.state.id ? 'Save' : 'Add'}</button>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default UserForm;\r\n","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport UserForm from \"./UserForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass AddUserPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      redirectAfterSave: false,\r\n    };\r\n    this.resource = new Resource({route: '/admin/ajax/users'});\r\n    \r\n    //this.savePage = this.savePage.bind(this);\r\n  }\r\n  /*async componentDidMount(){\r\n    let res = await this.templateResource.getOptions();\r\n    this.setState(state=>{\r\n      return{...state, templates: res}\r\n    });\r\n    let id = this.props.location.pathname.split('/');\r\n    id = id[id.length - 1];\r\n    id = parseInt(id);\r\n    if(id){\r\n      let pageData = await this.resource.get(id);\r\n      this.setState(state=>{\r\n        return{...state, value:pageData, id}\r\n      });\r\n    }\r\n  }*/\r\n  /*async savePage(e){\r\n    e.preventDefault();\r\n    let res;\r\n    let path = this.state.value.path;\r\n\r\n    path = path.split('\\\\').join('/');\r\n    path = (path[0] !== '/') ? `/${path}` : path;\r\n    this.state.value.path = path;\r\n    if(this.state.id){\r\n      res = await this.resource.put(this.state.id, this.state.value);\r\n    } else {\r\n      res = await this.resource.post(this.state.value);\r\n    }\r\n    if(res.success){\r\n      this.setState(state=>{\r\n        return {...state, redirectAfterSave: true}\r\n      });\r\n    } else {\r\n      this.setState(state=>{\r\n        return {...state, value: {}}\r\n      });\r\n    }\r\n  }\r\n  changeValue(value, field){\r\n    if(field === 'path'){\r\n      value = value.split('\\\\').join('/');\r\n      value = (value[0] !== '/') ? `/${value}` : value;\r\n    }\r\n    this.setState(state=>{\r\n      state = {...state};\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }*/\r\n  render() {\r\n    if(this.state.redirectAfterSave){\r\n      return<Redirect to=\"/admin/users\"/>\r\n    }\r\n    return <div className=\"admin-users\">\r\n        <div className=\"wrapper\">\r\n            <div className=\"admin-heading-users\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <Link className=\"admin-breadcrumbs__link\" to={\"/admin/users\"}>Users</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">Add New Users</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"admin-users-form\">\r\n                <UserForm redirect_url=\"/admin/users\"/>\r\n            </div>\r\n        </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddUserPage);","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport UserForm from \"./UserForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass EditUserPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        user_id: this.props.match.params.id,\r\n        redirectAfterSave: false,\r\n    };\r\n    this.resource = new Resource({route: '/admin/ajax/users/user'});\r\n    \r\n    //this.savePage = this.savePage.bind(this);\r\n  }\r\n  /*async componentDidMount(){\r\n    let res = await this.templateResource.getOptions();\r\n    this.setState(state=>{\r\n      return{...state, templates: res}\r\n    });\r\n    let id = this.props.location.pathname.split('/');\r\n    id = id[id.length - 1];\r\n    id = parseInt(id);\r\n    if(id){\r\n      let pageData = await this.resource.get(id);\r\n      this.setState(state=>{\r\n        return{...state, value:pageData, id}\r\n      });\r\n    }\r\n  }*/\r\n  /*async savePage(e){\r\n    e.preventDefault();\r\n    let res;\r\n    let path = this.state.value.path;\r\n\r\n    path = path.split('\\\\').join('/');\r\n    path = (path[0] !== '/') ? `/${path}` : path;\r\n    this.state.value.path = path;\r\n    if(this.state.id){\r\n      res = await this.resource.put(this.state.id, this.state.value);\r\n    } else {\r\n      res = await this.resource.post(this.state.value);\r\n    }\r\n    if(res.success){\r\n      this.setState(state=>{\r\n        return {...state, redirectAfterSave: true}\r\n      });\r\n    } else {\r\n      this.setState(state=>{\r\n        return {...state, value: {}}\r\n      });\r\n    }\r\n  }\r\n  changeValue(value, field){\r\n    if(field === 'path'){\r\n      value = value.split('\\\\').join('/');\r\n      value = (value[0] !== '/') ? `/${value}` : value;\r\n    }\r\n    this.setState(state=>{\r\n      state = {...state};\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }*/\r\n  render() {\r\n    if(this.state.redirectAfterSave){\r\n      return<Redirect to=\"/admin/users\"/>\r\n    }\r\n    return <div className=\"admin-users\">\r\n        <div className=\"wrapper\">\r\n            <div className=\"admin-heading-users\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <Link className=\"admin-breadcrumbs__link\" to={\"/admin/users\"}>Users</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">Add New Users</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"admin-users-form\">\r\n                <UserForm redirect_url=\"/admin/users\" id={this.state.user_id} />\r\n            </div>\r\n        </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(EditUserPage);","import React, {Component} from \"react\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport Notifications from \"./Notifications/Notifications\";\r\nimport EditUserPage from \"./EditUserPage\";\r\nimport {withRouter} from 'react-router-dom';\r\n\r\n\r\nclass UserPage extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.switchTab = this.switchTab.bind(this);\r\n    this.state = {\r\n      activeTab: parseInt(window.location.hash[1]) || 0,\r\n    };\r\n  }\r\n\r\n  switchTab(activeTab){\r\n    window.location.hash = activeTab + '';\r\n    this.setState(state=>{return{ ...state, activeTab }})\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"admin-settings admin-page\">\r\n                <div className=\"admin-content\">\r\n                    <Tabs selectedIndex={this.state.activeTab} onSelect={this.switchTab} >\r\n                        <TabList className=\"nav nav-pills admin-pills\">\r\n                            <Tab>\r\n                            Edit user\r\n                            </Tab>\r\n                            <Tab>\r\n                            Notifications\r\n                            </Tab>\r\n                        </TabList>\r\n                        <TabPanel>\r\n                            <EditUserPage/>\r\n                        </TabPanel>\r\n                        <TabPanel>\r\n                            <Notifications/>\r\n                        </TabPanel>\r\n                    </Tabs>\r\n                </div>\r\n            </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(UserPage);\r\n","import React, {Component} from \"react\";\r\nimport PluginSvg from \"../../svgs/plugins.svg\";\r\n\r\nexport default class UsersTools extends Component{\r\n  render(){ return <div id=\"content\">\r\n\r\n          <div className=\"admin-heading-users\">\r\n            <div className=\"admin-breadcrumbs\">\r\n              <a className=\"admin-breadcrumbs__link\" href=\"#\">Users</a>\r\n              <span className=\"admin-breadcrumbs__separator\">/</span>\r\n              <span className=\"admin-breadcrumbs__current\">Tools</span>\r\n            </div>\r\n          </div>\r\n\r\n          <ul className=\"nav nav-tabs\">\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link active\" href=\"#\">Tools</a>\r\n            </li>\r\n          </ul>\r\n          <div className=\"border border-top-0\">\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-sm-8 d-flex change-role\">\r\n\r\n                <span>Change role</span>\r\n                <select className=\"form-control form-control-sm\">\r\n                  <option value=\"1\">Editor</option>\r\n                  <option value=\"2\">Moderator</option>\r\n                </select>\r\n                <div className=\"form-check form-check-inline\">\r\n                  <input className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"checkbox__1\"/>\r\n                    <label className=\"form-check-label\" htmlFor=\"checkbox__1\">Readable features</label>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"row group-table border border-bottom-0 border-left-0 border-right-0 no-gutters\">\r\n              <div className=\"col-3\">\r\n                <span className=\"text-group\">Groups</span>\r\n                <span className=\"text-total\">(Total/Allowed)</span>\r\n              </div>\r\n              <div className=\"col-6 form-check form-check-inline\">\r\n                <input className=\"form-check-input\" type=\"checkbox\" id=\"checkbox__2\"/>\r\n                  <label className=\"form-check-label\" htmlFor=\"checkbox__2\">Fast filter:</label>\r\n\r\n                  <input type=\"search\" className=\"search-tools form-control-sm\" placeholder=\"\"\r\n                         aria-controls=\"example1\"/>\r\n                    <input className=\"form-check-input\" type=\"checkbox\" id=\"checkbox__3\"/>\r\n                      <label className=\"form-check-label\" htmlFor=\"checkbox__3\">Only Allowed</label>\r\n\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <form action=\"#\" className=\"form-tools\">\r\n                  <button type=\"submit\" className=\"btn-tools\">Save Changes</button>\r\n                </form>\r\n\r\n              </div>\r\n            </div>\r\n            <div className=\"row group-table-trees border border-bottom-0 border-left-0 border-right-0 no-gutters\">\r\n              <div className=\"col-3\">\r\n                <div className=\"treeview\">\r\n                  <ul>\r\n                    <li>\r\n                      <div>\r\n                        <p>\r\n                          <a href=\"#\" className=\"core\">Core (112/2)</a>\r\n                        </p>\r\n                      </div>\r\n                      <ul>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Dashboard (10/1)</a>\r\n                            </p>\r\n                            <p className=\"form-group-p\"><a href=\"#\">Rename</a><span> | </span><a\r\n                              href=\"#\">Copy</a><span> | </span><a href=\"#\">Delete</a></p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Assets (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Tables (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Templates (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Reports (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Users (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Plugins (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li className=\"cl\">\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Setings (42/5)</a>\r\n                            </p>\r\n                          </div>\r\n                          <ul className=\"l\">\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Builder (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Import/Export (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Integration (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Sender (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Acquiring (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Tuner (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                          </ul>\r\n                        </li>\r\n                      </ul>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n\r\n              </div>\r\n              <div className=\"col-6 form-check form-check-group\">\r\n                <fieldset className=\"form-group\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-sm-10\">\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios1\" value=\"option1\" defaultChecked/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios1\">\r\n                            Create Template\r\n                          </label>\r\n                          <p className=\"form-group-p\"><a href=\"#\">Rename</a><span> | </span><a\r\n                            href=\"#\">Copy</a><span> | </span><a href=\"#\">Delete</a></p>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios2\" value=\"option2\" defaultChecked/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios2\">\r\n                            Duplicate Template\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios3\" value=\"option3\"/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios3\">\r\n                            Activate / Deactivate Widgets\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios4\" value=\"option4\"/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios4\">\r\n                            Setup Integration\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios5\" value=\"option5\"/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios5\">\r\n                            Import / Export Templates\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios6\" value=\"option6\"/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios6\">\r\n                            Delete Template\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios7\" value=\"option7\" defaultChecked/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios7\">\r\n                            Edit Template\r\n                          </label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </fieldset>\r\n              </div>\r\n              <div className=\"col-3 \">\r\n                <form action=\"#\" className=\"group-vertical\">\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Add New Role</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Rename Role</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Delete Role</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Add New Group</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Add New Permission</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Tools Export</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Tools Import</button>\r\n                </form>\r\n                <form action=\"#\" className=\"dangerous\">\r\n                  <span>Warning! that “Reset” action could be dangerous</span>\r\n                  <button type=\"submit\" className=\"btn-danger\">RESET</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { FormSpy } from 'react-final-form'\r\nimport diff from 'object-diff';\r\n\r\nclass AutoSave extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { values: props.values, submitting: false }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout)\r\n        }\r\n        this.timeout = setTimeout(this.save, this.props.debounce)\r\n    }\r\n\r\n    save = async () => {\r\n        if (this.promise) {\r\n            await this.promise\r\n        }\r\n        const { values, save } = this.props\r\n\r\n        const difference = diff(this.state.values, values)\r\n        if (Object.keys(difference).length) {\r\n            this.setState({ submitting: true, values })\r\n            this.promise = save(difference)\r\n            await this.promise\r\n            delete this.promise\r\n            this.props.updateAsset(this.state.values.id, this.state.values)\r\n\r\n            this.setState({ submitting: false })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            this.state.submitting && <div className=\"document-detail__save-notification\">Saved.</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default props => (\r\n    <FormSpy {...props} subscription={{ values: true }} component={AutoSave} />\r\n)","import React from 'react';\r\nimport { Form, Field } from 'react-final-form';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport AutoSave from './AutoSaveDocumentDetail';\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\nimport { createGlobalStyle } from \"styled-components\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  #admin {\r\n    overflow: hidden;\r\n  }\r\n`;\r\n\r\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms))\r\n\r\nexport class ImageDetail extends React.Component {\r\n    state = {}\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.imageId !== this.props.imageId && this.props.imageId !== null) {\r\n            this.props.getAsset(this.props.imageId).then(data => this.setState(data, () => { this.getAuthorList(this.state.author) }))\r\n        }\r\n    }\r\n\r\n    getAuthorList = (id) => {\r\n        this.props.getAuthorList().then(data => {\r\n            let author = data.find(item => item.id == id);\r\n            this.setState({\r\n                authorName: author.name,\r\n            })\r\n        })\r\n    }\r\n\r\n    deleteAsset(imageId) {\r\n        this.props.deleteAsset(imageId)\r\n    }\r\n\r\n    save = async values => {\r\n        if (values.width !== undefined) {\r\n            this.setState({\r\n                width: values.width\r\n            })\r\n        }\r\n        if (values.height !== undefined) {\r\n            this.setState({\r\n                height: values.height\r\n            })\r\n        }\r\n        await sleep(1000)\r\n    }\r\n\r\n    render() {\r\n        const { authorName, url, created_at, filename, media_type, height, width } = this.state\r\n\r\n        if (!this.props.imageId) return null;\r\n\r\n        return (\r\n            <div>\r\n                <GlobalStyle />\r\n                <div onClick={this.props.closeImageDetail} className=\"document-detail_opacity-background\"></div>\r\n                <div className=\"document-detail\">\r\n                    <div className=\"document-detail_header\">\r\n                        <div className=\"document-detail__title\">Attachment details</div>\r\n                        <div className=\"document-detail__btn-nav-group\">\r\n                            {this.props.havePreviousImage\r\n                                ? <button onClick={this.props.prevImageDetail} className=\"document-detail__btn-nav\"><ArrowBackIosIcon fontSize=\"small\" /></button>\r\n                                : <button onClick={this.props.prevImageDetail} disabled className=\"document-detail__btn-nav\"><ArrowBackIosIcon fontSize=\"small\" /></button>}\r\n                            {this.props.haveNextImage\r\n                                ? <button onClick={this.props.nextImageDetail} className=\"document-detail__btn-nav\"><ArrowForwardIosIcon fontSize=\"small\" /></button>\r\n                                : <button onClick={this.props.nextImageDetail} disabled className=\"document-detail__btn-nav\"><ArrowForwardIosIcon fontSize=\"small\" /></button>}\r\n                            <button onClick={this.props.closeImageDetail} className=\"document-detail__btn-nav\"><CloseIcon fontSize=\"small\" /></button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"document-detail__content\">\r\n                        <div className=\"document-detail__display\">\r\n                            <img className=\"document-detail__image\" width={width} height={height} src={url} draggable=\"false\" alt=\"\" />\r\n                            <button className=\"document-detail__btn document-detail__btn-edit-image\">Edit image</button>\r\n                        </div>\r\n                        <div className=\"document-detail__editing-section\">\r\n                            <div className=\"document-detail__data-wrap\">\r\n                                <div className=\"document-detail__data\">\r\n                                    <div>Uploaded on: <span className=\"document-detail__data-result\">{created_at}</span></div>\r\n                                    <div>Uploaded by: <span className=\"document-detail__data-result\">{authorName}</span></div>\r\n                                    <div>File name: <span className=\"document-detail__data-result\">{filename}</span></div>\r\n                                    <div>File type: <span className=\"document-detail__data-result\">{media_type}</span></div>\r\n                                    <div>File size: <span className=\"document-detail__data-result\">7 KB</span></div>\r\n                                    <div>Dimensions: <span className=\"document-detail__data-result\">{height} by {width} pixels</span></div>\r\n                                </div>\r\n                            </div>\r\n                            <Form initialValues={this.state} onSubmit={this.save}>\r\n                                {props => (\r\n                                    <form onSubmit={props.handleSubmit}>\r\n                                        <AutoSave updateAsset={this.props.updateAsset} debounce={1000} save={this.save} />\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Alternative Text</span><Field\r\n                                            name=\"alternate_text\"\r\n                                            label=\"Alt\"\r\n                                            component=\"input\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__input\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Title</span><Field\r\n                                            name=\"title\"\r\n                                            label=\"Title\"\r\n                                            component=\"input\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__input\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Caption</span><Field\r\n                                            name=\"caption\"\r\n                                            label=\"Caption\"\r\n                                            component=\"textarea\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__textarea\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Description</span><Field\r\n                                            name=\"description\"\r\n                                            label=\"Description\"\r\n                                            component=\"textarea\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__textarea\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Width</span><Field\r\n                                            name=\"width\"\r\n                                            label=\"Width\"\r\n                                            component=\"input\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__input\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Height</span><Field\r\n                                            name=\"height\"\r\n                                            label=\"Height\"\r\n                                            component=\"input\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__input\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__line-to-change_uploated-by\">Uploated By<span className=\"document-detail__name-of-changes__uploated-by\">{authorName}</span></div>\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">File URL:</span><Field\r\n                                            name=\"url\"\r\n                                            label=\"File URL\"\r\n                                            component=\"input\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__input\"\r\n                                        /></div>\r\n                                        <div><CopyToClipboard text={props.values.url}><button className=\"document-detail__btn document-detail__btn-copy-url\">Copy URL to clipboard</button></CopyToClipboard></div>\r\n                                        <div className=\"document-detail__btn-delete-wrap\"><button onClick={() => this.deleteAsset(props.values.id)} className=\"document-detail__btn-delete\">Delete permanently</button></div>\r\n                                    </form >\r\n                                )\r\n                                }\r\n                            </Form>\r\n                        </div >\r\n                    </div >\r\n                </div >\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Form, Field } from 'react-final-form';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport AutoSave from './AutoSaveDocumentDetail';\r\nimport { createGlobalStyle } from \"styled-components\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  #admin {\r\n    overflow: hidden;\r\n  }\r\n`;\r\n\r\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms))\r\n\r\nconst save = async values => {\r\n    await sleep(1000)\r\n}\r\n\r\nexport class FontsDetail extends React.Component {\r\n    state = {}\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.fontId !== this.props.fontId && this.props.fontId !== null) {\r\n            this.props.getAsset(this.props.fontId).then(data => this.setState(data, () => { this.getAuthorList(this.state.author) }))\r\n        }\r\n    }\r\n\r\n    getAuthorList = (id) => {\r\n        this.props.getAuthorList().then(data => {\r\n            let author = data.find(item => item.id == id);\r\n            this.setState({\r\n                authorName: author.name,\r\n            })\r\n        })\r\n    }\r\n    \r\n    deleteAsset(id) {\r\n        this.props.deleteAsset(id)\r\n    }\r\n\r\n    render() {\r\n        const { authorName, created_at, filename, media_type } = this.state\r\n\r\n        if (!this.props.fontId) return null;\r\n\r\n        return (\r\n            <div>\r\n                <GlobalStyle />\r\n                <div onClick={this.props.closeFontDetail} className=\"document-detail_opacity-background\"></div>\r\n                <div className=\"document-detail\">\r\n                    <div className=\"document-detail_header\">\r\n                        <div className=\"document-detail__title\">Attachment details</div>\r\n                        <div className=\"document-detail__btn-nav-group\">\r\n                            {this.props.havePreviousImage\r\n                                ? <button onClick={this.props.prevFontDetail} className=\"document-detail__btn-nav\"><ArrowBackIosIcon fontSize=\"small\" /></button>\r\n                                : <button onClick={this.props.prevFontDetail} disabled className=\"document-detail__btn-nav\"><ArrowBackIosIcon fontSize=\"small\" /></button>}\r\n                            {this.props.haveNextImage\r\n                                ? <button onClick={this.props.nextFontDetail} className=\"document-detail__btn-nav\"><ArrowForwardIosIcon fontSize=\"small\" /></button>\r\n                                : <button onClick={this.props.nextFontDetail} disabled className=\"document-detail__btn-nav\"><ArrowForwardIosIcon fontSize=\"small\" /></button>}\r\n                            <button onClick={this.props.closeFontDetail} className=\"document-detail__btn-nav\"><CloseIcon fontSize=\"small\" /></button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"document-detail__content\">\r\n                        <div className=\"document-detail__display\">\r\n                            \r\n                        </div>\r\n                        <div className=\"document-detail__editing-section\">\r\n                            <div className=\"document-detail__data-wrap\">\r\n                                <div className=\"document-detail__data\">\r\n                                    <div>Uploaded on: <span className=\"document-detail__data-result\">{created_at}</span></div>\r\n                                    <div>Uploaded by: <span className=\"document-detail__data-result\">{authorName}</span></div>\r\n                                    <div>File name: <span className=\"document-detail__data-result\">{filename}</span></div>\r\n                                    <div>File type: <span className=\"document-detail__data-result\">{media_type}</span></div>\r\n                                    <div>File size: <span className=\"document-detail__data-result\">7 KB</span></div>\r\n                                </div>\r\n                            </div>\r\n                            <Form initialValues={this.state} onSubmit={save}>\r\n                                {props => (\r\n                                    <form onSubmit={props.handleSubmit}>\r\n                                        <AutoSave updateAsset={this.props.updateAsset} debounce={1000} save={save} />\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Font Family</span><Field\r\n                                            name=\"font_family\"\r\n                                            component=\"input\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__input\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Font Name</span><Field\r\n                                            name=\"font_name\"\r\n                                            component=\"input\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__input\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__btn-delete-wrap\"><button onClick={() => this.deleteAsset(props.values.id)} className=\"document-detail__btn-delete\">Delete permanently</button></div>\r\n                                    </form >\r\n                                )\r\n                                }\r\n                            </Form>\r\n                        </div >\r\n                    </div >\r\n                </div >\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\n\r\nimport { iconsManager } from \"../js/helpers\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport { ImageDetail } from \"./ImageDetail\";\r\nimport { FontsDetail } from \"./FontsDetail\";\r\n\r\nclass Assets extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onDragOver = this.onDragOver.bind(this);\r\n    this.onDragLeave = this.onDragLeave.bind(this);\r\n    this.onDrop = this.onDrop.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.deleteClick = this.deleteClick.bind(this);\r\n    this.isActiveLink = this.isActiveLink.bind(this);\r\n    this.changeUrlForTab = this.changeUrlForTab.bind(this);\r\n    this.state = {\r\n      uploaderClasses: 'admin-assets__uploader uploader',\r\n      assets: [],\r\n      acceptInput: '',\r\n      itemDeleteClasses: 'item__delete',\r\n      activeLink: '',\r\n      imageId: null,\r\n      fontId: null,\r\n      havePreviousImage: true,\r\n      haveNextImage: true,\r\n      haveNextFont: true,\r\n      havePreviousFont: true,\r\n    };\r\n    this.typesFiles = {\r\n      images: ['png', 'gif', 'jpg', 'jpeg', 'webp'],\r\n      svgs: ['svg'],\r\n      fonts: ['ttf', 'otf', 'woff', 'woff2', 'eot'],\r\n      archives: ['zip', 'rar'],\r\n      documents: ['doc', 'docx', 'xls', 'xlsx', 'ppt', 'odt', 'ods', 'odp'],\r\n      medias: ['wav', 'mp3', 'mp4', 'avi', 'webm'],\r\n      others: ['']\r\n    };\r\n    this.resource = new Resource({ route: '/admin/ajax/media' });\r\n  }\r\n\r\n  deleteClick(e) {\r\n    let assetId = e.currentTarget.dataset.assetid;\r\n    this.setState(state => {\r\n      return { ...state, itemDeleteClasses: 'item__delete altrp-disabled' }\r\n    });\r\n    this.resource.delete(assetId).then(res => {\r\n      if (res.success) {\r\n        let newAssets = [...this.state.assets];\r\n        newAssets = _.filter(newAssets, item => !(item.id === Number(assetId)));\r\n        this.setState(state => {\r\n          return { ...state, assets: newAssets, itemDeleteClasses: 'item__delete' };\r\n        })\r\n      }\r\n    });\r\n  }\r\n  updateAssets(files) {\r\n    this.resource.postFiles(files).then(res => {\r\n      if (res.length) {\r\n        const activeLink = this.changeUrlForTab();\r\n        this.filterAssets(activeLink);\r\n      }\r\n    })\r\n  }\r\n  getAsset = (assetId) => {\r\n    // get request by asset id\r\n    return this.resource.get(assetId)\r\n  }\r\n  getAuthorList = () => {\r\n    return this.resource.getAuthorList()\r\n  }\r\n  updateAsset = (assetId, data) => {\r\n    // update request by asset id\r\n    return this.resource.put(assetId, data)\r\n  }\r\n  deleteAsset = (id) => {\r\n    this.setState(state => {\r\n      return { ...state, itemDeleteClasses: 'item__delete altrp-disabled' }\r\n    });\r\n    this.resource.delete(id).then(res => {\r\n      if (res.success) {\r\n        let newAssets = [...this.state.assets];\r\n        newAssets = _.filter(newAssets, item => !(item.id === Number(id)));\r\n        this.setState(state => {\r\n          return { ...state, assets: newAssets, itemDeleteClasses: 'item__delete', imageId: null, fontId: null };\r\n        })\r\n      }\r\n    });\r\n  }\r\n  onDrop(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.updateAssets(e.dataTransfer.files);\r\n    this.setState(state => {\r\n      return { ...state, uploaderClasses: 'admin-assets__uploader uploader' }\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    const activeLink = this.changeUrlForTab();\r\n    this.filterAssets(activeLink);\r\n  }\r\n  componentDidUpdate() {\r\n    this.changeUrlForTab();\r\n  }\r\n  onChange(e) {\r\n    this.updateAssets(e.target.files);\r\n  }\r\n  onDragOver(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState(state => {\r\n      return { ...state, uploaderClasses: 'admin-assets__uploader uploader uploader_drag-over' }\r\n    });\r\n  }\r\n  onDragLeave() {\r\n    this.setState(state => {\r\n      return { ...state, uploaderClasses: 'admin-assets__uploader uploader' }\r\n    });\r\n  }\r\n  isActiveLink(linkName) {\r\n    return (_, location) => {\r\n      const arrayPathname = location.pathname.split('/');\r\n      const currentLink = arrayPathname[arrayPathname.length - 1];\r\n      if (currentLink === linkName) return true;\r\n      return false;\r\n    }\r\n  }\r\n  onFilterAssets(activeLink) {\r\n    return () => this.filterAssets(activeLink);\r\n\r\n  }\r\n  filterAssets(activeLink) {\r\n    this.setState(state => {\r\n      return { ...state, acceptInput: `.${this.typesFiles[activeLink].join(', .')}` }\r\n    });\r\n    let filterResource = new Resource({ route: `/admin/ajax/media?type=${activeLink.slice(0, -1)}` });\r\n    filterResource.getAll().then(res => {\r\n      this.setState(state => {\r\n        return { ...state, assets: res }\r\n      })\r\n    });\r\n    this.setState((state => {\r\n      return { ...state, activeLink }\r\n    }));\r\n  }\r\n  changeUrlForTab() {\r\n    const { location, history } = this.props;\r\n    this.path = location.pathname;\r\n    const arrayPathname = location.pathname.split('/');\r\n    if (arrayPathname[arrayPathname.length - 1] === 'assets') {\r\n      history.push(`${this.path}/images`);\r\n      return 'images';\r\n    } else {\r\n      const activeLink = arrayPathname.pop();\r\n      this.path = arrayPathname.join('/');\r\n      return activeLink;\r\n    }\r\n  }\r\n  checkingFirstOrLastDocument(id) {\r\n    let indexCurrentDocumentInArray = this.state.assets.findIndex(item => item.id == id)\r\n    if (indexCurrentDocumentInArray === 0) {\r\n      this.setState({\r\n        havePreviousImage: false,\r\n      })\r\n    } else if (indexCurrentDocumentInArray === this.state.assets.length - 1) {\r\n      this.setState({\r\n        haveNextImage: false,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        haveNextImage: true,\r\n        havePreviousImage: true,\r\n      })\r\n    }\r\n  }\r\n  openImageDetail(id) {\r\n    this.checkingFirstOrLastDocument(id)\r\n    this.setState({ imageId: id })\r\n  }\r\n  nextImageDetail = () => {\r\n    let indexCurrentImageInArray = this.state.assets.findIndex(item => item.id == this.state.imageId)\r\n    let indexNextImageInArray = indexCurrentImageInArray + 1\r\n    this.checkingFirstOrLastDocument(this.state.assets[indexNextImageInArray].id)\r\n    this.setState({ imageId: this.state.assets[indexNextImageInArray].id })\r\n  }\r\n  prevImageDetail = () => {\r\n    let indexCurrentImageInArray = this.state.assets.findIndex(item => item.id == this.state.imageId)\r\n    let indexPrevImageInArray = indexCurrentImageInArray - 1\r\n    this.checkingFirstOrLastDocument(this.state.assets[indexPrevImageInArray].id)\r\n    this.setState({ imageId: this.state.assets[indexPrevImageInArray].id })\r\n  }\r\n  closeImageDetail = () => {\r\n    this.setState({\r\n      imageId: null,\r\n      haveNextImage: true,\r\n      havePreviousImage: true,\r\n    })\r\n  }\r\n  openDocumentDetail(id) {\r\n    this.checkingFirstOrLastDocument(id)\r\n    this.setState({ fontId: id })\r\n  }\r\n  nextFontDetail = () => {\r\n    let indexCurrentFontInArray = this.state.assets.findIndex(item => item.id == this.state.fontId)\r\n    let indexNextFontInArray = indexCurrentFontInArray + 1\r\n    this.checkingFirstOrLastDocument(this.state.assets[indexNextFontInArray].id)\r\n    this.setState({ fontId: this.state.assets[indexNextFontInArray].id })\r\n  }\r\n  prevFontDetail = () => {\r\n    let indexCurrentFontInArray = this.state.assets.findIndex(item => item.id == this.state.fontId)\r\n    let indexPrevFontInArray = indexCurrentFontInArray - 1\r\n    this.checkingFirstOrLastDocument(this.state.assets[indexPrevFontInArray].id)\r\n    this.setState({ fontId: this.state.assets[indexPrevFontInArray].id })\r\n  }\r\n  closeFontDetail = () => {\r\n    this.setState({\r\n      fontId: null,\r\n      haveNextFont: true,\r\n      havePreviousFont: true,\r\n    })\r\n  }\r\n  render() {\r\n    let UploadIcon = iconsManager().getIconComponent('upload');\r\n    let CloseIcon = iconsManager().getIconComponent('close');\r\n    let AviIcon = iconsManager().getIconComponent('avi');\r\n    return <div className=\"admin-assets admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">Assets</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">All Assets</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <div className={this.state.uploaderClasses}\r\n          onDragLeave={this.onDragLeave}\r\n          onDrop={this.onDrop}\r\n          onDragOver={this.onDragOver}>\r\n          <label className=\"uploader__label d-flex flex-column align-items-center\">\r\n            <UploadIcon width={100} height={100} className=\"icon\" />\r\n            <input\r\n              type=\"file\"\r\n              accept={this.state.acceptInput}\r\n              multiple={true}\r\n              onChange={this.onChange}\r\n              className=\"uploader__input\" />\r\n            <span className=\"uploader__text text text_bold\">\r\n              Drag or Choose File\r\n            </span>\r\n          </label>\r\n        </div>\r\n        <div className=\"custom-tab__tabs mt-4\">\r\n          <NavLink\r\n            className=\"custom-tab__tab\"\r\n            activeClassName=\"custom-tab__tab--selected\"\r\n            to={`${this.path}/images`}\r\n            isActive={this.isActiveLink('images')}\r\n            onClick={this.onFilterAssets('images')}\r\n          >IMAGES</NavLink>\r\n          <NavLink\r\n            className=\"custom-tab__tab\"\r\n            activeClassName=\"custom-tab__tab--selected\"\r\n            to={`${this.path}/documents`}\r\n            isActive={this.isActiveLink('documents')}\r\n            onClick={this.onFilterAssets('documents')}\r\n          >DOCUMENTS</NavLink>\r\n          <NavLink\r\n            className=\"custom-tab__tab\"\r\n            activeClassName=\"custom-tab__tab--selected\"\r\n            to={`${this.path}/fonts`}\r\n            isActive={this.isActiveLink('fonts')}\r\n            onClick={this.onFilterAssets('fonts')}\r\n          >FONTS</NavLink>\r\n          <NavLink\r\n            className=\"custom-tab__tab\"\r\n            activeClassName=\"custom-tab__tab--selected\"\r\n            to={`${this.path}/svgs`}\r\n            isActive={this.isActiveLink('svgs')}\r\n            onClick={this.onFilterAssets('svgs')}\r\n          >SVGS</NavLink>\r\n          <NavLink\r\n            className=\"custom-tab__tab\"\r\n            activeClassName=\"custom-tab__tab--selected\"\r\n            to={`${this.path}/archives`}\r\n            isActive={this.isActiveLink('archives')}\r\n            onClick={this.onFilterAssets('archives')}\r\n          >ARCHIVES</NavLink>\r\n          <NavLink\r\n            className=\"custom-tab__tab\"\r\n            activeClassName=\"custom-tab__tab--selected\"\r\n            to={`${this.path}/medias`}\r\n            isActive={this.isActiveLink('medias')}\r\n            onClick={this.onFilterAssets('medias')}\r\n          >MEDIAS</NavLink>\r\n          <NavLink\r\n            className=\"custom-tab__tab\"\r\n            activeClassName=\"custom-tab__tab--selected\"\r\n            to={`${this.path}/others`}\r\n            isActive={this.isActiveLink('others')}\r\n            onClick={this.onFilterAssets('others')}\r\n          >OTHERS</NavLink>\r\n        </div>\r\n        <div className=\"admin-assets__list custom-tab__tab-panel p-4 assets-list d-flex flex-wrap\">\r\n          {\r\n            this.state.assets.map(asset => {\r\n              return (\r\n                <div className=\"assets-list__item item col-1\" key={asset.id} >\r\n                  {(() => {\r\n                    if (this.state.activeLink === 'images' ||\r\n                      this.state.activeLink === 'svgs')\r\n                      return (\r\n                        <div onClick={() => this.openImageDetail(asset.id)} className=\"item__background\"\r\n                          style={{ 'backgroundImage': `url('${asset.url}')` }} />\r\n                      )\r\n                    let typeIcon = asset.url.split('.').pop();\r\n                    let IconFile = iconsManager().getIconComponent('file');\r\n                    this.typesFiles[this.state.activeLink].forEach((type) => {\r\n                      if (typeIcon === type) {\r\n                        IconFile = iconsManager().getIconComponent(typeIcon);\r\n                        return <IconFile className=\"item__icon-background\" />\r\n                      }\r\n                    });\r\n                    return <IconFile onClick={() => this.openDocumentDetail(asset.id)} className=\"item__icon-background\" />\r\n                  }\r\n                  )()}\r\n                  <button className={this.state.itemDeleteClasses}\r\n                    data-assetid={asset.id}\r\n                    title=\"Delete\"\r\n                    onClick={this.deleteClick}>\r\n                    <CloseIcon className=\"item__delete-icon\" />\r\n                  </button>\r\n                </div>\r\n              )\r\n            }\r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <ImageDetail getAuthorList={this.getAuthorList} havePreviousImage={this.state.havePreviousImage} haveNextImage={this.state.haveNextImage} updateAsset={this.updateAsset} getAsset={this.getAsset} deleteAsset={this.deleteAsset} imageId={this.state.imageId} closeImageDetail={this.closeImageDetail} nextImageDetail={this.nextImageDetail} prevImageDetail={this.prevImageDetail} />\r\n        <FontsDetail nextFontDetail={this.nextFontDetail} prevFontDetail={this.prevFontDetail} closeFontDetail={this.closeFontDetail} getAuthorList={this.getAuthorList} getAsset={this.getAsset} fontId={this.state.fontId} deleteAsset={this.deleteAsset} />\r\n      </div>\r\n    </div>;\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(Assets);","export const BAR = \"CHART/BAR\";\r\nexport const PIE = \"CHART/PIE\";\r\nexport const DONUT = \"CHART/DONUT\";\r\nexport const AREA = \"CHART/AREA\";\r\nexport const LINE = \"CHART/LINE\";\r\nexport const TABLE = \"CHART/TABLE\";\r\nexport const POINT = \"CHART/POINT\";\r\n\r\nexport const widgetTypes = [\r\n  { name: \"Столбцы\", value: BAR },\r\n  { name: \"Круговая\", value: PIE },\r\n  { name: \"Графики\", value: LINE },\r\n  { name: \"Таблица\", value: TABLE },\r\n  { name: \"Точечная\", value: POINT }\r\n];\r\n\r\nexport const getTypeName = value =>\r\n  widgetTypes.find(w => w.value === value).name;\r\n\r\nexport const customStyle = [\r\n  \"#FFEC00\",\r\n  \"#6F6E6E\",\r\n  \"#F6E36A\",\r\n  \"#979797\",\r\n  \"#FEF367\",\r\n  \"#979678\",\r\n  \"#CFBF00\",\r\n  \"#706B46\",\r\n  \"#A59103\",\r\n  \"#444444\"\r\n];\r\n","import React from \"react\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"spinner-container\">\r\n      <div\r\n        className=\"spinner-border\"\r\n        style={{ width: \"3rem\", height: \"3rem\" }}\r\n        role=\"status\"\r\n      >\r\n        <span className=\"sr-only\">Загрузка...</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\n\r\nconst EmptyWidget = ({ text }) => {\r\n  return (\r\n    <div className=\"spinner-container\">\r\n      <div className=\"spinner-container__text\">{text ? text : \"Данные обрабатываются\"}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmptyWidget;\r\n","const Schemes = [\r\n  {\r\n    label: \"Regagro\",\r\n    value: \"regagro\",\r\n    colors: [\r\n      \"#FFEC00\",\r\n      \"#6F6E6E\",\r\n      \"#F6E36A\",\r\n      \"#979797\",\r\n      \"#FEF367\",\r\n      \"#979678\",\r\n      \"#CFBF00\",\r\n      \"#706B46\",\r\n      \"#A59103\",\r\n      \"#444444\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"nivo\",\r\n    value: \"nivo\",\r\n    colors: [\"#e8c1a0\", \"#f47560\", \"#f1e15b\", \"#e8a838\", \"#61cdbb\", \"#97e3d5\"]\r\n  },\r\n  {\r\n    label: \"category10\",\r\n    value: \"category10\",\r\n    colors: [\r\n      \"#1f77b4\",\r\n      \"#ff7f0e\",\r\n      \"#2ca02c\",\r\n      \"#d62728\",\r\n      \"#9467bd\",\r\n      \"#8c564b\",\r\n      \"#e377c2\",\r\n      \"#7f7f7f\",\r\n      \"#bcbd22\",\r\n      \"#17becf\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"accent\",\r\n    value: \"accent\",\r\n    colors: [\r\n      \"#7fc97f\",\r\n      \"#beaed4\",\r\n      \"#fdc086\",\r\n      \"#ffff99\",\r\n      \"#386cb0\",\r\n      \"#f0027f\",\r\n      \"#bf5b17\",\r\n      \"#666666\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"dark2\",\r\n    value: \"dark2\",\r\n    colors: [\r\n      \"#1b9e77\",\r\n      \"#d95f02\",\r\n      \"#7570b3\",\r\n      \"#e7298a\",\r\n      \"#66a61e\",\r\n      \"#e6ab02\",\r\n      \"#a6761d\",\r\n      \"#666666\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"paired\",\r\n    value: \"paired\",\r\n    colors: [\r\n      \"#a6cee3\",\r\n      \"#1f78b4\",\r\n      \"#b2df8a\",\r\n      \"#33a02c\",\r\n      \"#fb9a99\",\r\n      \"#e31a1c\",\r\n      \"#fdbf6f\",\r\n      \"#ff7f00\",\r\n      \"#cab2d6\",\r\n      \"#6a3d9a\",\r\n      \"#ffff99\",\r\n      \"#b15928\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"pastel1\",\r\n    value: \"pastel1\",\r\n    colors: [\r\n      \"#fbb4ae\",\r\n      \"#b3cde3\",\r\n      \"#ccebc5\",\r\n      \"#decbe4\",\r\n      \"#fed9a6\",\r\n      \"#ffffcc\",\r\n      \"#e5d8bd\",\r\n      \"#fddaec\",\r\n      \"#f2f2f2\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"pastel2\",\r\n    value: \"pastel2\",\r\n    colors: [\r\n      \"#b3e2cd\",\r\n      \"#fdcdac\",\r\n      \"#cbd5e8\",\r\n      \"#f4cae4\",\r\n      \"#e6f5c9\",\r\n      \"#fff2ae\",\r\n      \"#f1e2cc\",\r\n      \"#cccccc\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"set1\",\r\n    value: \"set1\",\r\n    colors: [\r\n      \"#e41a1c\",\r\n      \"#377eb8\",\r\n      \"#4daf4a\",\r\n      \"#984ea3\",\r\n      \"#ff7f00\",\r\n      \"#ffff33\",\r\n      \"#a65628\",\r\n      \"#f781bf\",\r\n      \"#999999\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"set2\",\r\n    value: \"set2\",\r\n    colors: [\r\n      \"#66c2a5\",\r\n      \"#fc8d62\",\r\n      \"#8da0cb\",\r\n      \"#e78ac3\",\r\n      \"#a6d854\",\r\n      \"#ffd92f\",\r\n      \"#e5c494\",\r\n      \"#b3b3b3\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"set3\",\r\n    value: \"set3\",\r\n    colors: [\r\n      \"#8dd3c7\",\r\n      \"#ffffb3\",\r\n      \"#bebada\",\r\n      \"#fb8072\",\r\n      \"#80b1d3\",\r\n      \"#fdb462\",\r\n      \"#b3de69\",\r\n      \"#fccde5\",\r\n      \"#d9d9d9\",\r\n      \"#bc80bd\",\r\n      \"#ccebc5\",\r\n      \"#ffed6f\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"brown_blueGreen\",\r\n    value: \"brown_blueGreen\",\r\n    colors: [\r\n      \"#543005\",\r\n      \"#8c510a\",\r\n      \"#bf812d\",\r\n      \"#dfc27d\",\r\n      \"#f6e8c3\",\r\n      \"#f5f5f5\",\r\n      \"#c7eae5\",\r\n      \"#80cdc1\",\r\n      \"#35978f\",\r\n      \"#01665e\",\r\n      \"#003c30\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"purpleRed_green\",\r\n    value: \"purpleRed_green\",\r\n    colors: [\r\n      \"#40004b\",\r\n      \"#762a83\",\r\n      \"#9970ab\",\r\n      \"#c2a5cf\",\r\n      \"#e7d4e8\",\r\n      \"#f7f7f7\",\r\n      \"#d9f0d3\",\r\n      \"#a6dba0\",\r\n      \"#5aae61\",\r\n      \"#1b7837\",\r\n      \"#00441b\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"pink_yellowGreen\",\r\n    value: \"pink_yellowGreen\",\r\n    colors: [\r\n      \"#8e0152\",\r\n      \"#c51b7d\",\r\n      \"#de77ae\",\r\n      \"#f1b6da\",\r\n      \"#fde0ef\",\r\n      \"#f7f7f7\",\r\n      \"#e6f5d0\",\r\n      \"#b8e186\",\r\n      \"#7fbc41\",\r\n      \"#4d9221\",\r\n      \"#276419\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"purple_orange\",\r\n    value: \"purple_orange\",\r\n    colors: [\r\n      \"#2d004b\",\r\n      \"#542788\",\r\n      \"#8073ac\",\r\n      \"#b2abd2\",\r\n      \"#d8daeb\",\r\n      \"#f7f7f7\",\r\n      \"#fee0b6\",\r\n      \"#fdb863\",\r\n      \"#e08214\",\r\n      \"#b35806\",\r\n      \"#7f3b08\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"red_blue\",\r\n    value: \"red_blue\",\r\n    colors: [\r\n      \"#67001f\",\r\n      \"#b2182b\",\r\n      \"#d6604d\",\r\n      \"#f4a582\",\r\n      \"#fddbc7\",\r\n      \"#f7f7f7\",\r\n      \"#d1e5f0\",\r\n      \"#92c5de\",\r\n      \"#4393c3\",\r\n      \"#2166ac\",\r\n      \"#053061\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"regagro\",\r\n    value: \"red_grey\",\r\n    colors: [\r\n      \"#67001f\",\r\n      \"#b2182b\",\r\n      \"#d6604d\",\r\n      \"#f4a582\",\r\n      \"#fddbc7\",\r\n      \"#ffffff\",\r\n      \"#e0e0e0\",\r\n      \"#bababa\",\r\n      \"#878787\",\r\n      \"#4d4d4d\",\r\n      \"#1a1a1a\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"red_yellow_blue\",\r\n    value: \"red_yellow_blue\",\r\n    colors: [\r\n      \"#a50026\",\r\n      \"#d73027\",\r\n      \"#f46d43\",\r\n      \"#fdae61\",\r\n      \"#fee090\",\r\n      \"#ffffbf\",\r\n      \"#e0f3f8\",\r\n      \"#abd9e9\",\r\n      \"#74add1\",\r\n      \"#4575b4\",\r\n      \"#313695\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"red_yellow_green\",\r\n    value: \"red_yellow_green\",\r\n    colors: [\r\n      \"#a50026\",\r\n      \"#d73027\",\r\n      \"#f46d43\",\r\n      \"#fdae61\",\r\n      \"#fee08b\",\r\n      \"#ffffbf\",\r\n      \"#d9ef8b\",\r\n      \"#a6d96a\",\r\n      \"#66bd63\",\r\n      \"#1a9850\",\r\n      \"#006837\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"spectral\",\r\n    value: \"spectral\",\r\n    colors: [\r\n      \"#9e0142\",\r\n      \"#d53e4f\",\r\n      \"#f46d43\",\r\n      \"#fdae61\",\r\n      \"#fee08b\",\r\n      \"#ffffbf\",\r\n      \"#e6f598\",\r\n      \"#abdda4\",\r\n      \"#66c2a5\",\r\n      \"#3288bd\",\r\n      \"#5e4fa2\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"blues\",\r\n    value: \"blues\",\r\n    colors: [\r\n      \"#f7fbff\",\r\n      \"#deebf7\",\r\n      \"#c6dbef\",\r\n      \"#9ecae1\",\r\n      \"#6baed6\",\r\n      \"#4292c6\",\r\n      \"#2171b5\",\r\n      \"#08519c\",\r\n      \"#08306b\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"greens\",\r\n    value: \"greens\",\r\n    colors: [\r\n      \"#f7fcf5\",\r\n      \"#e5f5e0\",\r\n      \"#c7e9c0\",\r\n      \"#a1d99b\",\r\n      \"#74c476\",\r\n      \"#41ab5d\",\r\n      \"#238b45\",\r\n      \"#006d2c\",\r\n      \"#00441b\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"greys\",\r\n    value: \"greys\",\r\n    colors: [\r\n      \"#ffffff\",\r\n      \"#f0f0f0\",\r\n      \"#d9d9d9\",\r\n      \"#bdbdbd\",\r\n      \"#969696\",\r\n      \"#737373\",\r\n      \"#525252\",\r\n      \"#252525\",\r\n      \"#000000\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"oranges\",\r\n    value: \"oranges\",\r\n    colors: [\r\n      \"#fff5eb\",\r\n      \"#fee6ce\",\r\n      \"#fdd0a2\",\r\n      \"#fdae6b\",\r\n      \"#fd8d3c\",\r\n      \"#f16913\",\r\n      \"#d94801\",\r\n      \"#a63603\",\r\n      \"#7f2704\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"purples\",\r\n    value: \"purples\",\r\n    colors: [\r\n      \"#fcfbfd\",\r\n      \"#efedf5\",\r\n      \"#dadaeb\",\r\n      \"#bcbddc\",\r\n      \"#9e9ac8\",\r\n      \"#807dba\",\r\n      \"#6a51a3\",\r\n      \"#54278f\",\r\n      \"#3f007d\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"reds\",\r\n    value: \"reds\",\r\n    colors: [\r\n      \"#fff5f0\",\r\n      \"#fee0d2\",\r\n      \"#fcbba1\",\r\n      \"#fc9272\",\r\n      \"#fb6a4a\",\r\n      \"#ef3b2c\",\r\n      \"#cb181d\",\r\n      \"#a50f15\",\r\n      \"#67000d\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"blue_green\",\r\n    value: \"blue_green\",\r\n    colors: [\r\n      \"#f7fcfd\",\r\n      \"#e5f5f9\",\r\n      \"#ccece6\",\r\n      \"#99d8c9\",\r\n      \"#66c2a4\",\r\n      \"#41ae76\",\r\n      \"#238b45\",\r\n      \"#006d2c\",\r\n      \"#00441b\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"blue_purple\",\r\n    value: \"blue_purple\",\r\n    colors: [\r\n      \"#f7fcfd\",\r\n      \"#e0ecf4\",\r\n      \"#bfd3e6\",\r\n      \"#9ebcda\",\r\n      \"#8c96c6\",\r\n      \"#8c6bb1\",\r\n      \"#88419d\",\r\n      \"#810f7c\",\r\n      \"#4d004b\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"green_blue\",\r\n    value: \"green_blue\",\r\n    colors: [\r\n      \"#f7fcf0\",\r\n      \"#e0f3db\",\r\n      \"#ccebc5\",\r\n      \"#a8ddb5\",\r\n      \"#7bccc4\",\r\n      \"#4eb3d3\",\r\n      \"#2b8cbe\",\r\n      \"#0868ac\",\r\n      \"#084081\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"orange_red\",\r\n    value: \"orange_red\",\r\n    colors: [\r\n      \"#fff7ec\",\r\n      \"#fee8c8\",\r\n      \"#fdd49e\",\r\n      \"#fdbb84\",\r\n      \"#fc8d59\",\r\n      \"#ef6548\",\r\n      \"#d7301f\",\r\n      \"#b30000\",\r\n      \"#7f0000\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"purple_blue_green\",\r\n    value: \"purple_blue_green\",\r\n    colors: [\r\n      \"#fff7fb\",\r\n      \"#ece2f0\",\r\n      \"#d0d1e6\",\r\n      \"#a6bddb\",\r\n      \"#67a9cf\",\r\n      \"#3690c0\",\r\n      \"#02818a\",\r\n      \"#016c59\",\r\n      \"#014636\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"purple_blue\",\r\n    value: \"purple_blue\",\r\n    colors: [\r\n      \"#fff7fb\",\r\n      \"#ece7f2\",\r\n      \"#d0d1e6\",\r\n      \"#a6bddb\",\r\n      \"#74a9cf\",\r\n      \"#3690c0\",\r\n      \"#0570b0\",\r\n      \"#045a8d\",\r\n      \"#023858\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"purple_red\",\r\n    value: \"purple_red\",\r\n    colors: [\r\n      \"#f7f4f9\",\r\n      \"#e7e1ef\",\r\n      \"#d4b9da\",\r\n      \"#c994c7\",\r\n      \"#df65b0\",\r\n      \"#e7298a\",\r\n      \"#ce1256\",\r\n      \"#980043\",\r\n      \"#67001f\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"red_purple\",\r\n    value: \"red_purple\",\r\n    colors: [\r\n      \"#fff7f3\",\r\n      \"#fde0dd\",\r\n      \"#fcc5c0\",\r\n      \"#fa9fb5\",\r\n      \"#f768a1\",\r\n      \"#dd3497\",\r\n      \"#ae017e\",\r\n      \"#7a0177\",\r\n      \"#49006a\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"yellow_green_blue\",\r\n    value: \"yellow_green_blue\",\r\n    colors: [\r\n      \"#ffffd9\",\r\n      \"#edf8b1\",\r\n      \"#c7e9b4\",\r\n      \"#7fcdbb\",\r\n      \"#41b6c4\",\r\n      \"#1d91c0\",\r\n      \"#225ea8\",\r\n      \"#253494\",\r\n      \"#081d58\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"yellow_green\",\r\n    value: \"yellow_green\",\r\n    colors: [\r\n      \"#ffffe5\",\r\n      \"#f7fcb9\",\r\n      \"#d9f0a3\",\r\n      \"#addd8e\",\r\n      \"#78c679\",\r\n      \"#41ab5d\",\r\n      \"#238443\",\r\n      \"#006837\",\r\n      \"#004529\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"yellow_orange_brown\",\r\n    value: \"yellow_orange_brown\",\r\n    colors: [\r\n      \"#ffffe5\",\r\n      \"#fff7bc\",\r\n      \"#fee391\",\r\n      \"#fec44f\",\r\n      \"#fe9929\",\r\n      \"#ec7014\",\r\n      \"#cc4c02\",\r\n      \"#993404\",\r\n      \"#662506\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"yellow_orange_red\",\r\n    value: \"yellow_orange_red\",\r\n    colors: [\r\n      \"#ffffcc\",\r\n      \"#ffeda0\",\r\n      \"#fed976\",\r\n      \"#feb24c\",\r\n      \"#fd8d3c\",\r\n      \"#fc4e2a\",\r\n      \"#e31a1c\",\r\n      \"#bd0026\",\r\n      \"#800026\"\r\n    ]\r\n  },\r\n   {\r\n    label: \"Milk\",\r\n    value: \"milk\",\r\n    colors: [\r\n      \"#797979\", \r\n      \"#042D5B\", \r\n      \"#536DFE\", \r\n      \"#7C4DFF\", \r\n      \"#AA8D52\", \r\n      \"#448AFF\", \r\n      \"#A52A2A\", \r\n      \"#FF6347\", \r\n      \"#EE82EE\", \r\n      \"#BDB76B\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"Milk2\",\r\n    value: \"milk2\",\r\n    colors: [\"#004B9C\", \"#6F2700\", \"#FF6600\", \"#005800\"]\r\n  }\r\n];\r\nexport default Schemes;\r\n","import axios from \"axios\";\r\n\r\nexport const queryString = (obj = {}) => {\r\n  let data = Object.keys(obj).reduce((str, key, i) => {\r\n    let delimiter, val;\r\n    delimiter = i === 0 ? \"?\" : \"&\";\r\n    key = encodeURIComponent(key);\r\n    val = encodeURIComponent(obj[key]);\r\n    return [str, delimiter, key, \"=\", val].join(\"\");\r\n  }, \"\");\r\n  console.log(\"RESULT ==>\", data);\r\n  return data;\r\n};\r\n\r\nexport const getWidgetData = async (url, filter) => {\r\n  let params = \"\";\r\n  if (typeof filter === \"object\") {\r\n    params = queryString(filter);\r\n  } else if (typeof filter !== \"undefined\") {\r\n    params = queryString(JSON.parse(filter));\r\n  }\r\n  try {\r\n    return await axios(url + params, {\r\n      // headers: [{ key: \"Cache-Control\", value: \"no-store\" }]\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    return { status: 500 };\r\n  }\r\n};\r\n","import React, { PureComponent } from \"react\";\r\n\r\nclass TooltipBar extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      indexValue: props.datum?.indexValue,\r\n      value: props.datum?.value,\r\n      color: props.datum?.color,\r\n      enable: props?.enable,\r\n      settings: props?.settings\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (!_.isEqual(prevProps.enable, this.props.enable)) {\r\n      this.setState(s => ({\r\n        ...s,\r\n        enable: this.props?.enable\r\n      }));\r\n    }\r\n  }\r\n\r\n  customTooltip() {\r\n    return (\r\n      <>\r\n        <div\r\n          className={`${this.props.widgetID} altrp-dashboard__tooltip--font altrp-dashboard__tooltip--label-background altrp-dashboard__tooltip--width altrp-dashboard__tooltip--label-background-shadow altrp-dashboard__tooltip--border-type altrp-dashboard__tooltip--border-width altrp-dashboard__tooltip--border-color  col-12`}\r\n          style={{ padding: \"5px 9px\" }}\r\n        >\r\n          <div>\r\n            {this.props.datum?.data?.tooltip === undefined &&\r\n            <div style={\r\n              {\r\n                whiteSpace: \"pre\",\r\n                display: \"flex\",\r\n                alignItems: \"center\"\r\n              }\r\n            }>\r\n              <span\r\n                style={{\r\n                  display: \"block\",\r\n                  width: \"12px\",\r\n                  height: \"12px\",\r\n                  background: this.props.datum.color,\r\n                  marginRight: \"7px\"\r\n                }}\r\n              >  \r\n              </span>\r\n              <div className={`${this.props.widgetID} col px-0`}>\r\n                  {this.props.datum.data.key}:{\" \"}\r\n                  <strong\r\n                    className={`${this.props.widgetID} altrp-dashboard__tooltip--font col px-0`}\r\n                  >\r\n                    {this.props.datum.data.value}\r\n                  </strong>\r\n                </div>\r\n              </div>\r\n            }\r\n            {this.props.datum?.data?.tooltip?.map((item, index) => {\r\n              return (\r\n                <div\r\n                  style={{\r\n                    color: item?.color || \"#000000\"\r\n                  }}\r\n                  key={index}\r\n                >\r\n                  {`${item?.label}:`}\r\n                  <strong>{item.value}</strong>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    if (this.state.enable) {\r\n      return this.customTooltip();\r\n    }\r\n    return (\r\n      <>\r\n        <div\r\n          style={{\r\n            color: \"inherit\",\r\n            fontSize: \"{{SIZE}}px\",\r\n            borderRadius: \"2px\",   \r\n            padding: \"3px 9px\"\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              whiteSpace: \"pre\",\r\n              display: \"flex\",\r\n              alignItems: \"center\"\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                display: \"block\",\r\n                width: \"12px\",\r\n                height: \"12px\",\r\n                background: this.props.datum.color,\r\n                marginRight: \"7px\"\r\n              }}\r\n            ></span>\r\n            <span>\r\n              {this.props.datum.data.key}:{\" \"}\r\n              <strong>{this.props.datum.data.value}</strong>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TooltipBar;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\n\r\nimport Spinner from \"./Spinner\";\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport Schemes from \"../../../../../editor/src/js/components/altrp-dashboards/settings/NivoColorSchemes\";\r\nconst regagroScheme = _.find(Schemes, { value: \"regagro\" }).colors;\r\nconst milkScheme = _.find(Schemes, { value: \"milk\" }).colors;\r\nconst milkScheme2 = _.find(Schemes, { value: \"milk2\" }).colors;\r\n\r\nimport { ResponsiveBar } from \"@nivo/bar\";\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\nimport TooltipBar from \"./d3/TooltipBar\";\r\n\r\nconst DynamicBarChart = ({\r\n  widget,\r\n  width = 300,\r\n  height = 450,\r\n  dataSource = [],\r\n  groupMode = \"stacked\",\r\n  layout = \"vertical\",\r\n  colorScheme = \"regagro\",\r\n  reverse = false,\r\n  enableLabel = false,\r\n  padding = 0.1,\r\n  innerPadding = 0,\r\n  borderRadius = 0,\r\n  borderWidth = 0,\r\n  sort = \"\",\r\n  tickRotation = 0,\r\n  bottomAxis = true,\r\n  enableGridX = true,\r\n  enableGridY = true,\r\n  customColorSchemeChecker = false,\r\n  customColors = [],\r\n  yScaleMax,\r\n  widgetID,\r\n  useCustomTooltips\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    if (dataSource.length == 0) {\r\n      const charts = await getWidgetData(widget.source, widget.filter);\r\n      if (charts.status === 200) {\r\n        let data = charts.data.data.map((item, index) => {\r\n          return {\r\n            [item.key]: Number(item.data),\r\n            key: item.key,\r\n            value: Number(item.data)\r\n          };\r\n        });\r\n        setData(data || []);\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      if (\r\n        sort !== null &&\r\n        typeof sort !== \"undefined\" &&\r\n        typeof dataSource !== \"undefined\"\r\n      ) {\r\n        switch (sort) {\r\n          case \"value\":\r\n            dataSource = _.sortBy(dataSource, [\"value\"]);\r\n            break;\r\n          case \"key\":\r\n            dataSource = _.sortBy(dataSource, [\"key\"]);\r\n            break;\r\n          default:\r\n            dataSource = dataSource;\r\n            break;\r\n        }\r\n      }\r\n      setData(dataSource || []);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  if (data.length === 0) return <EmptyWidget />;\r\n  console.log(\"====================================\");\r\n  console.log(colorScheme);\r\n  console.log(\"====================================\");\r\n  return (\r\n    <>\r\n      <div style={{ height: `${height}px` }}>\r\n        <ResponsiveBar\r\n          data={data}\r\n          margin={{\r\n            top: 30,\r\n            right: 30,\r\n            bottom: 30,\r\n            left: 30\r\n          }}\r\n          indexBy=\"key\"\r\n          colors={\r\n            customColorSchemeChecker && customColors.length > 0\r\n              ? customColors\r\n              : colorScheme === \"regagro\"\r\n              ? regagroScheme\r\n              : colorScheme === \"milk\"\r\n              ? milkScheme\r\n              : colorScheme === \"milk2\"\r\n              ? milkScheme2\r\n              : { scheme: colorScheme }\r\n          }\r\n          colorBy=\"index\"\r\n          layout={layout}\r\n          axisBottom={\r\n            bottomAxis && {\r\n              tickRotation: tickRotation\r\n            }\r\n          }\r\n          tooltip={datum => (\r\n            <TooltipBar\r\n              enable={useCustomTooltips}\r\n              datum={datum}\r\n              widgetID={widgetID}\r\n            ></TooltipBar>\r\n          )}\r\n          enableGridX={enableGridX}\r\n          enableGridY={enableGridY}\r\n          enableLabel={enableLabel}\r\n          reverse={reverse}\r\n          groupMode={groupMode}\r\n          padding={padding}\r\n          innerPadding={innerPadding}\r\n          borderRadius={borderRadius}\r\n          borderWidth={borderWidth}\r\n          axisBottom={{\r\n            tickSize: 5,\r\n            tickPadding: 5,\r\n            tickRotation: 0,\r\n            legend: \"key\",\r\n            legendOffset: 32\r\n          }}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DynamicBarChart;\r\n","import React, { PureComponent } from \"react\";\r\n\r\nclass TooltipPie extends PureComponent {\r\n  constructor(props) {\r\n    console.log(props.datum);\r\n    super(props);\r\n\r\n    this.state = {\r\n      indexValue: props.datum?.indexValue,\r\n      value: props.datum?.value,\r\n      color: props.datum?.color,\r\n      enable: props?.enable,\r\n      settings: props?.settings\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (!_.isEqual(prevProps.enable, this.props.enable)) {\r\n      this.setState(s => ({\r\n        ...s,\r\n        enable: this.props?.enable\r\n      }));\r\n    }\r\n  }\r\n\r\n  customTooltip() {\r\n    return (\r\n      <>\r\n        <div\r\n          className={`${this.props.widgetID} altrp-dashboard__tooltip--font altrp-dashboard__tooltip--label-background altrp-dashboard__tooltip--width altrp-dashboard__tooltip--label-background-shadow altrp-dashboard__tooltip--border-type altrp-dashboard__tooltip--border-width altrp-dashboard__tooltip--border-color col-12`}\r\n          style={{ padding: \"5px 9px\" }}\r\n        >\r\n          <div>\r\n            {this.props.datum?.datum?.data?.tooltip === undefined &&\r\n              <div style={\r\n              {\r\n                whiteSpace: \"pre\",\r\n                display: \"flex\",\r\n                alignItems: \"center\"\r\n              }\r\n            }>\r\n                <span\r\n                style={{\r\n                  display: \"block\",\r\n                  width: \"12px\",\r\n                  height: \"12px\",\r\n                  background: this.props.datum.datum.color,\r\n                  marginRight: \"7px\"\r\n                }}\r\n                ></span>\r\n                <div\r\n                  className={`${this.props.widgetID} altrp-dashboard__tooltip--font col px-0`}\r\n                >\r\n                  {this.props.datum.datum.label}:{\" \"}\r\n                  <strong\r\n                    className={`${this.props.widgetID} altrp-dashboard__tooltip--font col px-0`}\r\n                  >\r\n                    {this.props.datum.datum.value}\r\n                  </strong>\r\n                </div>\r\n              </div>\r\n            }\r\n            {this.props.datum?.datum?.data?.tooltip?.map((item, index) => {\r\n              return (\r\n                <div\r\n                  style={{\r\n                    color: item?.color || \"#000000\"\r\n                  }}\r\n                  key={index}\r\n                >\r\n                  {`${item?.label}:`}\r\n                  <strong>{item.value}</strong>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    if (this.state.enable) {\r\n      return this.customTooltip();\r\n    }\r\n    return (\r\n      <>\r\n        <div\r\n          style={{\r\n            background: \"white\",\r\n            color: \"inherit\",\r\n            fontSize: \"{{SIZE}}px\",\r\n            borderRadius: \"2px\",\r\n            boxShadow: \"rgba(0, 0, 0, 0.25) 0px 1px 2px\",\r\n            padding: \"5px 9px\"\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              whiteSpace: \"pre\",\r\n              display: \"flex\",\r\n              alignItems: \"center\"\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                display: \"block\",\r\n                width: \"12px\",\r\n                height: \"12px\",\r\n                background: this.props.datum.datum.color,\r\n                marginRight: \"7px\"\r\n              }}\r\n            ></span>\r\n            <span>\r\n              {this.props.datum.datum.label}:{\" \"}\r\n              <strong>{this.props.datum.datum.value}</strong>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TooltipPie;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { ResponsivePie } from \"@nivo/pie\";\r\nimport Spinner from \"./Spinner\";\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport Schemes from \"../../../../../editor/src/js/components/altrp-dashboards/settings/NivoColorSchemes\";\r\nconst regagroScheme = _.find(Schemes, { value: \"regagro\" }).colors;\r\nconst milkScheme = _.find(Schemes, { value: \"milk\" }).colors;\r\nconst milkScheme2 = _.find(Schemes, { value: \"milk2\" }).colors;\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\nimport moment from \"moment\";\r\nimport TooltipPie from \"./d3/TooltipPie\";\r\n\r\nconst DynamicPieChart = ({\r\n  widget,\r\n  width = \"300px\",\r\n  height = \"450px\",\r\n  dataSource = [],\r\n  colorScheme = \"red_grey\",\r\n  enableSliceLabels = false,\r\n  innerRadius = 0,\r\n  padAngle = 0,\r\n  cornerRadius = 0,\r\n  sortByValue = 0,\r\n  enableRadialLabels = true,\r\n  sort = \"\",\r\n  tickRotation = 0,\r\n  bottomAxis = true,\r\n  keyIsDate = false,\r\n  isDashboard = false,\r\n  customColorSchemeChecker = false,\r\n  customColors = [],\r\n  yScaleMax,\r\n  widgetID,\r\n  useCustomTooltips,\r\n  margin\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    if (dataSource.length == 0) {\r\n      const charts = await getWidgetData(widget.source, widget.filter);\r\n      if (charts.status === 200) {\r\n        const newData = charts.data.data.map(item => {\r\n          const currentKey = item.key;\r\n          const keyFormatted = !moment(currentKey).isValid()\r\n            ? currentKey\r\n            : moment(currentKey).format(\"DD.MM.YYYY\");\r\n\r\n          return {\r\n            value: Number(item.data),\r\n            id: keyIsDate ? keyFormatted : currentKey\r\n          };\r\n        });\r\n        let data = newData;\r\n        setData(data || []);\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      if (\r\n        sort !== null &&\r\n        sort !== \"undefined\" &&\r\n        typeof dataSource !== \"undefined\"\r\n      ) {\r\n        switch (sort) {\r\n          case \"value\":\r\n            dataSource = _.sortBy(dataSource, [\"value\"]);\r\n            break;\r\n          case \"key\":\r\n            dataSource = _.sortBy(dataSource, [\"id\"]);\r\n            break;\r\n          default:\r\n            dataSource = dataSource;\r\n            break;\r\n        }\r\n      }\r\n      setData(dataSource || []);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  if (!data || data.length === 0) return <EmptyWidget />;\r\n  return (\r\n    <>\r\n      <div style={{ height: height, width: width }}>\r\n        <ResponsivePie\r\n          data={data}\r\n          colors={{ scheme: colorScheme }}\r\n          margin={{\r\n            top: margin?.top || 30,\r\n            right: margin?.right || 30,\r\n            bottom: margin?.bottom || 30,\r\n            left: margin?.left || 30\r\n          }}\r\n          colors={\r\n            customColorSchemeChecker && customColors.length > 0\r\n              ? customColors\r\n              : colorScheme === \"regagro\"\r\n              ? regagroScheme\r\n              : colorScheme === \"milk\"\r\n              ? milkScheme\r\n              : colorScheme === \"milk2\"\r\n              ? milkScheme2\r\n              : { scheme: colorScheme }\r\n          }\r\n          tooltip={datum => (\r\n            <TooltipPie\r\n              enable={useCustomTooltips}\r\n              datum={datum}\r\n              widgetID={widgetID}\r\n            ></TooltipPie>\r\n          )}\r\n          innerRadius={innerRadius}\r\n          enableSliceLabels={enableSliceLabels}\r\n          padAngle={padAngle}\r\n          cornerRadius={cornerRadius}\r\n          sortByValue={sortByValue}\r\n          axisBottom={\r\n            bottomAxis && {\r\n              tickRotation: tickRotation\r\n            }\r\n          }\r\n          colors={\r\n            colorScheme === \"regagro\"\r\n              ? regagroScheme\r\n              : colorScheme === \"milk\"\r\n              ? milkScheme\r\n              : colorScheme === \"milk2\"\r\n              ? milkScheme2\r\n              : { scheme: colorScheme }\r\n          }\r\n          enableRadialLabels={enableRadialLabels}\r\n          // legends={\r\n          //   !isDashboard\r\n          //     ? [\r\n          //         {\r\n          //           anchor: \"right\",\r\n          //           direction: \"column\",\r\n          //           translateX: 80,\r\n          //           translateY: 0,\r\n          //           itemsSpacing: 2,\r\n          //           itemWidth: 60,\r\n          //           itemHeight: 14,\r\n          //           itemDirection: \"left-to-right\",\r\n          //           itemOpacity: 1,\r\n          //           symbolSize: 14,\r\n          //           symbolShape: \"circle\"\r\n          //         }\r\n          //       ]\r\n          //     : []\r\n          // }\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DynamicPieChart;\r\n","import { PureComponent } from \"react\";\r\n// import { Component } from \"react\";\r\n\r\n/**\r\n * Tooltip для Line и Scatter\r\n */\r\nclass Tooltip extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      enablebar: props.datum.enable,\r\n      enable: props.enable,\r\n      point: props.datum.point,\r\n      data: props.datum.point.data,\r\n      settings: props?.settings,\r\n      keyIsDate: props?.keyIsDate\r\n    };\r\n    console.log(\"====================================\");\r\n    console.log(this.state.data);\r\n    console.log(\"====================================\");\r\n    this.containerSettings = this.containerSettings.bind(this);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (!_.isEqual(prevProps.datum.point, this.props.datum.point)) {\r\n      this.setState(s => ({\r\n        ...s,\r\n        point: this.props.datum.point,\r\n        data: this.props.datum.point.data\r\n      }));\r\n    }\r\n    if (!_.isEqual(prevProps.settings, this.props.settings)) {\r\n      this.setState(s => ({\r\n        ...s,\r\n        settings: this.props?.settings\r\n      }));\r\n    }\r\n    if (!_.isEqual(prevProps.enable, this.props.enable)) {\r\n      this.setState(s => ({\r\n        ...s,\r\n        settenableings: this.props?.enable\r\n      }));\r\n    }\r\n  }\r\n\r\n  containerSettings() {\r\n    const settings = this.state?.settings || {};\r\n    console.log(\"====================================\");\r\n    console.log(settings);\r\n    console.log(\"====================================\");\r\n    const result = {\r\n      padding: `${settings?.padding?.top || 5}px ${settings?.padding?.right ||\r\n        5}px ${settings?.padding?.bottom || 5}px ${settings?.padding?.left ||\r\n        5}px`,\r\n      borderStyle: `${settings?.borderStyle || \"solid\"}`,\r\n      borderRadius: `${settings?.borderRadius || \"4px\"}`,\r\n      borderColor: `${settings?.borderColor || \"black\"}`,\r\n      borderWidth: `${settings?.borderWidth || \"1px\"}`,\r\n      backgroundColor: `${settings?.backgroundColor || \"red\"}`,\r\n      color: \"white\",\r\n      width: \"fit-content\",\r\n      flexDirection: \"column-reverse\"\r\n    };\r\n    return result;\r\n  }\r\n\r\n  render() {\r\n    if (this.state.enable) {\r\n      return (\r\n        <>\r\n          <div\r\n            className={`${this.props.widgetID} altrp-dashboard__tooltip--label-background altrp-dashboard__tooltip--width altrp-dashboard__tooltip--label-background-shadow altrp-dashboard__tooltip--border-type altrp-dashboard__tooltip--border-width altrp-dashboard__tooltip--border-color col-12`}\r\n            style={{ padding: \"5px 9px\" }}\r\n          >\r\n            <div>\r\n            {this.state.data?.tooltip === undefined &&\r\n              <div style={{\r\n                whiteSpace: \"pre\",\r\n                display: \"flex\",\r\n                alignItems: \"center\"\r\n              }}>\r\n                <span\r\n                  style={{\r\n                    display: \"block\",\r\n                    width: \"12px\",\r\n                    height: \"12px\",\r\n                    background: this.state.point.color,\r\n                    marginRight: \"7px\"\r\n                  }}\r\n                >\r\n                </span>\r\n                <div\r\n                  className={`${this.props.widgetID} altrp-dashboard__tooltip--font col px-0`}\r\n                >\r\n                  {this.props.keyIsDate\r\n                  ? this.state.data.xFormatted\r\n                  : this.state.data.x}\r\n                  :\r\n                  <strong\r\n                    className={`${this.props.widgetID} altrp-dashboard__tooltip--font col px-0`}\r\n                  >\r\n                    {this.state.data.y}\r\n                  </strong>\r\n                </div>\r\n              </div>\r\n              }\r\n              {this.state.data?.tooltip?.map((item, index) => {\r\n                return (\r\n                  <React.Fragment>\r\n                    <div\r\n                      style={{\r\n                        color: item?.color || \"#000000\"\r\n                      }}\r\n                      key={index}\r\n                    >\r\n                      {`${item?.label}:`}\r\n                      <strong>{item.value}</strong>\r\n                    </div>\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n    //Дефолтный тултип\r\n    const { xFormatted, yFormatted } = this.state.data;\r\n    return (\r\n      <>\r\n        <div\r\n          style={{\r\n            background: \"white\",\r\n            color: \"inherit\",\r\n            fontSize: \"{{SIZE}}px\",\r\n            borderRadius: \"2px\",\r\n            boxShadow: \"rgba(0, 0, 0, 0.25) 0px 1px 2px\",\r\n            padding: \"5px 9px\"\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              whiteSpace: \"pre\",\r\n              display: \"flex\",\r\n              alignItems: \"center\"\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                display: \"block\",\r\n                width: \"12px\",\r\n                height: \"12px\",\r\n                background: this.state.point.color,\r\n                marginRight: \"7px\"\r\n              }}\r\n            ></span>\r\n            <span>\r\n              {xFormatted}: <strong>{yFormatted}</strong>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tooltip;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { ResponsiveLine } from \"@nivo/line\";\r\nTooltip;\r\nimport Spinner from \"./Spinner\";\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport Schemes from \"../../../../../editor/src/js/components/altrp-dashboards/settings/NivoColorSchemes\";\r\nconst regagroScheme = _.find(Schemes, { value: \"regagro\" }).colors;\r\nconst milkScheme = _.find(Schemes, { value: \"milk\" }).colors;\r\nconst milkScheme2 = _.find(Schemes, { value: \"milk2\" }).colors;\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\nimport moment from \"moment\";\r\nimport Tooltip from \"./d3/Tooltip\";\r\n\r\nconst format = \"%d.%m.%Y\";\r\n\r\nconst DynamicLineChart = ({\r\n  widget,\r\n  width = `300px`,\r\n  height = `450px`,\r\n  margin,\r\n  keyIsDate,\r\n  dataSource = [],\r\n  lineWidth = 2,\r\n  pointSize = 10,\r\n  xScaleType = \"point\",\r\n  precision = \"month\",\r\n  colorScheme = \"red_grey\",\r\n  curve = \"linear\",\r\n  enableArea = false,\r\n  enablePoints = true,\r\n  pointColor,\r\n  yMarker = false,\r\n  yMarkerValue = 0,\r\n  yMarkerOrientation = \"vertical\",\r\n  yMarkerColor,\r\n  yMarkerLabel = \"\",\r\n  yMarkerWidth = 2,\r\n  xMarker = false,\r\n  xMarkerValue = 0,\r\n  xMarkerOrientation = \"vertical\",\r\n  xMarkerColor,\r\n  xMarkerLabel = \"\",\r\n  xMarkerWidth = 2,\r\n  yMarkerLabelColor,\r\n  xMarkerLabelColor,\r\n  sort = \"\",\r\n  tickRotation = 0,\r\n  bottomAxis = true,\r\n  enableGridX = true,\r\n  enableGridY = true,\r\n  customColorSchemeChecker = false,\r\n  customColors = [],\r\n  constantsAxises = [],\r\n  yScaleMax,\r\n  widgetID,\r\n  useCustomTooltips\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n  const markers = () => {\r\n    let markerY = {};\r\n    let markerX = {};\r\n    if (yMarker) {\r\n      markerY = {\r\n        axis: \"y\",\r\n        value: yMarkerValue,\r\n        lineStyle: {\r\n          stroke:\r\n            yMarkerColor != null ? yMarkerColor.colorPickedHex : \"#000000\",\r\n          strokeWidth: yMarkerWidth\r\n        },\r\n        textStyle: {\r\n          fill:\r\n            yMarkerLabelColor != null\r\n              ? yMarkerLabelColor.colorPickedHex\r\n              : \"#000000\"\r\n        },\r\n        legend: yMarkerLabel,\r\n        legendOrientation: yMarkerOrientation\r\n      };\r\n    }\r\n    if (xMarker) {\r\n      markerX = {\r\n        axis: \"x\",\r\n        value: xMarkerValue,\r\n        lineStyle: {\r\n          stroke:\r\n            xMarkerColor != null ? xMarkerColor.colorPickedHex : \"#000000\",\r\n          strokeWidth: xMarkerWidth\r\n        },\r\n        textStyle: {\r\n          fill:\r\n            xMarkerLabelColor != null\r\n              ? xMarkerLabelColor.colorPickedHex\r\n              : \"#000000\"\r\n        },\r\n        legend: xMarkerLabel,\r\n        legendOrientation: xMarkerOrientation\r\n      };\r\n    }\r\n    if (!yMarker && !xMarker) return [];\r\n    if (yMarker && !xMarker) return [markerY];\r\n    if (!yMarker && xMarker) return [markerX];\r\n\r\n    return [markerY, markerX];\r\n  };\r\n\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    if (dataSource.length == 0) {\r\n      const charts = await getWidgetData(widget.source, widget.filter);\r\n      if (charts.status === 200) {\r\n        const newData = charts.data.data.map(item => {\r\n          const currentKey = item.key;\r\n          const keyFormatted = !moment(currentKey).isValid()\r\n            ? currentKey\r\n            : moment(currentKey).format(\"DD.MM.YYYY\");\r\n          return {\r\n            y: Number(item.data),\r\n            x: keyIsDate ? keyFormatted : currentKey\r\n          };\r\n        });\r\n        let data = [\r\n          {\r\n            id: \"\",\r\n            data: newData\r\n          }\r\n        ];\r\n        setData(data || []);\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      if (\r\n        sort !== null &&\r\n        sort !== \"undefined\" &&\r\n        typeof dataSource !== \"undefined\"\r\n      ) {\r\n        switch (sort) {\r\n          case \"value\":\r\n            dataSource.forEach((item, index) => {\r\n              if (item.data.length > 0) {\r\n                dataSource[index].data = _.sortBy(item.data, [\"y\"]);\r\n              }\r\n            });\r\n            break;\r\n          case \"key\":\r\n            data.forEach((item, index) => {\r\n              if (item.data.length > 0) {\r\n                dataSource[index].data = _.sortBy(item.data, [\"x\"]);\r\n              }\r\n            });\r\n            break;\r\n\r\n          default:\r\n            // data = data;\r\n            break;\r\n        }\r\n      }\r\n      setData(dataSource || []);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  let matches = [];\r\n  let isNotEmpty = false;\r\n\r\n  matches = _.uniq(\r\n    data.map(item => {\r\n      return item.data.length > 0;\r\n    })\r\n  );\r\n\r\n  isNotEmpty = matches.includes(true);\r\n  if (!isNotEmpty) return <EmptyWidget />;\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          width: width,\r\n          height: height\r\n        }}\r\n      >\r\n        <ResponsiveLine\r\n          data={data}\r\n          margin={{\r\n            top: margin?.top || 30,\r\n            right: margin?.right || 30,\r\n            bottom: margin?.bottom || 30,\r\n            left: margin?.left || 30\r\n          }}\r\n          xFormat={xScaleType === \"time\" && \"time:%d.%m.%Y\"}\r\n          yScale={\r\n            yScaleMax\r\n              ? {\r\n                  max: yScaleMax,\r\n                  type: \"linear\"\r\n                }\r\n              : {\r\n                  type: \"linear\"\r\n                }\r\n          }\r\n          xScale={\r\n            xScaleType === \"time\"\r\n              ? { type: xScaleType, format: format, precision: precision }\r\n              : { type: xScaleType }\r\n          }\r\n          lineWidth={lineWidth}\r\n          markers={constantsAxises}\r\n          enableGridX={enableGridX}\r\n          enableGridY={enableGridY}\r\n          axisBottom={\r\n            bottomAxis &&\r\n            (xScaleType === \"time\"\r\n              ? {\r\n                  format: format,\r\n                  tickRotation: tickRotation\r\n                }\r\n              : {\r\n                  tickRotation: tickRotation\r\n                })\r\n          }\r\n          useMesh={true}\r\n          enableArea={enableArea}\r\n          enablePoints={enablePoints}\r\n          tooltip={datum => {\r\n            console.log(\"====================================\");\r\n            console.log(datum);\r\n            console.log(\"====================================\");\r\n            return (\r\n              <Tooltip\r\n                keyIsDate={keyIsDate}\r\n                datum={datum}\r\n                enable={useCustomTooltips}\r\n                widgetID={widgetID}\r\n              />\r\n            );\r\n          }}\r\n          // tooltip={datum => {\r\n          //   const tooltip = datum.point.data?.tooltip;\r\n          //   console.log(\"=============TOOLTIP==============\");\r\n          //   console.log(tooltip);\r\n          //   console.log(\"====================================\");\r\n          //   return tooltip.map(item => (\r\n          //     <div>{`${item?.label}:${item?.value}`}</div>\r\n          //   ));\r\n          // }}\r\n          pointSize={pointSize}\r\n          curve={curve}\r\n          colors={\r\n            customColorSchemeChecker && customColors.length > 0\r\n              ? customColors\r\n              : colorScheme === \"regagro\"\r\n              ? regagroScheme\r\n              : colorScheme === \"milk\"\r\n              ? milkScheme\r\n              : colorScheme === \"milk2\"\r\n              ? milkScheme2\r\n              : { scheme: colorScheme }\r\n          }\r\n          pointColor={\r\n            typeof pointColor !== \"undefined\" && pointColor !== null\r\n              ? pointColor.colorPickedHex\r\n              : { from: \"color\", modifiers: [] }\r\n          }\r\n          // legends={[\r\n          //   {\r\n          //     anchor: \"bottom-right\",\r\n          //     direction: \"column\",\r\n          //     justify: false,\r\n          //     translateX: 130,\r\n          //     translateY: 0,\r\n          //     itemsSpacing: 0,\r\n          //     itemDirection: \"left-to-right\",\r\n          //     itemWidth: 120,\r\n          //     itemHeight: 20,\r\n          //     itemOpacity: 0.75,\r\n          //     symbolSize: 12,\r\n          //     symbolShape: \"circle\",\r\n          //     symbolBorderColor: \"rgba(0, 0, 0, .5)\",\r\n          //     effects: [\r\n          //       {\r\n          //         on: \"hover\",\r\n          //         style: {\r\n          //           itemBackground: \"rgba(0, 0, 0, .03)\",\r\n          //           itemOpacity: 1\r\n          //         }\r\n          //       }\r\n          //     ]\r\n          //   }\r\n          // ]}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DynamicLineChart;\r\n","import React, { useState, useEffect, useCallback, useMemo } from \"react\";\r\n\r\nimport Spinner from \"./Spinner\";\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\nimport moment from \"moment\";\r\n\r\nconst DynamicTableWidget = ({\r\n  widget,\r\n  width,\r\n  keyIsDate,\r\n  dataSource = [],\r\n  height = 450,\r\n  sort = \"\",\r\n  tickRotation = 0\r\n}) => {\r\n  const [data, setData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    if (dataSource.length == 0) {\r\n      const charts = await getWidgetData(widget.source, widget.filter);\r\n      if (charts.status === 200 && typeof charts.data !== \"string\") {\r\n        const newData = charts.data.data.map(item => {\r\n          const currentKey = item.key;\r\n          const keyFormatted = !moment(currentKey).isValid()\r\n            ? currentKey\r\n            : moment(currentKey).format(\"DD.MM.YYYY\");\r\n          return {\r\n            y: Number(item.data),\r\n            x: keyIsDate ? keyFormatted : currentKey\r\n          };\r\n        });\r\n        let data = [\r\n          {\r\n            id: \"\",\r\n            data: newData\r\n          }\r\n        ];\r\n        setData(data);\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      if (\r\n        sort !== null &&\r\n        sort !== \"undefined\" &&\r\n        typeof dataSource !== \"undefined\"\r\n      ) {\r\n        switch (sort) {\r\n          case \"value\":\r\n            dataSource.forEach((item, index) => {\r\n              if (item.data.length > 0) {\r\n                dataSource[index].data = _.sortBy(item.data, [\"y\"]);\r\n              }\r\n            });\r\n            break;\r\n          case \"key\":\r\n            data.forEach((item, index) => {\r\n              if (item.data.length > 0) {\r\n                dataSource[index].data = _.sortBy(item.data, [\"x\"]);\r\n              }\r\n            });\r\n            break;\r\n\r\n          default:\r\n            // data = data;\r\n            break;\r\n        }\r\n      }\r\n      setData(dataSource || []);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  const summary = useMemo(\r\n    () =>\r\n      data\r\n        .map(item => item.data.reduce((acc, object) => acc + object.y, 0))\r\n        .reduce((acc, item) => acc + item, 0),\r\n    [data]\r\n  );\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  let matches = [];\r\n  let isNotEmpty = false;\r\n\r\n  matches = _.uniq(\r\n    data.map(item => {\r\n      return item.data.length > 0;\r\n    })\r\n  );\r\n\r\n  isNotEmpty = matches.includes(true);\r\n  if (!isNotEmpty) return <EmptyWidget />;\r\n\r\n  return (\r\n    <div className=\"widget-table\" style={{ maxHeight: `${height}px` }}>\r\n      <table className=\"vertical-table\">\r\n        <tbody>\r\n          {data.map((item, key) => {\r\n            const dataset = item.data.map((object, index) => {\r\n              return (\r\n                <tr key={`${key}${index}`}>\r\n                  <td>{object.x}</td>\r\n                  <td>{object.y}</td>\r\n                </tr>\r\n              );\r\n            });\r\n            return (\r\n              <React.Fragment key={key}>\r\n                <tr key={key} style={{ textAlign: \"center\" }}>\r\n                  <td colSpan={2}>{item.id}</td>\r\n                </tr>\r\n                {dataset}\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n          <tr>\r\n            <td>ИТОГО</td>\r\n            <td>{summary}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DynamicTableWidget;\r\n","import React, { PureComponent } from \"react\";\r\n\r\nclass TooltipScatter extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      indexValue: props.datum?.indexValue,\r\n      value: props.datum?.value,\r\n      color: props.datum?.color,\r\n      enable: props?.enable,\r\n      settings: props?.settings,\r\n      data: props.datum?.node?.data\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (!_.isEqual(prevProps.enable, this.props.enable)) {\r\n      this.setState(s => ({\r\n        ...s,\r\n        enable: this.props?.enable\r\n      }));\r\n    }\r\n  }\r\n\r\n  customTooltip() {\r\n    return (\r\n      <>\r\n        <div\r\n          className={`${this.props.widgetID} altrp-dashboard__tooltip--label-background altrp-dashboard__tooltip--width altrp-dashboard__tooltip--label-background-shadow altrp-dashboard__tooltip--border-type altrp-dashboard__tooltip--border-width altrp-dashboard__tooltip--border-color col-12`}\r\n          style={{ padding: \"5px 9px\" }}\r\n        >\r\n          <div>\r\n          {this.props.datum.node.data?.tooltip === undefined &&\r\n            <div\r\n              className={`${this.props.widgetID} altrp-dashboard__tooltip--font col px-0`}\r\n              style={{\r\n                whiteSpace: \"pre\",\r\n                display: \"flex\",\r\n                alignItems: \"center\"\r\n              }}\r\n            >\r\n              <span\r\n                style={{\r\n                  display: \"block\",\r\n                  width: \"12px\",\r\n                  height: \"12px\",\r\n                  background: this.props.datum.node.style.color,\r\n                  marginRight: \"7px\"\r\n                }}\r\n              ></span>\r\n              {this.props.datum.node.data.formattedX}:{\" \"}\r\n              <strong\r\n                className={`${this.props.widgetID} altrp-dashboard__tooltip--font col px-0`}\r\n              >\r\n                {this.props.datum.node.data.formattedY}\r\n              </strong>\r\n            </div>\r\n            }\r\n            {this.props.datum.node.data?.tooltip?.map((item, index) => {\r\n              return (\r\n                <div\r\n                  style={{\r\n                    color: item?.color || \"#000000\"\r\n                  }}\r\n                  key={index}\r\n                >\r\n                  {`${item?.label}:`}\r\n                  <strong>{item.value}</strong>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    if (this.state.enable) {\r\n      return this.customTooltip();\r\n    }\r\n    return (\r\n      <>\r\n        <div\r\n          style={{\r\n            background: \"white\",\r\n            color: \"inherit\",\r\n            fontSize: \"{{SIZE}}px\",\r\n            borderRadius: \"2px\",\r\n            boxShadow: \"rgba(0, 0, 0, 0.25) 0px 1px 2px\",\r\n            padding: \"5px 9px\"\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              whiteSpace: \"pre\",\r\n              display: \"flex\",\r\n              alignItems: \"center\"\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                display: \"block\",\r\n                width: \"12px\",\r\n                height: \"12px\",\r\n                background: this.props.datum.node.style.color,\r\n                marginRight: \"7px\"\r\n              }}\r\n            ></span>\r\n            <span>\r\n              {this.props.datum.node.data.formattedX}:{\" \"}\r\n              <strong>{this.props.datum.node.data.formattedY}</strong>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TooltipScatter;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\n\r\nimport { ResponsiveScatterPlot } from \"@nivo/scatterplot\";\r\n\r\nimport Schemes from \"../../../../../editor/src/js/components/altrp-dashboards/settings/NivoColorSchemes\";\r\nconst regagroScheme = _.find(Schemes, { value: \"regagro\" }).colors;\r\nconst milkScheme = _.find(Schemes, { value: \"milk\" }).colors;\r\nconst milkScheme2 = _.find(Schemes, { value: \"milk2\" }).colors;\r\n\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\nimport { customStyle } from \"../widgetTypes\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport Tooltip from \"./d3/TooltipScatter\";\r\n\r\nimport moment from \"moment\";\r\nconst format = \"%d.%m.%Y\";\r\n\r\nconst PointChart = ({\r\n  widget,\r\n  width = `300px`,\r\n  height = `450px`,\r\n  dataSource = [],\r\n  xScaleType = \"point\",\r\n  colorScheme = \"red_grey\",\r\n  nodeSize = 6,\r\n  sort = \"\",\r\n  tickRotation = 0,\r\n  bottomAxis = true,\r\n  precision,\r\n  enableGridX = true,\r\n  enableGridY = true,\r\n  keyIsDate = false,\r\n  customColorSchemeChecker = false,\r\n  customColors = [],\r\n  constantsAxises = [],\r\n  yScaleMax,\r\n  widgetID,\r\n  useCustomTooltips,\r\n  margin\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n  const size = 4;\r\n  const fill = customStyle[0];\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    if (dataSource.length == 0) {\r\n      const charts = await getWidgetData(widget.source, widget.filter);\r\n      if (charts.status === 200 && typeof charts.data !== \"string\") {\r\n        const newData = charts.data.data.map(item => {\r\n          const currentKey = item.key;\r\n          const keyFormatted = !moment(currentKey).isValid()\r\n            ? currentKey\r\n            : moment(currentKey).format(\"DD.MM.YYYY\");\r\n          return {\r\n            y: Number(item.data),\r\n            x: keyIsDate ? keyFormatted : currentKey\r\n          };\r\n        });\r\n        let data = [\r\n          {\r\n            id: \"\",\r\n            data: newData\r\n          }\r\n        ];\r\n        setData(data);\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      if (\r\n        sort !== null &&\r\n        sort !== \"undefined\" &&\r\n        typeof dataSource !== \"undefined\"\r\n      ) {\r\n        switch (sort) {\r\n          case \"value\":\r\n            dataSource.forEach((item, index) => {\r\n              if (item.data.length > 0) {\r\n                dataSource[index].data = _.sortBy(item.data, [\"y\"]);\r\n              }\r\n            });\r\n            break;\r\n          case \"key\":\r\n            data.forEach((item, index) => {\r\n              if (item.data.length > 0) {\r\n                dataSource[index].data = _.sortBy(item.data, [\"x\"]);\r\n              }\r\n            });\r\n            break;\r\n\r\n          default:\r\n            // data = data;\r\n            break;\r\n        }\r\n      }\r\n      setData(dataSource || []);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  let matches = [];\r\n  let isNotEmpty = false;\r\n\r\n  matches = _.uniq(\r\n    data.map(item => {\r\n      return item.data.length > 0;\r\n    })\r\n  );\r\n\r\n  isNotEmpty = matches.includes(true);\r\n  if (!isNotEmpty) return <EmptyWidget />;\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          width: width,\r\n          height: height\r\n        }}\r\n      >\r\n        <ResponsiveScatterPlot\r\n          data={data}\r\n          colors={\r\n            customColorSchemeChecker && customColors.length > 0\r\n              ? customColors\r\n              : colorScheme === \"regagro\"\r\n              ? regagroScheme\r\n              : colorScheme === \"milk\"\r\n              ? milkScheme\r\n              : colorScheme === \"milk2\"\r\n              ? milkScheme2\r\n              : { scheme: colorScheme }\r\n          }\r\n          yScale={\r\n            yScaleMax\r\n              ? {\r\n                  max: yScaleMax,\r\n                  type: \"linear\"\r\n                }\r\n              : {\r\n                  type: \"linear\"\r\n                }\r\n          }\r\n          markers={constantsAxises}\r\n          margin={{\r\n            top: margin?.top || 30,\r\n            right: margin?.right || 30,\r\n            bottom: margin?.bottom || 30,\r\n            left: margin?.left || 30\r\n          }}\r\n          xFormat={xScaleType === \"time\" && \"time:%d.%m.%Y\"}\r\n          nodeSize={nodeSize}\r\n          xScale={\r\n            xScaleType === \"time\"\r\n              ? { type: xScaleType, format: format, precision: precision }\r\n              : { type: xScaleType }\r\n          }\r\n          tooltip={datum => (\r\n            <Tooltip\r\n              datum={datum}\r\n              enable={useCustomTooltips}\r\n              widgetID={widgetID}\r\n            />\r\n          )}\r\n          enableGridX={enableGridX}\r\n          enableGridY={enableGridY}\r\n          axisBottom={\r\n            bottomAxis &&\r\n            (xScaleType === \"time\"\r\n              ? {\r\n                  format: format,\r\n                  tickRotation: tickRotation\r\n                }\r\n              : {\r\n                  tickRotation: tickRotation\r\n                })\r\n          }\r\n          colors={\r\n            customColorSchemeChecker && customColors.length > 0\r\n              ? customColors\r\n              : colorScheme === \"regagro\"\r\n              ? regagroScheme\r\n              : colorScheme === \"milk\"\r\n              ? milkScheme\r\n              : colorScheme === \"milk2\"\r\n              ? milkScheme2\r\n              : { scheme: colorScheme }\r\n          }\r\n          // legends={[\r\n          //   {\r\n          //     anchor: \"bottom-right\",\r\n          //     direction: \"column\",\r\n          //     justify: false,\r\n          //     translateX: 130,\r\n          //     translateY: 0,\r\n          //     itemsSpacing: 0,\r\n          //     itemDirection: \"left-to-right\",\r\n          //     itemWidth: 120,\r\n          //     itemHeight: 20,\r\n          //     itemOpacity: 0.75,\r\n          //     symbolSize: 12,\r\n          //     symbolShape: \"circle\",\r\n          //     symbolBorderColor: \"rgba(0, 0, 0, .5)\",\r\n          //     effects: [\r\n          //       {\r\n          //         on: \"hover\",\r\n          //         style: {\r\n          //           itemBackground: \"rgba(0, 0, 0, .03)\",\r\n          //           itemOpacity: 1\r\n          //         }\r\n          //       }\r\n          //     ]\r\n          //   }\r\n          // ]}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default PointChart;\r\n","import React from \"react\";\r\n\r\nimport { BAR, PIE, LINE, TABLE, POINT } from \"./widgetTypes\";\r\n\r\nimport DynamicBarChart from \"./widgets/DynamicBarChart\";\r\nimport DynamicPieChart from \"./widgets/DynamicPieChart\";\r\nimport DynamicLineChart from \"./widgets/DynamicLineChart\";\r\nimport DynamicTableWidget from \"./widgets/DynamicTableWidget\";\r\nimport DynamicPointChart from \"./widgets/DynamicPointChart\";\r\n\r\nconst WidgetDiagram = ({ widget, width = 350, height = 450 }) => {\r\n  switch (widget.type) {\r\n    case BAR:\r\n      return (\r\n        <DynamicBarChart\r\n          width={width}\r\n          height={height}\r\n          widget={widget}\r\n          isDashboard={true}\r\n        />\r\n      );\r\n    case PIE:\r\n      return (\r\n        <DynamicPieChart\r\n          width={width}\r\n          height={height}\r\n          widget={widget}\r\n          isDashboard={true}\r\n        />\r\n      );\r\n    case LINE:\r\n      return (\r\n        <DynamicLineChart\r\n          width={width}\r\n          height={height}\r\n          widget={widget}\r\n          isDashboard={true}\r\n        />\r\n      );\r\n    case TABLE:\r\n      return (\r\n        <DynamicTableWidget\r\n          width={width}\r\n          height={height}\r\n          widget={widget}\r\n          isDashboard={true}\r\n        />\r\n      );\r\n    case POINT:\r\n      return (\r\n        <DynamicPointChart\r\n          width={width}\r\n          height={height}\r\n          widget={widget}\r\n          isDashboard={true}\r\n        />\r\n      );\r\n    default:\r\n      return <></>;\r\n  }\r\n};\r\n\r\nexport default WidgetDiagram;\r\n","export default [\r\n  { name: \"Информация о шаблонах\", url: \"/admin/ajax/analytics\" },\r\n  { name: \"Пустые данные\", url: \"/admin/ajax/analytics/none\" },\r\n];\r\n","import React, { useState } from \"react\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { schemes } from \"reaviz\";\r\n\r\nimport dataSources from \"./dataSources\";\r\nimport { TABLE, widgetTypes } from \"./widgetTypes\";\r\nimport WidgetDiagram from \"./WidgetDiagram\";\r\n\r\nconst EditWidget = ({ diagram, onSave, show, setShow }) => {\r\n  const [widget, setWidget] = useState(diagram);\r\n\r\n  const handleSave = () => {\r\n    onSave(widget);\r\n    setShow(false);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={() => setShow(false)} animation={false} size=\"lg\" centered>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Редактировать виджет #{widget.id}</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row>\r\n          <Col>\r\n            <Form>\r\n              <Form.Group controlId=\"formGroupEmail\">\r\n                <Form.Label>Название виджета</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={widget.name}\r\n                  onChange={(e) => setWidget({ ...widget, name: e.target.value })}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Тип виджета</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.type}\r\n                  onChange={(e) => setWidget({ ...widget, type: e.target.value })}\r\n                >\r\n                  {widgetTypes.map(({ name, value }, key) => (\r\n                    <option key={key} value={value}>\r\n                      {name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Цветовая схема</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.options.colorScheme}\r\n                  onChange={(e) =>\r\n                    setWidget({\r\n                      ...widget,\r\n                      options: { ...widget.options, colorScheme: e.target.value },\r\n                    })\r\n                  }\r\n                >\r\n                  {Object.keys(schemes).map((name, key) => (\r\n                    <option key={key}>{name}</option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Источник данных</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.source}\r\n                  onChange={(e) => setWidget({ ...widget, source: e.target.value })}\r\n                  required\r\n                >\r\n                  <option value=\"\">Выберите источник</option>\r\n                  {dataSources.map(({ name, url }, key) => (\r\n                    <option key={key} value={url}>\r\n                      {name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              {widget.type === TABLE && (\r\n                <Form.Group>\r\n                  <Form.Check\r\n                    type=\"checkbox\"\r\n                    checked={widget.options.isVertical}\r\n                    label=\"Вертикальная таблица\"\r\n                    onChange={(e) =>\r\n                      setWidget({\r\n                        ...widget,\r\n                        options: { ...widget.options, isVertical: e.target.checked },\r\n                      })\r\n                    }\r\n                  />\r\n                </Form.Group>\r\n              )}\r\n            </Form>\r\n          </Col>\r\n          <Col>\r\n            <Row>\r\n              <div className=\"widget-placeholder\">\r\n                {widget && <WidgetDiagram widget={widget} width={400} />}\r\n              </div>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={() => setShow(false)}>\r\n          Закрыть\r\n        </Button>\r\n        <Button variant=\"warning\" onClick={handleSave} disabled={widget.name === \"\"}>\r\n          Сохранить изменения\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default EditWidget;\r\n","import React, { useState } from \"react\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { schemes } from \"reaviz\";\r\n\r\nimport dataSources from \"./dataSources\";\r\nimport { TABLE, widgetTypes } from \"./widgetTypes\";\r\nimport WidgetDiagram from \"./WidgetDiagram\";\r\n\r\nconst WidgetParams = ({ show, setShow, onSave }) => {\r\n  const [widget, setWidget] = useState({\r\n    name: \"\",\r\n    source: \"\",\r\n    type: TABLE,\r\n    options: {\r\n      colorScheme: \"Set1\",\r\n    },\r\n  });\r\n\r\n  const handleSave = () => {\r\n    // Скрываем модальку\r\n    setShow(false); \r\n    onSave(widget);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={() => setShow(false)} animation={false} size=\"lg\" centered>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Добавить виджет</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row>\r\n          <Col>\r\n            <Form>\r\n              <Form.Group controlId=\"formGroupEmail\">\r\n                <Form.Label>Название виджета</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={widget.name}\r\n                  onChange={(e) => setWidget({ ...widget, name: e.target.value })}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Тип виджета</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.type}\r\n                  onChange={(e) => setWidget({ ...widget, type: e.target.value })}\r\n                >\r\n                  {widgetTypes.map(({ name, value }, key) => (\r\n                    <option key={key} value={value}>\r\n                      {name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Цветовая схема</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.options.colorScheme}\r\n                  onChange={(e) =>\r\n                    setWidget({\r\n                      ...widget,\r\n                      options: { ...widget.options, colorScheme: e.target.value },\r\n                    })\r\n                  }\r\n                >\r\n                  {Object.keys(schemes).map((name, key) => (\r\n                    <option key={key}>{name}</option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Источник данных</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.source}\r\n                  onChange={(e) => setWidget({ ...widget, source: e.target.value })}\r\n                  required\r\n                >\r\n                  <option value=\"\">Выберите источник</option>\r\n                  {dataSources.map(({ name, url }, key) => (\r\n                    <option key={key} value={url}>\r\n                      {name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              {widget.type === TABLE && (\r\n                <Form.Group>\r\n                  <Form.Check\r\n                    type=\"checkbox\"\r\n                    checked={widget.options?.isVertical}\r\n                    label=\"Вертикальная таблица\"\r\n                    onChange={(e) =>\r\n                      setWidget({\r\n                        ...widget,\r\n                        options: { ...widget.options, isVertical: e.target.checked },\r\n                      })\r\n                    }\r\n                  />\r\n                </Form.Group>\r\n              )}\r\n            </Form>\r\n          </Col>\r\n          <Col>\r\n            <Row>\r\n              <div className=\"widget-placeholder\">\r\n                {widget.source && <WidgetDiagram widget={widget} width={400} />}\r\n              </div>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={() => setShow(false)}>\r\n          Закрыть\r\n        </Button>\r\n        <Button variant=\"warning\" onClick={handleSave} disabled={widget.name === \"\"}>\r\n          Сохранить изменения\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default WidgetParams;\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport { Link } from 'react-router-dom'\r\nimport { schemes } from \"reaviz\";\r\nimport axios from \"axios\";\r\n\r\nimport GearFill from \"react-bootstrap-icons/dist/icons/gear-fill\";\r\nimport TrashFill from \"react-bootstrap-icons/dist/icons/trash-fill\";\r\n\r\nimport WidgetDiagram from \"./dashboard/WidgetDiagram\";\r\nimport EditWidget from \"./dashboard/EditWidget\";\r\nimport AddWidget from \"./dashboard/AddWidget\";\r\n\r\nfunction Dashboard() {\r\n  const [diagrams, setDiagrams] = useState([]);\r\n\r\n  const [showEditForm, setShowEditForm] = useState(false);\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [selectedWidget, setSelectedWidget] = useState({});\r\n\r\n  /*\r\n   * Показываем окно настроек\r\n   */\r\n  const showSettingsModal = (widget) => {\r\n    setSelectedWidget(widget);\r\n    setShowEditForm(true);\r\n  };\r\n\r\n  /*\r\n   * Удаляем диаграмму\r\n   */\r\n  const removeDiagram = ({ id }) => {\r\n    // Ищем индекс\r\n    const index = diagrams.findIndex((item) => item.id === id);\r\n    // Удаляем локально\r\n    setDiagrams(diagrams.filter((item, i) => (i !== index ? item : null)));\r\n    // Удаляем с сервера\r\n    axios.delete(\"/admin/ajax/diagrams/\" + id);\r\n  };\r\n\r\n  /*\r\n   * Добавляем диаграмму\r\n   */\r\n  const addDiagram = async (widget) => {\r\n    // Добавляем на сервер\r\n    const data = {\r\n      title: widget.name,\r\n      settings: JSON.stringify({ ...widget }),\r\n    };\r\n    const req = await axios.post(\"/admin/ajax/diagrams\", data);\r\n    if (req.status === 200 && typeof req.data !== \"string\") {\r\n      // Добавляем в локальный стейт\r\n      setDiagrams([...diagrams, { ...widget, id: req.data.id }]);\r\n    }\r\n  };\r\n\r\n  /*\r\n   * Обновляем диаграмму\r\n   */\r\n  const updateDiagram = (widget) => {\r\n    // Находим индекс виджета по id\r\n    const itemIndex = diagrams.findIndex((item) => item.id === widget.id);\r\n    // Обновляем локальные настройки\r\n    setDiagrams(diagrams.map((item, index) => (itemIndex === index ? widget : item)));\r\n    // Формируем данные для БД\r\n    const data = {\r\n      title: widget.name,\r\n      settings: JSON.stringify({ ...widget }),\r\n    };\r\n    // Отправляем новые настройки на сервер\r\n    axios.put(\"/admin/ajax/diagrams/\" + widget.id, data);\r\n  };\r\n\r\n  /*\r\n   * Получаем список диаграмм\r\n   */\r\n  const getDiagrams = useCallback(async () => {\r\n    const req = await axios(\"/admin/ajax/diagrams\");\r\n    if (req.status === 200 && typeof req.data !== \"string\") {\r\n      // Приводим результат запроса к соотв. виду.\r\n      const diagrams = req.data.map((item) => {\r\n        const settings = JSON.parse(item.settings);\r\n        return { id: item.id, ...settings };\r\n      });\r\n      // Добавляем в локальный стейт\r\n      setDiagrams(diagrams);\r\n    }\r\n  }, [setDiagrams]);\r\n\r\n  /*\r\n   * Обновляем диаграммы при монтировании\r\n   */\r\n  useEffect(() => {\r\n    getDiagrams();\r\n  }, [getDiagrams]);\r\n\r\n  return (\r\n    <div className=\"admin-templates admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n            Analytics\r\n          </a>\r\n        </div>\r\n        <button onClick={() => setShowAddForm(true)} className=\"btn\">\r\n          Add Widget\r\n        </button>\r\n        <Link className=\"btn\" to={`/admin/dashboard/colors`}>Color Schemes</Link>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <div className=\"charts\">\r\n          {diagrams.map((widget) => (\r\n            <div key={widget.id} className=\"card\" style={{ width: widget.width }}>\r\n              <div className=\"card-header\">\r\n                <div className=\"card-header__name\">{widget.name}</div>\r\n                <div className=\"card-header__buttons d-print-none\">\r\n                  <button\r\n                    className=\"d-none d-sm-inline-block\"\r\n                    type=\"button\"\r\n                    title=\"Настроить виджет\"\r\n                    onClick={() => showSettingsModal(widget)}\r\n                  >\r\n                    <GearFill color=\"#8E94AA\" />\r\n                  </button>\r\n                  <button\r\n                    className=\"d-none d-sm-inline-block\"\r\n                    type=\"button\"\r\n                    title=\"Удалить виджет\"\r\n                    onClick={() => removeDiagram(widget)}\r\n                  >\r\n                    <TrashFill color=\"#8E94AA\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <WidgetDiagram widget={widget} width={360} />\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {showEditForm && (\r\n          <EditWidget\r\n            show={showEditForm}\r\n            setShow={setShowEditForm}\r\n            diagram={selectedWidget}\r\n            onSave={updateDiagram}\r\n          />\r\n        )}\r\n        {showAddForm && (\r\n          <AddWidget show={showAddForm} setShow={setShowAddForm} onSave={addDiagram} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default class Plugins extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      plugins: []\r\n    };\r\n  }\r\n\r\n  async componentWillMount() {\r\n    const req = await axios.get(\"/admin/ajax/plugins\");\r\n    this.setState({\r\n      plugins: req.data\r\n    });\r\n  }\r\n\r\n  async updateChange(event, index) {\r\n    this.state.plugins[index].enabled = event.target.checked;\r\n\r\n    const pluginName = this.state.plugins[index].name;\r\n    const value = event.target.checked;\r\n\r\n    const req = await axios.post(\"/admin/ajax/plugins/switch\", {\r\n      name: pluginName,\r\n      value: value\r\n    });\r\n    console.log(req);\r\n    this.setState({\r\n      plugins: this.state.plugins\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"admin-pages admin-page\">\r\n        <div className=\"admin-heading\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n              Plugins\r\n            </a>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">All Plugins</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n          <div className=\"row\">\r\n            {this.state.plugins.map((item, key) => {\r\n              return (\r\n                <div className=\"col-3 text-center border rounded mx-2\">\r\n                  <div className=\"mb-2\">{item.name}</div>\r\n                  <a href={item.url}><img\r\n                    className=\"mb-2\"\r\n                    src={item.image}\r\n                    style={{ maxWidth: \"150px\" }}\r\n                    alt=\"\"\r\n                  ></img></a>\r\n                  <div class=\"custom-control custom-switch\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      className=\"custom-control-input\"\r\n                      id={`switch${key}`}\r\n                      checked={item.enabled}\r\n                      onChange={event => this.updateChange(event, key)}\r\n                    ></input>\r\n                    <label\r\n                      className=\"custom-control-label\"\r\n                      for={`switch${key}`}\r\n                    >\r\n                      {item.enabled == true\r\n                        ? \"Plugin enabled\"\r\n                        : \"Plugin disabled\"}\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport Pagination from \"./Pagination\";\r\nimport { buildPagesTree } from \"../js/helpers\";\r\n\r\nexport default class Reports extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pages: [],\r\n      currentPage: 1,\r\n      pagesSearch: \"\"\r\n    };\r\n    this.resource = new Resource({ route: \"/admin/ajax/reports\" });\r\n    this.itemsPerPage = 20;\r\n  }\r\n\r\n  getPages = async s => {\r\n    let res = await this.resource.getQueried({ s });\r\n    this.setState(state => {\r\n      return { ...state, pages: res, pagesSearch: s };\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getPages();\r\n  }\r\n\r\n  changeSearchHandler = e => {\r\n    this.getPages(e.target.value);\r\n  };\r\n\r\n  render() {\r\n    const { currentPage, pages, pagesSearch } = this.state;\r\n    return (\r\n      <div className=\"admin-pages admin-page\">\r\n        <div className=\"admin-heading\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n              Reports\r\n            </a>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">All Reports</span>\r\n          </div>\r\n          <Link className=\"btn\" to=\"/admin/reports/add\">\r\n            Add New Report\r\n          </Link>\r\n          <div className=\"admin-filters\">\r\n            <span className=\"admin-filters__current\">\r\n              All ({this.state.pages.length || \"0\"})\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n          <AdminTable\r\n            columns={[\r\n              {\r\n                name: \"title\",\r\n                title: \"Title\",\r\n                editUrl: true,\r\n                tag: \"Link\"\r\n              },\r\n              {\r\n                name: \"author\",\r\n                title: \"Author\"\r\n              },\r\n              {\r\n                name: \"path\",\r\n                title: \"Path\",\r\n                url: true,\r\n                target: \"_blank\"\r\n              }\r\n            ]}\r\n            quickActions={[\r\n              {\r\n                tag: \"button\",\r\n                route: `/admin/ajax/pages/:id`,\r\n                method: \"delete\",\r\n                confirm: \"Are You Sure?\",\r\n                after: this.getPages,\r\n                className: \"quick-action-menu__item_danger\",\r\n                title: \"Trash\"\r\n              }\r\n            ]}\r\n            rows={buildPagesTree(pages).slice(\r\n              currentPage * this.itemsPerPage - this.itemsPerPage,\r\n              currentPage * this.itemsPerPage\r\n            )}\r\n            search={{\r\n              value: pagesSearch || \"\",\r\n              changeHandler: this.changeSearchHandler\r\n            }}\r\n          />\r\n          <Pagination\r\n            pageCount={Math.ceil(pages.length / this.itemsPerPage) || 1}\r\n            currentPage={currentPage}\r\n            changePage={page => {\r\n              if (currentPage !== page) {\r\n                this.setState({ currentPage: page });\r\n              }\r\n            }}\r\n            itemsCount={pages.length}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\n/*\r\nimport store from \"../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../js/store/modal-settings/actions\";\r\nimport {generateId, redirect} from \"../js/helpers\";*/\r\n\r\nexport default class Tables extends Component{\r\n\t\r\n\tconstructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                editUrl: \"/admin/tables\",\r\n              tag: 'Link',\r\n                modules: [],\r\n                columns: [\r\n                    {\r\n                        name: 'title',\r\n                        title: 'Title',\r\n                        url: true,\r\n                      editUrl: true,\r\n                      tag : 'Link',\r\n                    },\r\n                    {\r\n                        name: 'name',\r\n                        title: 'Name',\r\n                        url: true,\r\n                      editUrl: true,\r\n                      tag : 'Link',\r\n                    },\r\n                    {\r\n                        name: 'description',\r\n                        title: 'Description',\r\n                    },\r\n                    {\r\n                        name: 'setting',\r\n                        title: 'Setting',\r\n                        url: true,\r\n                    },\r\n                    {\r\n                        name: 'updated_at',\r\n                        title: 'Updated At',\r\n                    },\r\n\t\t]\r\n            };\r\n            \r\n            this.resource = new Resource({\r\n                route: '/admin/ajax/tables'\r\n            });\r\n\t\t\r\n\t}\r\n\t\r\n\tasync componentDidMount(){\r\n            this.resource.getAll().then(modules=>{\r\n                this.setModules(modules);\r\n            });\r\n        }\r\n\t\r\n\tsetModules(modules){\r\n            let urlModules = modules.map((row) => {\r\n                row.editUrl = \"/admin/tables/edit/\" + row.id;\r\n                return row;\r\n            });\r\n            \r\n            console.log(urlModules);\r\n            this.setState((state) => {\r\n\t\treturn {modules: urlModules};\r\n            });\r\n        }\r\n\t\r\n\trender(){\r\n            return <div className=\"admin-tables admin-page\">\r\n                <div className=\"admin-heading\">\r\n                    <div className=\"admin-breadcrumbs\">\r\n                        <a className=\"admin-breadcrumbs__link\" href=\"#\">Tables</a>\r\n                        <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                        <span className=\"admin-breadcrumbs__current\">All Tables</span>\r\n                    </div>\r\n                    <Link className=\"btn\" to=\"/admin/tables/add\">Add New</Link>\r\n                    <div className=\"admin-filters\">\r\n                        <span className=\"admin-filters__current\">All ({this.state.modules.length || '0'})</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"admin-content\">\r\n                    <AdminTable columns={this.state.columns} rows={this.state.modules}/>\r\n                </div>\r\n            </div>;\r\n\t}\r\n\t\t\r\n    \r\n}\r\n","import React, { Component } from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport store from \"../js/store/store\";\r\nimport { setModalSettings } from \"../js/store/modal-settings/actions\";\r\nimport { generateId, redirect, objectDeepCleaning } from \"../js/helpers\";\r\nimport Pagination from \"./Pagination\";\r\n\r\n\r\nexport default class Templates extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      templates: [],\r\n      allTemplates: [],\r\n      templateAreas: [],\r\n      activeTemplateArea: {},\r\n      pageCount: 1,\r\n      currentPage: 1,\r\n      templateSearch: '',\r\n      sorting: {}\r\n    };\r\n    this.resource = new Resource({\r\n      route: '/admin/ajax/templates'\r\n    });\r\n    this.templateTypesResource = new Resource({\r\n      route: '/admin/ajax/areas'\r\n    });\r\n    this.onClick = this.onClick.bind(this);\r\n    this.changePage = this.changePage.bind(this);\r\n    this.changeActiveArea = this.changeActiveArea.bind(this);\r\n    this.generateTemplateJSON = this.generateTemplateJSON.bind(this);\r\n  }\r\n  changeActiveArea(e) {\r\n    let areaId = parseInt(e.target.dataset.area);\r\n    let activeTemplateArea = {};\r\n    this.state.templateAreas.forEach(area => {\r\n      if (area.id === areaId) {\r\n        activeTemplateArea = area;\r\n      }\r\n    });\r\n    this.setActiveArea(activeTemplateArea)\r\n  }\r\n\r\n  /**\r\n   * Смена текущей страницы\r\n   */\r\n  changePage(currentPage) {\r\n    this.updateTemplates(currentPage, this.state.activeTemplateArea);\r\n    this.setState(state => ({ ...state, currentPage }));\r\n  }\r\n\r\n  /**\r\n   * Сменить текущую область шаблона (вкладка)\r\n   * @param activeTemplateArea\r\n   */\r\n  setActiveArea(activeTemplateArea) {\r\n    this.updateTemplates(1, activeTemplateArea);\r\n    this.setState(state => {\r\n      return { ...state, activeTemplateArea };\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Метод для обновления списка шаблонов\r\n   * @param currentPage\r\n   * @param activeTemplateArea\r\n   */\r\n  updateTemplates = (currentPage = this.state.currentPage, activeTemplateArea = this.state.activeTemplateArea) => {\r\n    this.resource.getQueried({\r\n      area: activeTemplateArea.name,\r\n      page: currentPage,\r\n      pageSize: 10,\r\n      s: this.state.templateSearch,\r\n      ...this.state.sorting\r\n    }).then(res => {\r\n      this.setState(state => {\r\n        return {\r\n          ...state,\r\n          pageCount: res.pageCount,\r\n          templates: res.templates\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /** @function generateTemplateJSON\r\n  * Генерируем контент файла template в формате JSON\r\n  * @param {object} template Данные, получаемые с сервера\r\n  * @return {string} Строка в формате JSON\r\n  */\r\n  generateTemplateJSON(template) {\r\n    const data = objectDeepCleaning(JSON.parse(template.data));\r\n    return JSON.stringify({\r\n      area: this.state.activeTemplateArea.name,\r\n      data,\r\n      title: template.title,\r\n      name: template.name,\r\n    });\r\n  }\r\n  /** @function downloadJSONFile\r\n  * Скачиваем файл\r\n  * @param {object} template Данные, получаемые с сервера\r\n  */\r\n  downloadJSONFile(template) {\r\n    const element = document.createElement(\"a\");\r\n    const file = new Blob([this.generateTemplateJSON(template)], { type: 'text/plain' });\r\n    element.href = URL.createObjectURL(file);\r\n    element.download = `${template.name}.json`;\r\n    document.body.appendChild(element); // Required for this to work in FireFox\r\n    element.click();\r\n  }\r\n\r\n  /**\r\n   * Компонент загрузился\r\n   */\r\n  async componentDidMount() {\r\n    let templateAreas = await this.templateTypesResource.getAll();\r\n    this.setActiveArea(templateAreas[0]);\r\n    this.setState(state => {\r\n      return { ...state, templateAreas }\r\n    });\r\n    this.updateTemplates(this.state.currentPage, this.state.activeTemplateArea)\r\n  }\r\n\r\n  /**\r\n   * Показываем/скрываем форму импорта\r\n   */\r\n  toggleImportForm = () => {\r\n    this.setState(state => ({ ...state, showImportForm: !this.state.showImportForm }))\r\n  };\r\n  /**\r\n   * Импортируем шаблон из файла\r\n   */\r\n  importTemplate = (e) => {\r\n    e.preventDefault();\r\n    let files = _.get(e, 'target.files.files', []);\r\n    let uploadedFilesCount = 0;\r\n    if (files.length) {\r\n      _.forEach(files, f => {\r\n        let fr = new FileReader();\r\n        fr.onload = async (e) => {\r\n          let importedTemplateData = _.get(e, 'target.result', '{}');\r\n          importedTemplateData = JSON.parse(importedTemplateData);\r\n          let areaExists = false;\r\n          this.state.templateAreas.forEach(ta => {\r\n            if (ta.name === importedTemplateData.area) {\r\n              importedTemplateData.area = ta.id;\r\n              areaExists = true;\r\n            }\r\n          });\r\n          if (!areaExists) {\r\n            importedTemplateData.area = _.filter(this.state.templateAreas, ta => {\r\n              return ta.name === 'content';\r\n            });\r\n          }\r\n          // let res = await this.templateImportModule.importTemplate(importedTemplateData)\r\n          let res = await this.resource.post(importedTemplateData);\r\n          this.updateTemplates(this.state.currentPage)\r\n        };\r\n\r\n        fr.readAsText(f);\r\n      })\r\n    }\r\n  };\r\n\r\n  onClick() {\r\n    let modalSettings = {\r\n      title: 'Add New Template',\r\n      submitButton: 'Add',\r\n      submit: function (formData) {\r\n        let data = {\r\n          name: formData.title,\r\n          title: formData.title,\r\n          area: formData.area,\r\n          data: {\r\n            children: [],\r\n            id: generateId(),\r\n            name: \"root-element\",\r\n            settings: {},\r\n            type: \"root-element\",\r\n          }\r\n        };\r\n        return (new Resource({ route: '/admin/ajax/templates' })).post(data)\r\n      },\r\n      fields: [\r\n        {\r\n          name: 'title',\r\n          label: 'Template Name',\r\n          required: true,\r\n        },\r\n        {\r\n          name: 'area',\r\n          label: 'Area Name',\r\n          required: true,\r\n          type: 'select',\r\n          options: this.getAreasOptions(),\r\n          defaultValue: this.state.activeTemplateArea.id\r\n        }\r\n      ],\r\n      success: function (res) {\r\n        if (res.redirect && res.url) {\r\n          redirect(res.url)\r\n        }\r\n      },\r\n      active: true,\r\n    };\r\n    store.dispatch(setModalSettings(modalSettings));\r\n  }\r\n  getAreasOptions() {\r\n    return this.state.templateAreas;\r\n  }\r\n  setTemplates(templates) {\r\n    let allTemplates = templates;\r\n    templates = templates.filter(template => {\r\n      return template.area === this.state.activeTemplateArea.name;\r\n    });\r\n    this.setState(state => {\r\n      return { ...state, templates, allTemplates };\r\n    });\r\n  }\r\n\r\n  sortingHandler = (order_by, order) => {\r\n    this.setState({ sorting: { order_by, order } }, this.updateTemplates);\r\n  }\r\n\r\n  searchTemplates = e => {\r\n    e.preventDefault();\r\n    this.updateTemplates();\r\n  }\r\n\r\n  render() {\r\n    const { templateSearch, sorting } = this.state\r\n    return <div className=\"admin-templates admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">Templates</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">All Templates</span>\r\n        </div>\r\n        <button onClick={this.onClick} className=\"btn\">Add New</button>\r\n        <button onClick={this.toggleImportForm} className=\"btn ml-3\">Import Template</button>\r\n        <div className=\"admin-filters\">\r\n          <span className=\"admin-filters__current\">All ({this.state.allTemplates.length || ''})</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        {this.state.showImportForm && <form className={\"admin-form justify-content-center\" + (this.state.showImportForm ? ' d-flex' : ' d-none')}\r\n          onSubmit={this.importTemplate}>\r\n          <input type=\"file\"\r\n            name=\"files\"\r\n            multiple={true}\r\n            required={true}\r\n            accept=\"application/json\"\r\n            className=\"form__input\" />\r\n          <button className=\"btn\">Import</button>\r\n        </form>}\r\n        <ul className=\"nav nav-pills admin-pills\">\r\n          {this.state.templateAreas.map(area => {\r\n            let tabClasses = ['nav-link',];\r\n            if (this.state.activeTemplateArea.name === area.name) {\r\n              tabClasses.push('active');\r\n            }\r\n            return <li className=\"nav-item\" key={area.id}>\r\n              <button className={tabClasses.join(' ')}\r\n                onClick={this.changeActiveArea}\r\n                data-area={area.id}>{area.title}</button>\r\n            </li>\r\n          })}\r\n        </ul>\r\n        <form className=\"admin-panel py-2\" onSubmit={this.searchTemplates}>\r\n          <input className=\"input-sm mr-2\" value={templateSearch} onChange={e => this.setState({ templateSearch: e.target.value })} />\r\n          <button className=\"btn btn_bare admin-users-button\">Search</button>\r\n        </form>\r\n        <AdminTable columns={[\r\n          {\r\n            name: 'title',\r\n            title: 'Title',\r\n            url: true,\r\n            target: '_blank',\r\n          },\r\n          {\r\n            name: 'author',\r\n            title: 'Author',\r\n          },\r\n        ]}\r\n          rows={this.state.templates}\r\n          quickActions={[{\r\n            tag: 'a', props: {\r\n              href: '/admin/editor?template_id=:id',\r\n              target: '_blank',\r\n              // className: ''\r\n            },\r\n            title: 'Edit'\r\n          }, {\r\n            tag: 'button',\r\n            route: '/admin/ajax/templates/:id/reviews',\r\n            method: 'delete',\r\n            // className: ''\r\n            title: 'Clear History'\r\n          }, {\r\n            tag: 'button',\r\n            route: '/admin/ajax/templates',\r\n            method: 'get',\r\n            after: response => this.downloadJSONFile(response),\r\n            title: 'Export'\r\n          }, {\r\n            tag: 'button',\r\n            route: '/admin/ajax/templates/:id',\r\n            method: 'delete',\r\n            confirm: 'Are You Sure?',\r\n            after: () => this.updateTemplates(this.state.currentPage, this.state.activeTemplateArea),\r\n            className: 'quick-action-menu__item_danger',\r\n            title: 'Trash'\r\n          }]}\r\n          sortingHandler={this.sortingHandler}\r\n          sortingField={sorting.order_by}\r\n        />\r\n        <Pagination pageCount={this.state.pageCount || 1}\r\n          currentPage={this.state.currentPage}\r\n          changePage={this.changePage}\r\n          itemsCount={this.state.templates.length}\r\n        />\r\n      </div>\r\n    </div>;\r\n  }\r\n\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport store from \"../js/store/store\";\r\nimport { setModalSettings } from \"../js/store/modal-settings/actions\";\r\nimport { redirect } from \"../js/helpers\";\r\n\r\nexport default class Robots extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      robots: [],\r\n      model_id: false\r\n    };\r\n\r\n    this.resource = new Resource({\r\n      route: \"ajax/robots\"\r\n    });\r\n\r\n    this.addNew = this.addNew.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.fetchData();\r\n    console.log(this.state);\r\n  }\r\n\r\n  async fetchData() {\r\n    const robots = await this.resource.getAll();\r\n\r\n    if (_.isArray(robots)) {\r\n      robots.map(item =>{\r\n        item.url = `/admin/robots-editor?robot_id=${item.id}`;\r\n        return item;\r\n      });\r\n    }\r\n    console.log(robots);\r\n\r\n    this.setState(state => ({ ...state, robots }));\r\n  }\r\n\r\n  goToRobotsEditor() {\r\n    window.location.href = \"/admin/robots-editor\";\r\n  }\r\n\r\n  addNew() {\r\n    const modalSettings = {\r\n      title: \"Add new Robot\",\r\n      submitButton: \"Add\",\r\n      submit: data =>\r\n        this.resource.post({\r\n          name: data.name,\r\n        }),\r\n      fields: [\r\n        {\r\n          name: \"name\",\r\n          label: \"Robot name\",\r\n          required: true\r\n        },\r\n      ],\r\n      active: true,\r\n      success: res => {\r\n        if (res.redirect_route) {\r\n          redirect(res.redirect_route);\r\n        }\r\n      }\r\n    };\r\n\r\n    store.dispatch(setModalSettings(modalSettings));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"admin-templates admin-page\">\r\n        <div className=\"admin-heading\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n              Robots\r\n            </a>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">All Robots</span>\r\n          </div>\r\n          <button onClick={this.addNew} className=\"btn\">\r\n            Add New\r\n          </button>\r\n          {/* <button className=\"btn ml-3\">Import Robot</button> */}\r\n          <div className=\"admin-filters\">\r\n            <span className=\"admin-filters__current\">\r\n              {/* All ({this.state.allTemplates.length || \"\"}) */}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n          <AdminTable\r\n            columns={[\r\n              {\r\n                name: \"name\",\r\n                title: \"Name\",\r\n                url: true,\r\n                target: \"_blank\"\r\n              },\r\n              {\r\n                name: \"author\",\r\n                title: \"Author\",\r\n              },\r\n              {\r\n                name: \"model_id\",\r\n                title: \"Model\",\r\n              },\r\n              {\r\n                name: \"start_condition\",\r\n                title: \"Start Condition\",\r\n              },\r\n              {\r\n                name: \"enabled\",\r\n                title: \"Enabled\",\r\n              }\r\n            ]}\r\n            rows={this.state.robots}\r\n            quickActions={[\r\n              {\r\n                tag: \"a\",\r\n                props: {\r\n                  href: \"/admin/robots-editor?robot_id=:id\",\r\n                  target: \"_blank\"\r\n                },\r\n                title: \"Edit\"\r\n              }, {\r\n                // tag: \"button\",\r\n                // route: \"/admin/ajax/robots\",\r\n                // method: \"put\",\r\n                // data: {name: 1},\r\n                // after: () => this.fetchData(),\r\n                // title: \"Rename\"\r\n\r\n\r\n                tag: \"button\",\r\n                route: \"/admin/ajax/robots\",\r\n                method: \"put\",\r\n                data: {power: 1},\r\n                after: () => this.fetchData(),\r\n                title: \"Enable\"\r\n              }, {\r\n                tag: \"button\",\r\n                route: \"/admin/ajax/robots/:id\",\r\n                method: \"delete\",\r\n                confirm: \"Are You Sure?\",\r\n                after: () => this.fetchData(),\r\n                className: \"quick-action-menu__item_danger\",\r\n                title: \"Trash\"\r\n              }\r\n            ]}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"10\" height=\"11\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5.583 5.354L9.23 1.707 8.523 1 4.9 4.622 1.753 1.024 1 1.683l3.212 3.67L1 9.025l.753.659L4.9 6.085l3.622 3.622L9.23 9 5.583 5.354z\" fill=\"#343B4C\" /><path d=\"M9.23 1.707l.177.177.176-.177-.176-.177-.177.177zM5.583 5.354l-.176-.177-.177.177.177.176.176-.176zM8.523 1L8.7.823 8.523.646l-.177.177.177.177zM4.9 4.622l-.188.165.175.2.19-.188-.177-.177zM1.753 1.024L1.94.86 1.776.672l-.188.164.165.188zM1 1.683l-.165-.188-.188.164.165.188L1 1.683zm3.212 3.67l.188.165.144-.164-.144-.165-.188.165zM1 9.025L.812 8.86l-.165.188.188.164L1 9.024zm.753.659l-.165.188.188.165.165-.189-.188-.164zM4.9 6.085l.176-.177-.189-.189-.175.201.188.165zm3.622 3.622l-.177.177.177.177.177-.177-.177-.177zM9.23 9l.177.177L9.583 9l-.176-.177L9.23 9zm-.177-7.47L5.407 5.177l.353.353 3.647-3.646-.354-.354zm-.707-.353l.707.707.354-.354L8.7.823l-.354.354zM5.077 4.799L8.7 1.177 8.346.823 4.724 4.445l.353.354zm-3.513-3.61l3.149 3.598.376-.33L1.94.86l-.377.329zm-.4.682l.753-.659-.33-.376-.752.659.33.376zM4.4 5.189l-3.212-3.67-.376.328 3.212 3.671.376-.33zm-.376 0L.812 8.859l.376.33L4.4 5.519l-.376-.33zM.835 9.212l.753.659.33-.376-.753-.659-.33.376zm1.106.635L5.089 6.25l-.377-.33-3.148 3.598.377.33zm2.783-3.585l3.622 3.622.354-.354-3.623-3.622-.353.354zM8.7 9.884l.707-.707-.354-.354-.707.707.354.354zm.707-1.06L5.76 5.176l-.353.353 3.646 3.647.354-.354z\" fill=\"#000\" /></svg>);","import {connect} from \"react-redux\";\r\nimport React, {Component} from \"react\";\r\nimport TimesIcon from '../svgs/times.svg';\r\nimport store from \"../js/store/store\";\r\nimport {toggleModal} from \"../js/store/modal-settings/actions\";\r\n\r\n\r\nclass AdminModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggleModal = this.toggleModal.bind(this);\r\n    this.changeValue = this.changeValue.bind(this);\r\n    this.storeSubscribe = this.storeSubscribe.bind(this);\r\n    this.submit = this.submit.bind(this);\r\n    this.formData = {};\r\n    props.fields.forEach(field=>{\r\n      if(field.defaultValue){\r\n        this.formData[field.name] = field.defaultValue;\r\n      }\r\n    });\r\n    this.state = {\r\n      errors: [],\r\n    };\r\n    store.subscribe(this.storeSubscribe);\r\n  }\r\n  storeSubscribe(){\r\n    store.getState().modalSettings.fields.forEach(field=>{\r\n      if(field.defaultValue){\r\n        this.formData[field.name] = field.defaultValue;\r\n      }\r\n    });\r\n  }\r\n  submit() {\r\n    let valid = true;\r\n    let errors = this.props.fields.map(field => {\r\n      if (field.required &&\r\n          !this.formData[field.name]) {\r\n        valid = false;\r\n        return field.errorMessage || `Need complete this field`;\r\n      }\r\n    });\r\n    if (! valid) {\r\n      this.setState(state => {\r\n        return {...state, errors}\r\n      });\r\n      return;\r\n    }\r\n    this.props.submit(this.formData).then(this.props.success)\r\n  }\r\n\r\n  changeValue(e) {\r\n    let target = e.target;\r\n    this.formData[target.dataset.field] = target.value;\r\n    let errors = [...this.state.errors];\r\n    errors[target.dataset.error] = '';\r\n    this.setState(state => {\r\n      return {...state, errors}\r\n    });\r\n  }\r\n\r\n  toggleModal() {\r\n    store.dispatch(toggleModal());\r\n  }\r\n\r\n  render() {\r\n    let modalClasses = 'admin-modal';\r\n    if (this.props.active) {\r\n      modalClasses += ' admin-modal_active';\r\n    }\r\n    return <div className={modalClasses}>\r\n      <div className=\"admin-modal__bg\" onClick={this.toggleModal}/>\r\n      <div className=\"admin-modal-content\">\r\n        <button className=\"admin-modal__close\" onClick={this.toggleModal}><TimesIcon className=\"icon\"/></button>\r\n        <div className=\"admin-caption\">{this.props.title}</div>\r\n        <div className=\"admin-modal-form form\">\r\n          {\r\n            this.props.fields.map((field, idx) => <label className=\"form-label\"\r\n                                                         data-field={field.name}\r\n                                                         key={field.name}>{field.label}\r\n              {(field.type !== 'select') ?\r\n                  <input type={field.type || 'text'}\r\n                         className=\"form__input\"\r\n                         data-field={field.name}\r\n                         data-error={idx}\r\n                         defaultValue={field.defaultValue || ''}\r\n                         onChange={this.changeValue}/> :\r\n                  <select className=\"form__input\"\r\n                          data-field={field.name}\r\n                          data-error={idx}\r\n                          defaultValue={field.defaultValue || ''}\r\n                          onChange={this.changeValue}>\r\n                    <option value=\"\"/>\r\n                    {\r\n                      field.options.map(option =>\r\n                          <option key={option.id}\r\n                                  value={option.id}\r\n                                  children={option.title || option.name}/>)\r\n                    }\r\n                  </select>\r\n              }\r\n              {this.state.errors[idx] ? <span className=\"form-label__error\">{this.state.errors[idx]}</span> : ''}\r\n            </label>)\r\n          }\r\n          <div className=\"form-bottom\">\r\n            <button className=\"btn btn_success\" onClick={this.submit}>{this.props.submitButton}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ...state.modalSettings\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AdminModal);\r\n","import React, { Component } from \"react\";\r\nimport TimesIcon from '../svgs/times.svg';\r\n\r\nclass AdminModal2 extends Component {\r\n  render() {\r\n    const { closeHandler, children } = this.props;\r\n\r\n    return ReactDOM.createPortal(<div className=\"admin-modal admin-modal_active\">\r\n      <div className=\"admin-modal__bg\" onClick={closeHandler} />\r\n      <div className=\"admin-modal-content\">\r\n        <button className=\"admin-modal__close\" onClick={closeHandler}><TimesIcon className=\"icon\" /></button>\r\n        {children}\r\n      </div>\r\n    </div>, document.body)\r\n  }\r\n}\r\n\r\nexport default AdminModal2;\r\n","import React, {Component} from \"react\";\r\nimport TimesIcon from '../../svgs/times.svg'\r\nclass ParamItem extends Component {\r\n\r\n  /**\r\n   * Меняем значение параметра\r\n   */\r\n  changeValue=(e)=>{\r\n    const param = {...this.props.param, paramValue: e.target.value || ''};\r\n    this.props.onChange(param)\r\n  };\r\n  /**\r\n   * Меняем имя параметра\r\n   */\r\n  changeName=(e)=>{\r\n    const param = {...this.props.param, paramName: e.target.value || ''};\r\n    this.props.onChange(param)\r\n  };\r\n  /**\r\n   * Меняем обязательность параметра\r\n   */\r\n  changeRequired=(e)=>{\r\n    const param = {...this.props.param, required: e.target.checked};\r\n    this.props.onChange(param)\r\n  };\r\n render(){\r\n   return <div className=\"param-item pb-2\">\r\n     <button type=\"button\"\r\n             className=\"close\"\r\n             aria-label=\"Delete\"\r\n             onClick={this.props.onDelete}>\r\n       <TimesIcon/>\r\n     </button>\r\n     <input type=\"text\"\r\n            className=\"form-control form-control-sm ml-0 mb-1\"\r\n            onChange={this.changeName}\r\n            value={this.props.param.paramName || ''}\r\n            placeholder=\"Parameter Name\"/>\r\n     <input type=\"text\"\r\n            className=\"form-control  form-control-sm ml-0\"\r\n            onChange={this.changeValue}\r\n            value={this.props.param.paramValue || ''}\r\n            placeholder=\"Parameter Value\"/>\r\n     <div className=\"d-flex mt-1 align-items-center\">\r\n       <input type=\"checkbox\"\r\n              className=\"form-check-input mr-1 ml-0 mt-0 position-static\"\r\n              id={this.props.param.key}\r\n              onChange={this.changeRequired}\r\n              checked={this.props.param.required}/>\r\n       <label htmlFor={this.props.param.key}\r\n              className=\"form-check-label\">Required</label>\r\n     </div>\r\n   </div>\r\n }\r\n}\r\n\r\nexport default ParamItem","import React, {Component} from \"react\";\r\nimport {altrpRandomId, mbParseJSON} from \"../../../../front-app/src/js/helpers\";\r\nimport ParamItem from \"./ParamItem\";\r\n\r\nclass PageDataSourceParams extends Component {\r\n  /**\r\n   * Добавляем элемент\r\n   */\r\n  addItem=()=>{\r\n    let parameters = mbParseJSON(this.props.parameters, []);\r\n    parameters.push({\r\n      required: false,\r\n      paramName: '',\r\n      paramValue: '',\r\n      key: altrpRandomId(),\r\n    });\r\n    this.props.onChange(parameters)\r\n  };\r\n  render(){\r\n    const parameters = mbParseJSON(this.props.parameters, []) ;\r\n    return <div className=\"page-data-source-params\">\r\n      {\r\n        parameters.map((param, idx)=>{\r\n          return <ParamItem param={param}\r\n                            onChange={param=>{\r\n                              let _parameters = [...parameters];\r\n                              _parameters[idx] = param;\r\n                              this.props.onChange(_parameters);\r\n                            }}\r\n                            onDelete={()=>{\r\n                              let _parameters = [...parameters];\r\n                              _parameters.splice(idx, 1);\r\n                              this.props.onChange(_parameters);\r\n                            }}\r\n                            key={param.key}/>\r\n        })\r\n      }\r\n      <div className=\"d-flex justify-content-end\">\r\n        <button className=\"btn btn_success\"\r\n                onClick={this.addItem}\r\n                type=\"button\">+</button>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default PageDataSourceParams","import React, { Component } from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\nimport {altrpRandomId, isJSON, mbParseJSON, parseParamsFromString} from \"../../../../front-app/src/js/helpers\";\r\nimport PageDataSourceParams from \"./PageDataSourceParams\";\r\n\r\nclass PageDataSourceForm extends Component {\r\n  state = {\r\n    source_id: '',\r\n    alias: '',\r\n    priority: 100,\r\n    parameters: '',\r\n    dataSourceOptions: [],\r\n    autoload: true,\r\n    isExtendedSettings: isJSON(_.get(this.props, 'dataSource.parameters')),\r\n    ...this.props.dataSource\r\n  };\r\n\r\n  changeHandler = ({ target: { value, name, checked } }) => {\r\n    if(name === 'autoload' || name === 'server_side'){\r\n      value = checked;\r\n    }\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const resource = new Resource({ route: '/admin/ajax/data_sources' });\r\n    const { data_sources } = await resource.getAll();\r\n    this.setState({ dataSourceOptions: data_sources })\r\n  }\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    const { id } = this.props.match.params;\r\n    const resource = new Resource({ route: `/admin/ajax/page_data_sources` });\r\n    const data = { ...this.state };\r\n    delete data.dataSourceOptions;\r\n    if (this.props.dataSource) {\r\n        resource.put(data.id, data);\r\n    } else {\r\n      resource.post({ page_id: id, ...data });\r\n    }\r\n    this.props.updateHandler();\r\n  };\r\n  /**\r\n   * Переключаем тип настройки параметров с раширинных до обычных\r\n   */\r\n  toggleParamsSettings=()=>{\r\n    let isExtendedSettings = ! this.state.isExtendedSettings;\r\n    let parameters;\r\n    if(isExtendedSettings){\r\n      parameters = parseParamsFromString(this.state.parameters, {}, false, false);\r\n      parameters = _.map(parameters, (paramValue, paramName) => {\r\n        return {\r\n          paramValue,\r\n          paramName,\r\n          key: altrpRandomId(),\r\n          required: false,\r\n        }\r\n      });\r\n      parameters = JSON.stringify(parameters);\r\n    } else {\r\n      parameters = mbParseJSON(this.state.parameters) || [];\r\n      let _parameters = '';\r\n      parameters.forEach(param => {\r\n        _parameters += `${param.paramName || ''} | ${param.paramValue || ''}\\n`\r\n      });\r\n      parameters = _parameters;\r\n    }\r\n    this.setState(state => ({...state, isExtendedSettings, parameters}));\r\n  };\r\n  render() {\r\n    let { source_id, alias, priority, parameters, dataSourceOptions, autoload, isExtendedSettings, server_side } = this.state;\r\n    dataSourceOptions = dataSourceOptions.map(source=>({value:source.id, label:source.title || source.name}));\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"source_id\">Data Source</label>\r\n        {/*<select id=\"source_id\"*/}\r\n          {/*name=\"source_id\"*/}\r\n          {/*value={source_id}*/}\r\n          {/*onChange={this.changeHandler}*/}\r\n          {/*className=\"form-control\"*/}\r\n        {/*>*/}\r\n          {/*<option value=\"\" />*/}\r\n          {/*{dataSourceOptions.map(({ id, name }) => <option value={id} key={id}>{name}</option>)}*/}\r\n        {/*</select>*/}\r\n        <AltrpSelect options={dataSourceOptions}\r\n                     onChange={({value})=>{\r\n                       this.setState(state => ({...state, source_id: value}));\r\n                     }}\r\n                     value={dataSourceOptions.find(({value})=>value === source_id)}/>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"alias\">Alias</label>\r\n        <input type=\"text\" id=\"alias\" required\r\n          name=\"alias\"\r\n          value={alias}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"priority\">Priority</label>\r\n        <input type=\"number\" id=\"priority\" required\r\n          name=\"priority\"\r\n          value={priority}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"autoload\">Autoload</label>\r\n        <input type=\"checkbox\" id=\"autoload\"\r\n          name=\"autoload\"\r\n          checked={autoload}\r\n          onChange={this.changeHandler}\r\n          className=\"form-check-input position-static ml-2\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"server_side\">Server Side</label>\r\n        <input type=\"checkbox\" id=\"server_side\"\r\n          name=\"server_side\"\r\n          checked={server_side}\r\n          onChange={this.changeHandler}\r\n          className=\"form-check-input position-static ml-2\"\r\n        />\r\n      </div>\r\n      <div className=\"admin_switcher\">\r\n        <div className=\"admin_switcher__label\">Extended Params Settings</div>\r\n        <div className={`control-switcher ${isExtendedSettings ? 'control-switcher_on' : 'control-switcher_off'}`}\r\n             onClick={this.toggleParamsSettings}>\r\n          <div className=\"control-switcher__on-text\">ON</div>\r\n          <div className=\"control-switcher__caret\"/>\r\n          <div className=\"control-switcher__off-text\">OFF</div>\r\n        </div>\r\n      </div>\r\n      {! isExtendedSettings && <div className=\"form-group\">\r\n        <label htmlFor=\"parameters\">Parameters:</label>\r\n        <textarea name=\"parameters\"\r\n          id=\"parameters\"\r\n          value={parameters || ''}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>}\r\n      {isExtendedSettings && <PageDataSourceParams parameters={parameters || ''} onChange={parameters=>{\r\n        this.setState(state=>({...state, parameters: JSON.stringify(parameters)}));\r\n      }}/>}\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(PageDataSourceForm);\r\n","import React, { Component } from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport { Link, Redirect, withRouter } from \"react-router-dom\";\r\nimport AltrpSelect from \"./altrp-select/AltrpSelect\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport AdminModal2 from \"./AdminModal2\";\r\nimport PageDataSourceForm from \"./pages/PageDataSourceForm\";\r\nimport { titleToPath } from \"../js/helpers\";\r\n\r\nconst columns = [\r\n  {\r\n    name: \"source.name\",\r\n    title: \"Datasource\",\r\n    url: true\r\n    // editUrl: true,\r\n    // tag: 'Link'\r\n  },\r\n  {\r\n    name: \"alias\",\r\n    title: \"Alias\"\r\n  },\r\n  {\r\n    name: \"priority\",\r\n    title: \"Priority\"\r\n  },\r\n  {\r\n    name: \"server_side\",\r\n    title: \"Server Side\",\r\n  },\r\n];\r\n\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass AddPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      page: {},\r\n      value: {},\r\n      redirectAfterSave: false,\r\n      templates: [],\r\n      models: [],\r\n      isModalOpened: false,\r\n      dataSources: [],\r\n      editingDataSource: null,\r\n      pagesOptions: [],\r\n      currentTab: 'content',\r\n    };\r\n    this.resource = new Resource({ route: \"/admin/ajax/pages\" });\r\n    this.pagesOptionsResource = new Resource({\r\n      route: \"/admin/ajax/pages_options\"\r\n    });\r\n    this.model_resource = new Resource({ route: \"/admin/ajax/models_options\" });\r\n    this.templateResource = new Resource({ route: \"/admin/ajax/templates\" });\r\n    this.dataSourceResource = new Resource({\r\n      route: \"/admin/ajax/page_data_sources/pages\"\r\n    });\r\n\r\n    this.savePage = this.savePage.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Компонент загрузился\r\n   * получыаем данный страницы + опции для шаблона\r\n   * @return {Promise<void>}\r\n   */\r\n  async componentDidMount() {\r\n    this.pagesOptionsResource\r\n      .getAll()\r\n      .then(pagesOptions => this.setState({ pagesOptions }));\r\n\r\n    let res = await this.templateResource.getOptions();\r\n    this.setState(state => {\r\n      return { ...state, templates: res };\r\n    });\r\n\r\n    let models_res = await this.model_resource.getAll();\r\n    this.setState(state => {\r\n      return { ...state, models: models_res };\r\n    });\r\n    let id = this.props.match.params.id;\r\n    id = parseInt(id);\r\n    if (id) {\r\n      this.getDataSources();\r\n      let pageData = await this.resource.get(id);\r\n      this.setState(state => {\r\n        return { ...state, value: pageData, id };\r\n      });\r\n    }\r\n  }\r\n\r\n  getDataSources = async () => {\r\n    let id = this.props.match.params.id;\r\n    const dataSources = await this.dataSourceResource.get(id);\r\n    this.setState({ dataSources });\r\n    this.setState({ isModalOpened: false, editingDataSource: null });\r\n  };\r\n\r\n  editHandler = editingDataSource => {\r\n    this.setState({ editingDataSource, isModalOpened: true });\r\n  };\r\n\r\n  /**\r\n   * Сохранить страницу или добавить новую\r\n   * @param e\r\n   * @return {Promise<void>}\r\n   */\r\n  async savePage(e) {\r\n    if(this.state.value.path === undefined ||\r\n      this.state.value.path === ''  ||\r\n      this.state.value.title === undefined ||\r\n      this.state.value.title === '') {\r\n        this.setState(state => {\r\n          return {...state, currentTab: 'content'}\r\n        });\r\n        return;\r\n      }\r\n\r\n    e.preventDefault();\r\n    let res;\r\n    const { parent_page_id } = this.state.value;\r\n    let path = this.state.value.path;\r\n    path = path.split(\"\\\\\").join(\"/\");\r\n    path = path[0] !== \"/\" ? `/${path}` : path;\r\n\r\n    let redirect = this.state.value.redirect;\r\n    redirect = (redirect || \"\").split(\"\\\\\").join(\"/\");\r\n    if (redirect) {\r\n      redirect = redirect[0] !== \"/\" ? `/${redirect}` : redirect;\r\n    }\r\n    this.state.value.redirect = redirect;\r\n    this.state.value.path = path;\r\n    if (this.state.id) {\r\n      res = await this.resource.put(this.state.id, {\r\n        ...this.state.value,\r\n        parent_page_id: parent_page_id === \"root\" ? null : parent_page_id\r\n      });\r\n    } else {\r\n      res = await this.resource.post({\r\n        ...this.state.value,\r\n        parent_page_id: parent_page_id === \"root\" ? null : parent_page_id\r\n      });\r\n    }\r\n    if (res.success) {\r\n      this.setState(state => {\r\n        return { ...state, redirectAfterSave: true };\r\n      });\r\n    } else {\r\n      this.setState(state => {\r\n        return { ...state, value: {} };\r\n      });\r\n    }\r\n  }\r\n\r\n  changeValue(value, field) {\r\n    if (field === \"path\") {\r\n      value = value.split(\"\\\\\").join(\"/\");\r\n      value = value[0] !== \"/\" ? `/${value}` : value;\r\n    }\r\n    if (field === \"redirect\") {\r\n      value = value.split(\"\\\\\").join(\"/\");\r\n      if (value) {\r\n        value = value[0] !== \"/\" ? `/${value}` : value;\r\n      }\r\n    }\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value[field] = value;\r\n      return newState;\r\n    });\r\n  }\r\n\r\n  parentChangeHandler = parentId => {\r\n    if (parentId === \"root\") {\r\n      this.setState({\r\n        value: { ...this.state.value, parent_page_id: parentId, path: \"/\" }\r\n      });\r\n    } else {\r\n      this.resource.get(parentId).then(({ path }) =>\r\n        this.setState({\r\n          value: {\r\n            ...this.state.value,\r\n            parent_page_id: parentId,\r\n            path:\r\n              path +\r\n              (path.endsWith(\"/\") ? \"\" : \"/\") +\r\n              titleToPath(this.state.value.title)\r\n          }\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  changeCurrentTab(currentTab) {\r\n    return () => this.setState((state)=> {\r\n      return {...state, currentTab }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { isModalOpened, editingDataSource } = this.state;\r\n    if (this.state.redirectAfterSave) {\r\n      return <Redirect to=\"/admin/pages\" />;\r\n    }\r\n    let { dataSources } = this.state;\r\n\r\n    dataSources = _.sortBy(dataSources, dataSource => dataSource.priority);\r\n    return (\r\n      <div className=\"admin-pages admin-page\">\r\n        <div className=\"admin-heading\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <Link className=\"admin-breadcrumbs__link\" to=\"/admin/pages\">\r\n              Pages\r\n            </Link>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">\r\n              {this.state.value.title || \"Add New Page\"}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n          <div className=\"custom-tab__tabs\">\r\n            <button\r\n              className={this.state.currentTab === \"content\" ?\r\n              \"custom-tab__tab custom-tab__tab--selected\" :\r\n              \"custom-tab__tab\"}\r\n              onClick={this.changeCurrentTab('content')}\r\n            >\r\n              content\r\n            </button>\r\n            <button\r\n              className={this.state.currentTab === \"SEO\" ?\r\n              \"custom-tab__tab custom-tab__tab--selected\" :\r\n              \"custom-tab__tab\"}\r\n              onClick={this.changeCurrentTab('SEO')}\r\n            >\r\n              SEO\r\n            </button>\r\n          </div>\r\n          <div className=\"custom-tab__tab-panel\">\r\n            <form\r\n              className=\"admin-form mb-2\"\r\n              onSubmit={this.savePage}\r\n            >\r\n              {(() => {\r\n                if(this.state.currentTab === 'content') {\r\n                return (\r\n                  <React.Fragment>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"page-title\">Title</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        id=\"page-title\"\r\n                        required={1}\r\n                        value={this.state.value.title || \"\"}\r\n                        onChange={e => {\r\n                          this.changeValue(e.target.value, \"title\");\r\n                        }}\r\n                        className=\"form-control\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"parent_page_id\">Parent Page</label>\r\n                      <select\r\n                        id=\"parent_page_id\"\r\n                        value={this.state.value.parent_page_id || \"\"}\r\n                        onChange={e => {\r\n                          // this.changeValue(e.target.value, 'parent_page_id');\r\n                          this.parentChangeHandler(e.target.value);\r\n                        }}\r\n                        className=\"form-control\"\r\n                      >\r\n                        <option value=\"\" disabled />\r\n                        <option value=\"root\">Root</option>\r\n                        {this.state.pagesOptions.map(page => {\r\n                          return (\r\n                            <option value={page.value} key={page.value}>\r\n                              {page.label}\r\n                            </option>\r\n                          );\r\n                        })}\r\n                      </select>\r\n                      {/* <AltrpSelect id=\"parent_page_id\"\r\n                      // isMulti={true}\r\n                      optionsRoute=\"/admin/ajax/pages_options\"\r\n                      placeholder=\"\"\r\n                      defaultOptions={[\r\n                        {\r\n                          value: '',\r\n                          label: '',\r\n                        }\r\n                      ]}\r\n                      value={this.state.value.parent_page_id || ''}\r\n                      onChange={({ value }) => { this.parentChangeHandler(value) }}\r\n                    /> */}\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"page-path\">Path</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        id=\"page-path\"\r\n                        required={1}\r\n                        value={this.state.value.path || \"\"}\r\n                        onChange={e => {\r\n                          this.changeValue(e.target.value, \"path\");\r\n                        }}\r\n                        className=\"form-control\"\r\n                      />\r\n                    </div>\r\n\r\n                    {/*<div className=\"form-group\">*/}\r\n                    {/*<label htmlFor=\"page-template\">Content Template</label>*/}\r\n                    {/*<select id=\"page-template\"*/}\r\n                    {/*value={this.state.value.template_id || ''}*/}\r\n                    {/*onChange={e => {this.changeValue(e.target.value, 'template_id')}}*/}\r\n                    {/*className=\"form-control\">*/}\r\n                    {/*<option value=\"\"/>*/}\r\n                    {/*{*/}\r\n                    {/*this.state.templates.map(template=>{*/}\r\n                    {/*return <option value={template.value} key={template.value}>{template.label}</option>*/}\r\n                    {/*})*/}\r\n                    {/*}*/}\r\n                    {/*</select>*/}\r\n                    {/*</div>*/}\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"page-model\">Model</label>\r\n                      <select\r\n                        id=\"page-model\"\r\n                        value={this.state.value.model_id || \"\"}\r\n                        onChange={e => {\r\n                          this.changeValue(e.target.value, \"model_id\");\r\n                        }}\r\n                        className=\"form-control\"\r\n                      >\r\n                        <option value=\"\" />\r\n                        {this.state.models.map(model => {\r\n                          return (\r\n                            <option value={model.value} key={model.value}>\r\n                              {model.label}\r\n                            </option>\r\n                          );\r\n                        })}\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"page-roles\">Roles</label>\r\n                      <AltrpSelect\r\n                        id=\"page-roles\"\r\n                        isMulti={true}\r\n                        optionsRoute=\"/admin/ajax/role_options\"\r\n                        placeholder=\"All\"\r\n                        defaultOptions={[\r\n                          {\r\n                            value: \"guest\",\r\n                            label: \"Guest\"\r\n                          }\r\n                        ]}\r\n                        value={this.state.value.roles}\r\n                        onChange={value => {\r\n                          this.changeValue(value, \"roles\");\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"redirect\">Redirect</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        id=\"redirect\"\r\n                        value={this.state.value.redirect || \"\"}\r\n                        onChange={e => {\r\n                          this.changeValue(e.target.value, \"redirect\");\r\n                        }}\r\n                        className=\"form-control\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"row col-12\">\r\n                      <div className=\"form-group col-4\">\r\n                        <input type=\"checkbox\" id=\"caching\"\r\n                          checked={this.state.value.is_cached || \"\"}\r\n                          onChange={e => {\r\n                            this.changeValue(e.target.checked, \"is_cached\");\r\n                          }}\r\n                          className=\"form-check-input form-check-input_inline\" />\r\n                        <label htmlFor=\"caching\" className=\"label_checkbox\">Сaching (Only for Static Pages)</label>\r\n                      </div>\r\n                      <div className=\"form-group col-4 \">\r\n                        <input type=\"checkbox\" id=\"404\"\r\n                          checked={this.state.value.not_found || \"\"}\r\n                          onChange={e => {\r\n                            this.changeValue(e.target.checked, \"not_found\");\r\n                          }}\r\n                          className=\"form-check-input form-check-input_inline\" />\r\n                        <label htmlFor=\"404\" className=\"label_checkbox\">404</label>\r\n                      </div>\r\n                      <div className=\"form-group col-4 \">\r\n                        <label htmlFor=\"sections_count\" className=\"label_checkbox\">Sections Count:</label>\r\n                        <input type=\"number\" id=\"sections_count\"\r\n                          value={this.state.value.sections_count || \"\"}\r\n                          onChange={e => {\r\n                            this.changeValue(e.target.value, \"sections_count\");\r\n                          }}\r\n                          className=\"form-control\" />\r\n                      </div>\r\n                    </div>\r\n                  </React.Fragment>\r\n                );\r\n              } else if(this.state.currentTab === 'SEO') {\r\n                return (\r\n                  <React.Fragment>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"seo-title\">Title</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        id=\"seo-title\"\r\n                        value={this.state.value.seo_title || \"\"}\r\n                        onChange={e => {\r\n                          this.changeValue(e.target.value, \"seo_title\");\r\n                        }}\r\n                        className=\"form-control\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"seo-keywords\">Keywords</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        id=\"seo-keywords\"\r\n                        value={this.state.value.seo_keywords || \"\"}\r\n                        onChange={e => {\r\n                          this.changeValue(e.target.value, \"seo_keywords\");\r\n                        }}\r\n                        className=\"form-control\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"seo_description\">Description</label>\r\n                      <textarea\r\n                        id=\"seo_description\"\r\n                        value={this.state.value.seo_description || \"\"}\r\n                        onChange={e => {\r\n                          this.changeValue(e.target.value, \"seo_description\");\r\n                        }}\r\n                        className=\"form-control\"\r\n                      >\r\n                      </textarea>\r\n                    </div>\r\n                  </React.Fragment>\r\n                );\r\n              }})()}\r\n              <button className= {this.state.value.path ? \"btn btn_success\" : \"btn btn_disable\"}>\r\n                {this.state.id ? \"Save\" : \"Add\"}\r\n              </button>\r\n            </form>\r\n          </div>\r\n\r\n          {Boolean(dataSources.length) && <AdminTable\r\n            columns={columns}\r\n            quickActions={[\r\n              {\r\n                callBack: data => this.editHandler(data),\r\n                title: 'Edit'\r\n              },\r\n              {\r\n                tag: 'button',\r\n                route: `/admin/ajax/page_data_sources/:id`,\r\n                method: 'delete',\r\n                confirm: 'Are You Sure?',\r\n                after: () => this.getDataSources(),\r\n                className: 'quick-action-menu__item_danger',\r\n                title: 'Trash'\r\n              }\r\n            ]}\r\n            rows={dataSources}\r\n          />}\r\n\r\n        {this.props.match.params.id &&\r\n          <button onClick={() => this.setState({ isModalOpened: true })} className=\"btn btn_add\">\r\n            Add Data Source\r\n          </button>}\r\n\r\n          {isModalOpened && (\r\n            <AdminModal2\r\n              closeHandler={() =>\r\n                this.setState({ isModalOpened: false, editingDataSource: null })\r\n              }\r\n            >\r\n              <PageDataSourceForm\r\n                updateHandler={this.getDataSources}\r\n                dataSource={editingDataSource}\r\n              />\r\n            </AdminModal2>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(AddPage);\r\n","import React, { Component } from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport { Link, Redirect, withRouter } from \"react-router-dom\";\r\nimport AltrpSelect from \"./altrp-select/AltrpSelect\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport AdminModal2 from \"./AdminModal2\";\r\nimport PageDataSourceForm from \"./pages/PageDataSourceForm\";\r\nimport { titleToPath } from \"../js/helpers\";\r\n\r\nconst columns = [\r\n  {\r\n    name: \"source.name\",\r\n    title: \"Datasource\",\r\n    url: true\r\n    // editUrl: true,\r\n    // tag: 'Link'\r\n  },\r\n  {\r\n    name: \"alias\",\r\n    title: \"Alias\"\r\n  },\r\n  {\r\n    name: \"priority\",\r\n    title: \"Priority\"\r\n  },\r\n  {\r\n    name: \"parameters\",\r\n    title: \"Parameters\"\r\n  }\r\n];\r\n\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass AddReport extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      page: {},\r\n      value: {},\r\n      redirectAfterSave: false,\r\n      templates: [],\r\n      models: [],\r\n      isModalOpened: false,\r\n      dataSources: [],\r\n      editingDataSource: null,\r\n      pagesOptions: []\r\n    };\r\n    this.resource = new Resource({ route: \"/admin/ajax/reports\" });\r\n    this.pagesOptionsResource = new Resource({\r\n      route: \"/admin/ajax/reports_options\"\r\n    });\r\n    this.model_resource = new Resource({ route: \"/admin/ajax/models_options\" });\r\n    this.templateResource = new Resource({ route: \"/admin/ajax/templates\" });\r\n    this.dataSourceResource = new Resource({\r\n      route: \"/admin/ajax/page_data_sources/pages\"\r\n    });\r\n\r\n    this.savePage = this.savePage.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Компонент загрузился\r\n   * получыаем данный страницы + опции для шаблона\r\n   * @return {Promise<void>}\r\n   */\r\n  async componentDidMount() {\r\n    this.pagesOptionsResource\r\n      .getAll()\r\n      .then(pagesOptions => this.setState({ pagesOptions }));\r\n\r\n    let res = await this.templateResource.getOptions();\r\n    this.setState(state => {\r\n      return { ...state, templates: res };\r\n    });\r\n\r\n    let models_res = await this.model_resource.getAll();\r\n    this.setState(state => {\r\n      return { ...state, models: models_res };\r\n    });\r\n    let id = this.props.match.params.id;\r\n    id = parseInt(id);\r\n    if (id) {\r\n      this.getDataSources();\r\n      let pageData = await this.resource.get(id);\r\n      this.setState(state => {\r\n        return { ...state, value: pageData, id };\r\n      });\r\n    }\r\n  }\r\n\r\n  getDataSources = async () => {\r\n    let id = this.props.match.params.id;\r\n    const dataSources = await this.dataSourceResource.get(id);\r\n    this.setState({ dataSources });\r\n    this.setState({ isModalOpened: false, editingDataSource: null });\r\n  };\r\n\r\n  editHandler = editingDataSource => {\r\n    this.setState({ editingDataSource, isModalOpened: true });\r\n  };\r\n\r\n  /**\r\n   * Сохранить страницу или добавить новую\r\n   * @param e\r\n   * @return {Promise<void>}\r\n   */\r\n  async savePage(e) {\r\n    e.preventDefault();\r\n    let res;\r\n    const { parent_page_id } = this.state.value;\r\n    let path = this.state.value.path;\r\n    path = path.split(\"\\\\\").join(\"/\");\r\n    path = path[0] !== \"/\" ? `/${path}` : path;\r\n\r\n    let redirect = this.state.value.redirect;\r\n    redirect = (redirect || \"\").split(\"\\\\\").join(\"/\");\r\n    if (redirect) {\r\n      redirect = redirect[0] !== \"/\" ? `/${redirect}` : redirect;\r\n    }\r\n    this.state.value.redirect = redirect;\r\n    this.state.value.path = `/reports${path}`;\r\n    this.state.value.type = \"report\";\r\n    if (this.state.id) {\r\n      res = await this.resource.put(this.state.id, {\r\n        ...this.state.value,\r\n        parent_page_id: parent_page_id === \"root\" ? null : parent_page_id\r\n      });\r\n    } else {\r\n      res = await this.resource.post({\r\n        ...this.state.value,\r\n        parent_page_id: parent_page_id === \"root\" ? null : parent_page_id\r\n      });\r\n    }\r\n    if (res.success) {\r\n      this.setState(state => {\r\n        return { ...state, redirectAfterSave: true };\r\n      });\r\n    } else {\r\n      this.setState(state => {\r\n        return { ...state, value: {} };\r\n      });\r\n    }\r\n  }\r\n\r\n  changeValue(value, field) {\r\n    if (field === \"path\") {\r\n      value = value.split(\"\\\\\").join(\"/\");\r\n      value = value[0] !== \"/\" ? `/${value}` : value;\r\n    }\r\n    if (field === \"redirect\") {\r\n      value = value.split(\"\\\\\").join(\"/\");\r\n      if (value) {\r\n        value = value[0] !== \"/\" ? `/${value}` : value;\r\n      }\r\n    }\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value[field] = value;\r\n      return newState;\r\n    });\r\n  }\r\n\r\n  parentChangeHandler = parentId => {\r\n    if (parentId === \"root\") {\r\n      this.setState({\r\n        value: { ...this.state.value, parent_page_id: parentId, path: \"/\" }\r\n      });\r\n    } else {\r\n      this.resource.get(parentId).then(({ path }) =>\r\n        this.setState({\r\n          value: {\r\n            ...this.state.value,\r\n            parent_page_id: parentId,\r\n            path:\r\n              path +\r\n              (path.endsWith(\"/\") ? \"\" : \"/\") +\r\n              titleToPath(this.state.value.title)\r\n          }\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { isModalOpened, editingDataSource } = this.state;\r\n    if (this.state.redirectAfterSave) {\r\n      return <Redirect to=\"/admin/pages\" />;\r\n    }\r\n    let { dataSources } = this.state;\r\n\r\n    dataSources = _.sortBy(dataSources, dataSource => dataSource.priority);\r\n    return (\r\n      <div className=\"admin-pages admin-page\">\r\n        <div className=\"admin-heading\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <Link className=\"admin-breadcrumbs__link\" to=\"/admin/reports\">\r\n              Reports\r\n            </Link>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">\r\n              {this.state.value.title || \"Add New Page\"}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n          <form\r\n            className=\"admin-form\"\r\n            onSubmit={this.savePage}\r\n            className=\"mb-2\"\r\n          >\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"page-title\">Title</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"page-title\"\r\n                required={1}\r\n                value={this.state.value.title || \"\"}\r\n                onChange={e => {\r\n                  this.changeValue(e.target.value, \"title\");\r\n                }}\r\n                className=\"form-control\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"page-path\">Path</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"page-path\"\r\n                required={1}\r\n                value={this.state.value.path || \"\"}\r\n                onChange={e => {\r\n                  this.changeValue(e.target.value, \"path\");\r\n                }}\r\n                className=\"form-control\"\r\n              />\r\n            </div>\r\n\r\n            {/*<div className=\"form-group\">*/}\r\n            {/*<label htmlFor=\"page-template\">Content Template</label>*/}\r\n            {/*<select id=\"page-template\"*/}\r\n            {/*value={this.state.value.template_id || ''}*/}\r\n            {/*onChange={e => {this.changeValue(e.target.value, 'template_id')}}*/}\r\n            {/*className=\"form-control\">*/}\r\n            {/*<option value=\"\"/>*/}\r\n            {/*{*/}\r\n            {/*this.state.templates.map(template=>{*/}\r\n            {/*return <option value={template.value} key={template.value}>{template.label}</option>*/}\r\n            {/*})*/}\r\n            {/*}*/}\r\n            {/*</select>*/}\r\n            {/*</div>*/}\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"page-model\">Model</label>\r\n              <select\r\n                id=\"page-model\"\r\n                value={this.state.value.model_id || \"\"}\r\n                onChange={e => {\r\n                  this.changeValue(e.target.value, \"model_id\");\r\n                }}\r\n                className=\"form-control\"\r\n              >\r\n                <option value=\"\" />\r\n                {this.state.models.map(model => {\r\n                  return (\r\n                    <option value={model.value} key={model.value}>\r\n                      {model.label}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"page-roles\">Roles</label>\r\n              <AltrpSelect\r\n                id=\"page-roles\"\r\n                isMulti={true}\r\n                optionsRoute=\"/admin/ajax/role_options\"\r\n                placeholder=\"All\"\r\n                defaultOptions={[\r\n                  {\r\n                    value: \"guest\",\r\n                    label: \"Guest\"\r\n                  }\r\n                ]}\r\n                value={this.state.value.roles}\r\n                onChange={value => {\r\n                  this.changeValue(value, \"roles\");\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"redirect\">Redirect</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"redirect\"\r\n                value={this.state.value.redirect || \"\"}\r\n                onChange={e => {\r\n                  this.changeValue(e.target.value, \"redirect\");\r\n                }}\r\n                className=\"form-control\"\r\n              />\r\n            </div>\r\n            <button className=\"btn btn_success\">\r\n              {this.state.id ? \"Save\" : \"Add\"}\r\n            </button>\r\n          </form>\r\n\r\n          {Boolean(dataSources.length) && (\r\n            <AdminTable\r\n              columns={columns}\r\n              quickActions={[\r\n                {\r\n                  callBack: data => this.editHandler(data),\r\n                  title: \"Edit\"\r\n                },\r\n                {\r\n                  tag: \"button\",\r\n                  route: `/admin/ajax/page_data_sources/:id`,\r\n                  method: \"delete\",\r\n                  confirm: \"Are You Sure?\",\r\n                  after: () => this.getDataSources(),\r\n                  className: \"quick-action-menu__item_danger\",\r\n                  title: \"Trash\"\r\n                }\r\n              ]}\r\n              rows={dataSources.map(dataSource => ({\r\n                ...dataSource /* editUrl: `/admin/tables/models/${model.id}/fields/edit/${field.id}` */\r\n              }))}\r\n            />\r\n          )}\r\n\r\n          {this.props.match.params.id && (\r\n            <button\r\n              onClick={() => this.setState({ isModalOpened: true })}\r\n              className=\"btn btn_add\"\r\n            >\r\n              Add Data Source\r\n            </button>\r\n          )}\r\n\r\n          {isModalOpened && (\r\n            <AdminModal2\r\n              closeHandler={() =>\r\n                this.setState({ isModalOpened: false, editingDataSource: null })\r\n              }\r\n            >\r\n              <PageDataSourceForm\r\n                updateHandler={this.getDataSources}\r\n                dataSource={editingDataSource}\r\n              />\r\n            </AdminModal2>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(AddReport);\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"20\" height=\"22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M10 22a2.75 2.75 0 002.749-2.75H7.25A2.75 2.75 0 0010 22zm9.255-6.433c-.83-.892-2.383-2.234-2.383-6.63 0-3.338-2.341-6.01-5.498-6.667v-.895a1.375 1.375 0 10-2.748 0v.895C5.469 2.926 3.128 5.6 3.128 8.938c0 4.395-1.553 5.737-2.383 6.63a1.343 1.343 0 00-.37.932 1.376 1.376 0 001.38 1.375h16.49c.822 0 1.376-.67 1.38-1.375a1.342 1.342 0 00-.37-.933z\" fill=\"#8E94AA\" /></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"18\" height=\"18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M11.625 13.5h-.75a.375.375 0 00-.375.375V16.5h-9v-15h9v2.625c0 .207.168.375.375.375h.75A.375.375 0 0012 4.125V1.5A1.5 1.5 0 0010.5 0h-9A1.5 1.5 0 000 1.5v15A1.5 1.5 0 001.5 18h9a1.5 1.5 0 001.5-1.5v-2.625a.375.375 0 00-.375-.375z\" fill=\"#8E94AA\" /><path d=\"M17.878 8.724l-4.5-4.125a.374.374 0 00-.628.276v.75c0 .106.045.208.124.279l2.607 2.346H4.875a.375.375 0 00-.375.375v.75c0 .208.168.375.375.375h10.606l-2.607 2.347a.375.375 0 00-.124.278v.75a.375.375 0 00.628.277l4.5-4.125a.374.374 0 000-.553z\" fill=\"#8E94AA\" /></svg>);","import React, {Component} from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport BellIcon from './../svgs/bell.svg';\r\nimport UserIcon from './../svgs/user.svg';\r\nimport LogoutIcon from './../svgs/logout.svg';\r\nimport {logout} from \"../js/helpers\";\r\n\r\n\r\nclass UserTopPanel extends Component {\r\n  render(){\r\n    return<div className=\"admin-user-top-panel top-panel d-flex align-items-center\">\r\n      <a href=\"#\" className=\"top-panel-notification notification\">\r\n        <BellIcon className=\"notification__icon\"/>\r\n      </a>\r\n      <UserIcon className=\"top-panel__portrait\"/>\r\n      <div className=\"top-panel__greeting\">Hello, {this.props.userName || \"administrator\"}</div>\r\n      <button className=\"top-panel-logout logout\" onClick={logout}>\r\n        <LogoutIcon className=\"logout__icon\"/>\r\n      </button>\r\n    </div>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    userName: state.currentUser.name\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(UserTopPanel);","import React, { Component } from \"react\";\r\nimport { Tab, TabList, TabPanel, Tabs } from \"react-tabs\";\r\nimport 'react-tabs/style/react-tabs.scss';\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport AdminTable from \"./AdminTable\";\r\nimport Pagination from \"./Pagination\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\n\r\nconst columnsModel = [\r\n  {\r\n    name: 'title',\r\n    title: 'Title',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'description',\r\n    title: 'Description'\r\n  },\r\n  {\r\n    name: 'updated_at',\r\n    title: 'Updated At'\r\n  }\r\n];\r\nconst columnsDataSource = [\r\n  {\r\n    name: 'name',\r\n    title: 'Name',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'model.title',\r\n    title: 'Model'\r\n  },\r\n  {\r\n    name: 'route',\r\n    title: 'Route'\r\n  },\r\n  {\r\n    name: 'type',\r\n    title: 'Type'\r\n  }\r\n];\r\n\r\nexport default class Models extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      activeTab: 0,\r\n      modelsCurrentPage: 1,\r\n      dataSourcesCurrentPage: 1,\r\n      models: [],\r\n      modelsSearch: '',\r\n      modelsPageCount: 1,\r\n      modelsCount: 0,\r\n      modelsSorting: {},\r\n      dataSources: [],\r\n      dataSourcesSearch: '',\r\n      dataSourcesPageCount: 1,\r\n      dataSourcesCount: 0,\r\n      dataSourcesSorting: {}\r\n    };\r\n    this.switchTab = this.switchTab.bind(this);\r\n    this.changePage = this.changePage.bind(this);\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/models' });\r\n    this.dataSourcesResource = new Resource({ route: '/admin/ajax/data_sources' });\r\n    this.itemsPerPage = 10;\r\n  }\r\n\r\n  switchTab(activeTab) {\r\n    this.setState(state => ({ ...state, activeTab }))\r\n  }\r\n\r\n  changePage(currentPage, pagination) {\r\n    this.setState(state => ({ ...state, [pagination]: { ...state[pagination], currentPage } }));\r\n  }\r\n\r\n  /**\r\n   * Обновить список источников данных\r\n   */\r\n  getDataSources = async () => {\r\n    let res = await this.dataSourcesResource.getQueried({\r\n      page: this.state.dataSourcesCurrentPage,\r\n      pageSize: this.itemsPerPage,\r\n      preset: false,\r\n      s: this.state.dataSourcesSearch,\r\n      ...this.state.dataSourcesSorting\r\n    });\r\n    this.setState(state => {\r\n      return {\r\n        ...state,\r\n        dataSources: res.data_sources,\r\n        dataSourcesPageCount: res.pageCount || 1\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Обновить список моделей\r\n   */\r\n  getModels = async () => {\r\n    let res = await this.modelsResource.getQueried({\r\n      page: this.state.modelsCurrentPage,\r\n      pageSize: this.itemsPerPage,\r\n      preset: false,\r\n      s: this.state.modelsSearch,\r\n      ...this.state.modelsSorting\r\n    });\r\n    this.setState(state => {\r\n      return {\r\n        ...state,\r\n        models: res.models,\r\n        modelsPageCount: res.pageCount\r\n      }\r\n    });\r\n  };\r\n\r\n  // slicePage = (array, page, itemsPerPage) => {\r\n  //   return array.slice(page * itemsPerPage - itemsPerPage, page * itemsPerPage);\r\n  // }\r\n\r\n  async componentDidMount() {\r\n    // get: /admin/ajax/models .then(models => {\r\n    //   this.setState({models});\r\n    // });\r\n    // let models = await this.modelsResource.getAll();\r\n    // this.setState(state => ({\r\n    //   ...state,\r\n    //   modelsCount: models.models.length\r\n    // }));\r\n\r\n    // let data_sources = await this.dataSourcesResource.getAll();\r\n    // this.setState(state => ({\r\n    //   ...state,\r\n    //   dataSourcesCount: data_sources.data_sources.length\r\n    // }));\r\n\r\n    this.getModels();\r\n    this.getDataSources();\r\n  }\r\n\r\n  modelsSortingHandler = (order_by, order) => {\r\n    this.setState({ modelsSorting: { order_by, order } }, this.getModels);\r\n  }\r\n\r\n  dataSourcesSortingHandler = (order_by, order) => {\r\n    this.setState({ dataSourcesSorting: { order_by, order } }, this.getDataSources);\r\n  }\r\n\r\n  searchModel = e => {\r\n    e.preventDefault();\r\n    this.getModels();\r\n  }\r\n\r\n  searchDataSources = e => {\r\n    e.preventDefault();\r\n    this.getDataSources();\r\n  }\r\n\r\n  render() {\r\n    const { activeTab, models, dataSources, modelsCurrentPage, dataSourcesCurrentPage, modelsSearch, dataSourcesSearch,\r\n      modelsPageCount, dataSourcesPageCount, modelsCount, dataSourcesCount, modelsSorting, dataSourcesSorting } = this.state;\r\n\r\n    return <div className=\"admin-settings admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">Tables</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">{activeTab === 0 ? 'All Models' : 'All Data Sources'}</span>\r\n        </div>\r\n        <Link className=\"btn\" to={`/admin/tables/${activeTab === 0 ? 'models' : 'data-sources'}/add`}>Add New</Link>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <Tabs selectedIndex={activeTab} onSelect={this.switchTab}>\r\n          <TabList className=\"nav nav-pills admin-pills\">\r\n            <Tab>\r\n              Models\r\n            </Tab>\r\n            <Tab>\r\n              Data Sources\r\n            </Tab>\r\n          </TabList>\r\n          <TabPanel>\r\n            <form className=\"admin-panel py-2\" onSubmit={this.searchModel}>\r\n              <input className=\"input-sm mr-2\" value={modelsSearch} onChange={e => this.setState({ modelsSearch: e.target.value })} />\r\n              <button className=\"btn btn_bare admin-users-button\">Search</button>\r\n            </form>\r\n            <AdminTable\r\n              columns={columnsModel}\r\n              quickActions={[\r\n                {\r\n                  tag: 'Link',\r\n                  props: { href: '/admin/tables/models/edit/:id' },\r\n                  title: 'Edit'\r\n                },\r\n                {\r\n                  tag: 'button',\r\n                  route: '/admin/ajax/models/:id',\r\n                  method: 'delete',\r\n                  confirm: 'Are You Sure?',\r\n                  after: () => { this.getModels() },\r\n                  className: 'quick-action-menu__item_danger',\r\n                  title: 'Trash'\r\n                }\r\n              ]}\r\n              rows={models.map(model => ({\r\n                ...model,\r\n                editUrl: '/admin/tables/models/edit/' + model.id\r\n              }))}\r\n              sortingHandler={this.modelsSortingHandler}\r\n              sortingField={modelsSorting.order_by}\r\n            />\r\n            <Pagination pageCount={modelsPageCount || 1}\r\n              currentPage={modelsCurrentPage || 1}\r\n              changePage={modelsCurrentPage => {\r\n                if (this.state.modelsCurrentPage !== modelsCurrentPage) {\r\n                  this.setState({ modelsCurrentPage }, this.getModels)\r\n                }\r\n              }\r\n              }\r\n              itemsCount={modelsCount}\r\n            />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <form className=\"admin-panel py-2\" onSubmit={this.searchDataSources}>\r\n              <input className=\"input-sm mr-2\" value={dataSourcesSearch} onChange={e => this.setState({ dataSourcesSearch: e.target.value })} />\r\n              <button className=\"btn btn_bare admin-users-button\">Search</button>\r\n            </form>\r\n            <AdminTable\r\n              columns={columnsDataSource}\r\n              quickActions={[\r\n                {\r\n                  tag: 'Link',\r\n                  props: { href: '/admin/tables/data-sources/edit/:id' },\r\n                  title: 'Edit'\r\n                },\r\n                {\r\n                  tag: 'button',\r\n                  route: '/admin/ajax/data_sources/:id',\r\n                  method: 'delete',\r\n                  confirm: 'Are You Sure?',\r\n                  after: () => { this.getDataSources() },\r\n                  className: 'quick-action-menu__item_danger',\r\n                  title: 'Trash'\r\n                }\r\n              ]}\r\n              rows={dataSources.map(dataSource => ({\r\n                ...dataSource,\r\n                editUrl: '/admin/tables/data-sources/edit/' + dataSource.id\r\n              }))}\r\n              sortingHandler={this.dataSourcesSortingHandler}\r\n              sortingField={dataSourcesSorting.order_by}\r\n            />\r\n            <Pagination pageCount={dataSourcesPageCount}\r\n              currentPage={dataSourcesCurrentPage}\r\n              changePage={dataSourcesCurrentPage => this.setState({ dataSourcesCurrentPage }, this.getDataSources)}\r\n              itemsCount={dataSourcesCount}\r\n            />\r\n          </TabPanel>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport { titleToName }from \"../../js/helpers\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\n\r\nclass EditModelForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: {...this.props.model}\r\n    };\r\n    this.submitHandler = this.submitHandler.bind(this);\r\n    this.deleteHandler = this.deleteHandler.bind(this);\r\n    this.titleChangeHandler = this.titleChangeHandler.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Сменить значение поля модели\r\n   * @param value\r\n   * @param field\r\n   */\r\n  changeValue(value, field) {\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      state.value[field] = value;\r\n      return state\r\n    });\r\n  }\r\n\r\n  titleChangeHandler(e) {\r\n    e.persist();\r\n    this.setState(state => ({\r\n      ...state, value: {\r\n        ...state.value,\r\n        title: e.target.value,\r\n        name: titleToName(e.target.value)\r\n      }\r\n    }))\r\n  }\r\n\r\n  /**\r\n   * Обновляем state при получении новых props (model)\r\n   */\r\n  componentDidUpdate(prevProps){\r\n    if(this.props !== prevProps){\r\n      this.setState(state => {\r\n        state = { ...state };\r\n        state.value = {...this.props.model};\r\n        return state\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Обработка формы\r\n   * @param e\r\n   */\r\n  submitHandler(e) {\r\n    e.preventDefault();\r\n    if(_.isFunction(this.props.onSubmit)){\r\n      delete this.state.value.created_at;\r\n      delete this.state.value.updated_at;\r\n      this.props.onSubmit(this.state.value);\r\n    } else {\r\n      console.log(this.state.value);\r\n    }\r\n  }\r\n\r\n  async deleteHandler() {\r\n    // delete: /admin/ajax/models/{model_id}\r\n    let res = await (new Resource({route: '/admin/ajax/models'}).delete(this.props.model.id));\r\n    this.setState(state=>({...state, redirect: '/admin/tables/models/'}))\r\n  }\r\n\r\n  render() {\r\n    const model = this.state.value;\r\n    if(this.state.redirect){\r\n      return <Redirect to={this.state.redirect} push={true}/>\r\n    }\r\n    return <form className=\"admin-form row\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group col-12\">\r\n        <label htmlFor=\"page-title\">Model Title</label>\r\n        <input type=\"text\" id=\"page-title\" required\r\n          value={model.title || ''}\r\n          onChange={this.titleChangeHandler}\r\n          className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group col-4\">\r\n        <label htmlFor=\"page-name\">Model Name</label>\r\n        <input type=\"text\" id=\"page-name\" required\r\n          value={model.name || ''}\r\n          onChange={e => { this.changeValue(e.target.value, 'name') }}\r\n          className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group col-4\">\r\n        <label htmlFor=\"page-description\">Parent Model</label>\r\n        <input type=\"text\" id=\"page-description\"\r\n               value={model.parent_model_id || ''}\r\n               onChange={e => { this.changeValue(e.target.value, 'parent_model_id') }}\r\n               className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group col-4\">\r\n        <label htmlFor=\"page-description\">Model Description</label>\r\n        <input type=\"text\" id=\"page-description\"\r\n          value={model.description || ''}\r\n          onChange={e => { this.changeValue(e.target.value, 'description') }}\r\n          className=\"form-control\" />\r\n      </div>\r\n      {(model.id) ? '' : <div className=\"form-group col-12 \">\r\n        <label htmlFor=\"model-table_id\" className=\"label_checkbox\">Table</label>\r\n        <AltrpSelect\r\n            id=\"model-table_id\"\r\n            defaultOptions={[\r\n              {\r\n                value: '',\r\n                label: ' ',\r\n              }\r\n            ]}\r\n            value={this.state.value.table_id || ''}\r\n            isDisabled={model.id}\r\n            onChange={value => {this.changeValue(value, 'table_id')}}\r\n            optionsRoute=\"/admin/ajax/tables/options\"/>\r\n      </div>}\r\n      <div className=\"row col-12\">\r\n        <div className=\"form-group col-6 form-check-inline\">\r\n          <input type=\"checkbox\" id=\"page-soft_deletes\"\r\n            checked={model.soft_deletes}\r\n            onChange={e => { this.changeValue(e.target.checked, 'soft_deletes') }}\r\n            className=\"form-check-input form-check-input\" />\r\n          <label htmlFor=\"page-soft_deletes\" className=\"label_checkbox\">Soft Deletes</label>\r\n        </div>\r\n        <div className=\"form-group col-6 form-check-inline\">\r\n          <input type=\"checkbox\" id=\"page-time_stamps\"\r\n            checked={model.time_stamps}\r\n            onChange={e => { this.changeValue(e.target.checked, 'time_stamps') }}\r\n            className=\"form-check-input form-check-input_inline\" />\r\n          <label htmlFor=\"page-time_stamps\" className=\"label_checkbox\">Time Stamps</label>\r\n        </div>\r\n\r\n      </div>\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">{this.props.submitText}</button>\r\n        <Link to=\"/admin/tables/models\"><button className=\"btn\">Cancel</button></Link>\r\n        {this.props.edit\r\n            ? <button className=\"btn btn_failure\" type=\"button\" onClick={this.deleteHandler}>Delete</button>\r\n            : ''}\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default EditModelForm;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport Resource from \"../../../../../editor/src/js/classes/Resource\";\r\n\r\nclass ValidatedFieldForm extends Component {\r\n  state = {\r\n    name: '',\r\n    column_id: '',\r\n    column_name: '',\r\n    is_created: false,\r\n    is_updated: false,\r\n    source_id: '',\r\n    ...this.props.field\r\n  };\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    const model_id = this.props.match.params.id\r\n    this.props.field ?\r\n      this.props.validationsResource.put(this.props.field.id, { ...this.state, model_id }) :\r\n      this.props.validationsResource.post({ ...this.state, model_id });\r\n    this.props.updateValidations();\r\n  };\r\n\r\n  render() {\r\n    const { name, column_id, column_name, is_created, is_updated, source_id } = this.state;\r\n    const { fieldsOptions, data_source_options } = this.props;\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" required\r\n          name=\"name\"\r\n          value={name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"column_id\">Column</label>\r\n        <select id=\"column_id\" required\r\n          name=\"column_id\"\r\n          value={column_id}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"\" />\r\n          {fieldsOptions.map(({ id, name }) => <option value={id} key={id}>{name}</option>)}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"source_id\">Data Source</label>\r\n        <select id=\"source_id\" required\r\n          name=\"source_id\"\r\n          value={source_id}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"\" />\r\n          {data_source_options.map(({ value, label }) => <option value={value} key={value}>{label}</option>)}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"column_name\">Column Name</label>\r\n        <input type=\"text\" id=\"column_name\"\r\n          name=\"column_name\"\r\n          value={column_name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <input type=\"checkbox\" id=\"is_created\"\r\n          checked={is_created}\r\n          onChange={e => this.setState({ is_created: e.target.checked })}\r\n        />\r\n        <label className=\"checkbox-label\" htmlFor=\"is_created\">is Created</label>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <input type=\"checkbox\" id=\"is_updated\"\r\n          checked={is_updated}\r\n          onChange={e => this.setState({ is_updated: e.target.checked })}\r\n        />\r\n        <label className=\"checkbox-label\" htmlFor=\"is_updated\">is Updated</label>\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Submit</button>\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(ValidatedFieldForm);","import React, { Component } from \"react\";\r\nimport Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass RuleForm extends Component {\r\n  state = {\r\n    rule: this.props.editingRule ? this.props.editingRule.rule : ''\r\n  };\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const { validation_field_id } = this.props\r\n    const resource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.id}/validations/${validation_field_id}/validation_rules` });\r\n    this.props.editingRule ?\r\n      await resource.put(this.props.editingRule.id, { ...this.state, validation_field_id }) :\r\n      await resource.post({ ...this.state, validation_field_id });\r\n    this.props.submitHandler();\r\n  };\r\n\r\n  render() {\r\n    const { rule } = this.state;\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"rule\">Rule</label>\r\n        <input type=\"text\" id=\"rule\" required\r\n          name=\"rule\"\r\n          value={rule}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Submit</button>\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(RuleForm);","import React, { Component } from \"react\";\r\nimport Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nimport RuleForm from \"./RuleForm\";\r\nimport AdminModal2 from \"../../AdminModal2\";\r\nimport ValidatedFieldForm from \"./ValidatedFieldForm\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass ValidationTableRow extends Component {\r\n  state = {\r\n    isRowExpanded: false,\r\n    isRuleModalOpened: false,\r\n    editingRule: null,\r\n    isFieldModalOpened: false\r\n  }\r\n\r\n  submitRuleHandler = () => {\r\n    this.props.updateValidations();\r\n    this.setState({ isRuleModalOpened: false });\r\n  }\r\n\r\n  deleteRuleHandler = id => {\r\n    const resource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.id}/validations/${this.props.field.id}/validation_rules` });\r\n    resource.delete(id)\r\n      .then(() => this.props.updateValidations());\r\n  }\r\n\r\n  deleteFieldHandler = e => {\r\n    e.stopPropagation();\r\n    const { field, validationsResource } = this.props;\r\n    if (confirm(\"Are you sure?\")) {\r\n      validationsResource.delete(field.id);\r\n      this.props.updateValidations();\r\n    }\r\n  }\r\n\r\n  editFieldHandler = e => {\r\n    e.stopPropagation();\r\n    this.setState({ isFieldModalOpened: true });\r\n  }\r\n\r\n  render() {\r\n    const { field, fieldsOptions, validationsResource, data_source_options, updateValidations } = this.props;\r\n    const { isRowExpanded, isRuleModalOpened, isFieldModalOpened, editingRule } = this.state;\r\n\r\n    return <>\r\n      <tr className=\"admin-table-row\" onClick={() => this.setState({ isRowExpanded: !isRowExpanded })}>\r\n        <td className=\"admin-table__td\">{isRowExpanded ? \"➖\" : \"➕\"}</td>\r\n        <td className=\"admin-table__td\">\r\n          {field.name}\r\n          <span className=\"quick-action-menu\">\r\n            <span className=\"quick-action-menu__item_wrapper\">\r\n              <button onClick={this.editFieldHandler} className=\"quick-action-menu__item\">Edit</button>\r\n            </span>\r\n            <span className=\"quick-action-menu__item_wrapper\">\r\n              <button onClick={this.deleteFieldHandler} className=\"quick-action-menu__item quick-action-menu__item_danger\"> Delete</button>\r\n            </span>\r\n          </span>\r\n        </td>\r\n        <td className=\"admin-table__td\">{field.column_name || field.column.name}</td>\r\n      </tr>\r\n      {isRowExpanded && <tr className=\"admin-table-row\">\r\n        <td className=\"admin-table__td\" colSpan={3}>\r\n          <ol>\r\n            {field.rules.map(rule => <li key={rule.id}>\r\n              {rule.rule}\r\n              <span className=\"quick-action-menu quick-action-menu--li\">\r\n                <span className=\"quick-action-menu__item_wrapper\">\r\n                  <button onClick={() => this.setState({ isRuleModalOpened: true, editingRule: rule })} className=\"quick-action-menu__item\">\r\n                    Edit\r\n                  </button>\r\n                </span>\r\n                <span className=\"quick-action-menu__item_wrapper\">\r\n                  <button onClick={() => this.deleteRuleHandler(rule.id)} className=\"quick-action-menu__item quick-action-menu__item_danger\"> Delete</button>\r\n                </span>\r\n              </span>\r\n            </li>)}\r\n          </ol>\r\n          <button onClick={() => this.setState({ isRuleModalOpened: true, editingRule: null })} className=\"btn btn_add\">\r\n            Add Rule\r\n          </button>\r\n        </td>\r\n      </tr>}\r\n      {isRuleModalOpened && <AdminModal2 closeHandler={() => this.setState({ isRuleModalOpened: false })}>\r\n        <RuleForm \r\n          validation_field_id={field.id} \r\n          submitHandler={this.submitRuleHandler} \r\n          editingRule={editingRule}\r\n        />\r\n      </AdminModal2>}\r\n      {isFieldModalOpened && <AdminModal2 closeHandler={() => this.setState({ isFieldModalOpened: false })}>\r\n        <ValidatedFieldForm\r\n          fieldsOptions={fieldsOptions}\r\n          validationsResource={validationsResource}\r\n          data_source_options={data_source_options}\r\n          updateValidations={() => {\r\n            updateValidations();\r\n            this.setState({ isFieldModalOpened: false })\r\n          }}\r\n          field={field}\r\n        />\r\n      </AdminModal2>}\r\n    </>\r\n  }\r\n};\r\n\r\nexport default withRouter(ValidationTableRow);\r\n\r\n","import React, { Component } from \"react\";\r\nimport ValidationTableRow from \"./ValidationTableRow\";\r\n\r\nclass ValidationTable extends Component {\r\n\r\n  render() {\r\n    const { validations, updateValidations, fieldsOptions, validationsResource, data_source_options } = this.props;\r\n    return <table className=\"admin-table\">\r\n      <thead className=\"admin-table-head\">\r\n        <tr className=\"admin-table-row\">\r\n          <th className=\"admin-table__td\"></th>\r\n          <th className=\"admin-table__td\">Title</th>\r\n          <th className=\"admin-table__td\">Field Name</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody className=\"admin-table-body\">\r\n        {validations.map(field => <ValidationTableRow key={field.id}\r\n          field={field}\r\n          fieldsOptions={fieldsOptions}\r\n          validationsResource={validationsResource}\r\n          data_source_options={data_source_options}\r\n          updateValidations={updateValidations}\r\n        />)}\r\n      </tbody>\r\n    </table>\r\n  }\r\n};\r\n\r\nexport default ValidationTable;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nimport AltrpSelect from \"../../altrp-select/AltrpSelect\";\r\n\r\nclass ModelsRemoteFieldForm extends Component {\r\n  state = {\r\n    name: '',\r\n    column_id: '',\r\n    remote_find_column: '',\r\n    remote_need_column: '',\r\n    as_object: true,\r\n    single_source_id: '',\r\n    list_source_id: '',\r\n    enabled: true,\r\n    dataSourceOptions: [],\r\n    ...this.props.field\r\n  };\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const resource = new Resource({ route: '/admin/ajax/data_source_options' });\r\n    const { options } = await resource.getAll();\r\n    this.setState({ dataSourceOptions: options });\r\n  }\r\n\r\n  submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const model_id = this.props.match.params.id\r\n    this.props.field ?\r\n      await this.props.remoteFieldsResource.put(this.props.field.id, { ...this.state, model_id }) :\r\n      await this.props.remoteFieldsResource.post({ ...this.state, model_id });\r\n    this.props.updateRemoteFields();\r\n  };\r\n\r\n  render() {\r\n    const { name, column_id, remote_find_column, remote_need_column, as_object, single_source_id,\r\n      list_source_id, enabled, dataSourceOptions } = this.state;\r\n    const { fieldsOptions } = this.props;\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" required\r\n          name=\"name\"\r\n          value={name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"column_id\">Column</label>\r\n        <select id=\"column_id\"\r\n          name=\"column_id\"\r\n          value={column_id}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"\" />\r\n          {fieldsOptions.map(({ id, name }) => <option value={id} key={id}>{name}</option>)}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"remote_find_column\">Remote Find Column</label>\r\n        <input type=\"text\" id=\"remote_find_column\"\r\n          required\r\n          name=\"remote_find_column\"\r\n          value={remote_find_column}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"remote_need_column\">Remote Need Column</label>\r\n        <input type=\"text\" id=\"remote_need_column\"\r\n          required\r\n          name=\"remote_need_column\"\r\n          value={remote_need_column}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <input type=\"checkbox\" id=\"as_object\"\r\n          checked={as_object}\r\n          onChange={e => this.setState({ as_object: e.target.checked })}\r\n        />\r\n        <label className=\"checkbox-label\" htmlFor=\"as_object\">As Object</label>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"single_source_id\">Single Source</label>\r\n        <AltrpSelect options={dataSourceOptions}\r\n          onChange={({ value }) => {\r\n            this.setState(state => ({ ...state, single_source_id: value }));\r\n          }}\r\n          value={dataSourceOptions.find(({ value }) => value === single_source_id)} />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"list_source_id\">List Source</label>\r\n        <AltrpSelect options={dataSourceOptions}\r\n          onChange={({ value }) => {\r\n            this.setState(state => ({ ...state, list_source_id: value }));\r\n          }}\r\n          value={dataSourceOptions.find(({ value }) => value === list_source_id)} />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <input type=\"checkbox\" id=\"enabled\"\r\n          checked={enabled}\r\n          onChange={e => this.setState({ enabled: e.target.checked })}\r\n        />\r\n        <label className=\"checkbox-label\" htmlFor=\"enabled\">Enabled</label>\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Submit</button>\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(ModelsRemoteFieldForm);","import React, { Component } from \"react\";\r\nimport { Link, withRouter, Redirect } from \"react-router-dom\";\r\nimport EditModelForm from \"./EditModelForm\";\r\nimport AdminTable from \"../AdminTable\";\r\nimport AdminModal2 from \"../AdminModal2\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport ValidatedFieldForm from \"./ValidationSection/ValidatedFieldForm\";\r\nimport ValidationTable from \"./ValidationSection/ValidationTable\";\r\nimport ModelsRemoteFieldForm from \"./RemoteFieldForms/ModelsRemoteFieldForm\";\r\n\r\nconst columns = [\r\n  {\r\n    name: 'title',\r\n    title: 'Title',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'description',\r\n    title: 'Description'\r\n  }\r\n];\r\n\r\nconst remoteFieldsColumns = [\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'remote_find_column',\r\n    title: 'Remote Find Column'\r\n  },\r\n  {\r\n    name: 'remote_need_column',\r\n    title: 'Remote Need Column'\r\n  }\r\n];\r\n\r\nclass EditModel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { id } = this.props.match.params;\r\n    this.state = {\r\n      model: {\r\n        name: '',\r\n        title: '',\r\n        description: '',\r\n        bounded_model: '',\r\n        soft_deletes: false,\r\n        time_stamps: false\r\n      },\r\n      fields: [],\r\n      remoteFields: [],\r\n      relations: null,\r\n      accessors: [],\r\n      id,\r\n      queries: [],\r\n      validations: [],\r\n      data_source_options: [],\r\n      isModalOpened: false,\r\n      isFieldRemoteModalOpened: false,\r\n      editingRemoteField: null\r\n    };\r\n\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/models' });\r\n    if (id) {\r\n      this.fieldsResource = new Resource({ route: `/admin/ajax/models/${id}/fields` });\r\n      this.remoteFieldsResource = new Resource({ route: `/admin/ajax/remote_data/model/${id}` });\r\n      this.relationsResource = new Resource({ route: `/admin/ajax/models/${id}/relations` });\r\n      this.queriesResource = new Resource({ route: `/admin/ajax/models/${id}/queries` });\r\n      this.accessorsResource = new Resource({ route: `/admin/ajax/models/${id}/accessors` });\r\n      this.validationsResource = new Resource({ route: `/admin/ajax/models/${id}/validations` });\r\n      this.data_source_optionsResource = new Resource({ route: `/admin/ajax/models/${id}/data_source_options` });\r\n    }\r\n  }\r\n\r\n  updateFields = async () => {\r\n    let fields = await this.fieldsResource.getAll();\r\n    fields = fields.filter(({ name }) => name !== 'id');\r\n    this.setState(state => ({ ...state, fields }));\r\n  }\r\n\r\n  updateRelations = async () => {\r\n    let relations = await this.relationsResource.getAll();\r\n    this.setState(state => ({ ...state, relations }));\r\n  }\r\n\r\n  updateQueries = async () => {\r\n    let queries = await this.queriesResource.getAll();\r\n    this.setState(state => ({ ...state, queries }));\r\n  }\r\n\r\n  updateAccessors = async () => {\r\n    let accessors = await this.accessorsResource.getAll();\r\n    this.setState(state => ({ ...state, accessors }));\r\n  }\r\n\r\n  updateValidations = async () => {\r\n    let validations = await this.validationsResource.getAll();\r\n    this.setState(state => ({ ...state, validations, isModalOpened: false }));\r\n  }\r\n\r\n  updateRemoteFields = async () => {\r\n    let remoteFields = await this.remoteFieldsResource.getAll();\r\n    this.setState(state => ({ ...state, remoteFields, isFieldRemoteModalOpened: false, editingRemoteField: null }));\r\n  }\r\n\r\n  /**\r\n   * Загрузим данные модели\r\n   * @return {Promise<void>}\r\n   */\r\n  async componentDidMount() {\r\n    if (this.state.id) {\r\n      this.modelsResource.get(this.state.id)\r\n        .then(model => {\r\n          this.setState({ model });\r\n          this.modelName = model.name;\r\n        });\r\n\r\n      this.fieldsResource.getAll()\r\n        .then(fields => this.setState({ fields: fields.filter(({ name }) => name !== 'id') }));\r\n\r\n      this.remoteFieldsResource.getAll()\r\n        .then(remoteFields => this.setState({ remoteFields }));\r\n\r\n      this.relationsResource.getAll()\r\n        .then(relations => this.setState({ relations }));\r\n\r\n      this.queriesResource.getAll()\r\n        .then(queries => this.setState({ queries }));\r\n\r\n      this.accessorsResource.getAll()\r\n        .then(accessors => this.setState({ accessors }));\r\n\r\n      this.validationsResource.getAll()\r\n        .then(validations => this.setState({ validations }));\r\n\r\n      this.data_source_optionsResource.getAll()\r\n        .then(data_source_options => this.setState({ data_source_options }));\r\n    }\r\n  }\r\n  /**\r\n   * Обработка формы\r\n   * @return {*}\r\n   */\r\n  onSubmit = async (model) => {\r\n    let res;\r\n    const isNameTaken = !this.state.id || this.modelName !== model.name ?\r\n      await fetch(`/admin/ajax/model_name_is_free/?name=${model.name}`)\r\n        .then(res => res.json())\r\n        .then(res => !res.taken) :\r\n      null;\r\n    \r\n    if (isNameTaken) {\r\n      return alert(`Name ${model.name} is already taken. Use another one.`)\r\n    }\r\n\r\n    if (this.state.id) {\r\n      res = await this.modelsResource.put(this.state.id, model);\r\n    } else {\r\n\r\n      res = await this.modelsResource.post(model);\r\n    }\r\n    this.props.history.push(\"/admin/tables/models\");\r\n  };\r\n  render() {\r\n    const { model, fields, remoteFields, relations, queries, sql_editors, accessors, isModalOpened,\r\n      isFieldRemoteModalOpened, editingRemoteField, data_source_options, validations } = this.state;\r\n\r\n    const { id } = this.props.match.params;\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/models\">Tables / All Models</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">{this.state.id ? 'Edit Model' : 'Add Model'}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <EditModelForm model={model}\r\n          submitText={model.id ? 'Save' : 'Add'}\r\n          edit={model.id}\r\n          onSubmit={this.onSubmit} />\r\n\r\n        {fields ? <><h2 className=\"sub-header\">Fields</h2>\r\n          <AdminTable\r\n            columns={columns}\r\n            quickActions={[{\r\n              tag: 'Link', props: {\r\n                href: `/admin/tables/models/${id}/fields/edit/:id`,\r\n              },\r\n              title: 'Edit'\r\n            }, {\r\n              tag: 'button',\r\n              route: `/admin/ajax/models/${id}/fields/:id`,\r\n              method: 'delete',\r\n              confirm: 'Are You Sure?',\r\n              after: () => this.updateFields(),\r\n              className: 'quick-action-menu__item_danger',\r\n              title: 'Trash'\r\n            }]}\r\n            rows={fields.map(field => ({ ...field, editUrl: `/admin/tables/models/${model.id}/fields/edit/${field.id}` }))}\r\n          />\r\n          <Link className=\"btn btn_add\" to={`/admin/tables/models/${model.id}/fields/add`}>Add Field</Link>\r\n        </> : ''}\r\n\r\n\r\n        <h2 className=\"sub-header\">Remote Fields</h2>\r\n        <AdminTable\r\n          columns={remoteFieldsColumns}\r\n          quickActions={[{\r\n            callBack: field => this.setState({ isFieldRemoteModalOpened: true, editingRemoteField: field }),\r\n            title: 'Edit'\r\n          }, {\r\n            tag: 'button',\r\n            route: `/admin/ajax/remote_data/:id`,\r\n            method: 'delete',\r\n            confirm: 'Are You Sure?',\r\n            after: () => this.updateRemoteFields(),\r\n            className: 'quick-action-menu__item_danger',\r\n            title: 'Trash'\r\n          }]}\r\n          rows={remoteFields}\r\n        />\r\n        <button onClick={() => this.setState({ isFieldRemoteModalOpened: true, editingRemoteField: null })} className=\"btn btn_add\">\r\n          Add Remote Field\r\n        </button>\r\n        {isFieldRemoteModalOpened && <AdminModal2 closeHandler={() => this.setState({ isFieldRemoteModalOpened: false, editingRemoteField: null })}>\r\n          <ModelsRemoteFieldForm\r\n            fieldsOptions={fields}\r\n            remoteFieldsResource={this.remoteFieldsResource}\r\n            updateRemoteFields={this.updateRemoteFields}\r\n            field={editingRemoteField}\r\n          />\r\n        </AdminModal2>}\r\n\r\n        {relations ? <>\r\n          <h2 className=\"sub-header\">Relations</h2>\r\n          <AdminTable\r\n            columns={columns}\r\n            quickActions={[{\r\n              tag: 'Link', props: {\r\n                href: `/admin/tables/models/${id}/relations/edit/:id`,\r\n              },\r\n              title: 'Edit'\r\n            }, {\r\n              tag: 'button',\r\n              route: `/admin/ajax/models/${id}/relations/:id`,\r\n              method: 'delete',\r\n              confirm: 'Are You Sure?',\r\n              after: () => this.updateRelations(),\r\n              className: 'quick-action-menu__item_danger',\r\n              title: 'Trash'\r\n            }]}\r\n            rows={relations.map(relation => ({ ...relation, editUrl: `/admin/tables/models/${model.id}/relations/edit/${relation.id}` }))}\r\n          />\r\n          <Link className=\"btn btn_add\" to={`/admin/tables/models/${model.id}/relations/add`}>Add Relation</Link>\r\n        </> : ''}\r\n        {accessors ? <>\r\n          <h2 className=\"sub-header\">Accessors</h2>\r\n          <AdminTable\r\n            columns={columns}\r\n            quickActions={[{\r\n              tag: 'Link', props: {\r\n                href: `/admin/tables/models/${id}/accessors/edit/:id`,\r\n              },\r\n              title: 'Edit'\r\n            }, {\r\n              tag: 'button',\r\n              route: `/admin/ajax/models/${id}/accessors/:id`,\r\n              method: 'delete',\r\n              confirm: 'Are You Sure?',\r\n              after: () => this.updateAccessors(),\r\n              className: 'quick-action-menu__item_danger',\r\n              title: 'Trash'\r\n            }]}\r\n            rows={accessors.map(accessor => ({ ...accessor, editUrl: `/admin/tables/models/${model.id}/accessors/edit/${accessor.id}` }))}\r\n          />\r\n          <Link className=\"btn btn_add\" to={`/admin/tables/models/${model.id}/accessors/add`}>Add Accessor</Link>\r\n        </> : ''}\r\n        {queries ? <>\r\n          <h2 className=\"sub-header\">Queries</h2>\r\n          <AdminTable\r\n            columns={columns}\r\n            rows={queries.map(query => ({ ...query, editUrl: `/admin/tables/models/${model.id}/queries/edit/${query.id}` }))}\r\n            quickActions={[{\r\n              tag: 'Link', props: {\r\n                href: `/admin/tables/models/${model.id}/queries/edit/:id`,\r\n              },\r\n              title: 'Edit'\r\n            }, {\r\n              tag: 'button',\r\n              route: `/admin/ajax/models/${model.id}/queries/:id`,\r\n              method: 'delete',\r\n              confirm: 'Are You Sure?',\r\n              after: () => this.updateQueries(),\r\n              className: 'quick-action-menu__item_danger',\r\n              title: 'Trash'\r\n            }]}\r\n          />\r\n          <Link className=\"btn btn_add\" to={`/admin/tables/models/${model.id}/queries/add`}>Add Query</Link>\r\n        </> : ''}\r\n        {sql_editors ? <>\r\n          <h2 className=\"sub-header\">SQL Editors</h2>\r\n          <AdminTable\r\n            columns={columns}\r\n            rows={sql_editors.map(query => ({ ...query, editUrl: `/admin/tables/models/${model.id}/sql_editors/edit/${query.id}` }))}\r\n          />\r\n          <Link className=\"btn btn_add\" to={`/admin/tables/models/${model.id}/sql_editors/add`}>Add Editor</Link>\r\n        </> : ''}\r\n        <h2 className=\"sub-header\">Validation</h2>\r\n        {id && <>\r\n          <ValidationTable\r\n            validations={validations}\r\n            updateValidations={this.updateValidations}\r\n            fieldsOptions={fields}\r\n            validationsResource={this.validationsResource}\r\n            data_source_options={data_source_options}\r\n          />\r\n          <button onClick={() => this.setState({ isModalOpened: true })} className=\"btn btn_add\">\r\n            Add Field\r\n          </button>\r\n        </>}\r\n        {isModalOpened && <AdminModal2 closeHandler={() => this.setState({ isModalOpened: false })}>\r\n          <ValidatedFieldForm\r\n            fieldsOptions={fields}\r\n            validationsResource={this.validationsResource}\r\n            data_source_options={data_source_options}\r\n            updateValidations={this.updateValidations}\r\n          />\r\n        </AdminModal2>}\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(EditModel);\r\n","import React, { Component } from \"react\";\r\nimport AltrpCodeEditor from \"../altrp-editor/AltrpCodeEditor\";\r\n\r\nclass FieldCalculationLogic extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      rightType: \"string\",\r\n      is1stString: true,\r\n      is2ndString: true,\r\n      right: {\r\n        string: '',\r\n        fieldId: '',\r\n        string_1: '',\r\n        fieldId_1: '',\r\n        string_2: '',\r\n        fieldId_2: '',\r\n      }\r\n    };\r\n    this.rightTypeHandler = this.rightTypeHandler.bind(this);\r\n    this.rightChangeHandler = this.rightChangeHandler.bind(this);\r\n    this.setRight = this.setRight.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { right } = this.props.item;\r\n    if (right) {\r\n      typeof this.props.item.right === \"string\" ?\r\n        this.setState({ rightType: \"string\", right: { ...this.state.right, string: right } }) :\r\n        this.setState({ rightType: \"object\", right: { ...this.state.right, fieldId: right.id } })\r\n    }\r\n  }\r\n\r\n  rightTypeHandler(type) {\r\n    this.setState(_state => ({ rightType: type }), this.setRight)\r\n  }\r\n\r\n  rightChangeHandler({ target: { value, name } }) {\r\n    this.setState(state => {\r\n      state.right[name] = value;\r\n      return state;\r\n    }, this.setRight)\r\n  }\r\n\r\n  operatorChangeHandler(value) {\r\n    switch (value) {\r\n      case \"not-null\":\r\n      case \"null\":\r\n        this.rightTypeHandler(\"null\");\r\n        break;\r\n      case \"between\":\r\n        this.rightTypeHandler(\"array\");\r\n        break;\r\n      default:\r\n        this.rightTypeHandler(\"string\");\r\n        break;\r\n    }\r\n    this.props.changeHandler({ value, name: \"operator\" });\r\n  }\r\n\r\n  setRight() {\r\n    const { rightType, is1stString, is2ndString, right } = this.state;\r\n    let value;\r\n\r\n    switch (rightType) {\r\n      case \"string\":\r\n        value = right.string;\r\n        break;\r\n      case \"object\":\r\n        value = { id: right.fieldId }\r\n        break;\r\n      case \"null\":\r\n        value = null\r\n        break;\r\n      case \"array\":\r\n        value = [\r\n          is1stString ? right.string_1 : { id: right.fieldId_1 },\r\n          is2ndString ? right.string_2 : { id: right.fieldId_2 }\r\n        ]\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    this.props.changeHandler({ name: \"right\", value });\r\n  }\r\n\r\n  render() {\r\n    const { item, index, fieldsOptions, changeHandler, deleteItemHandler } = this.props;\r\n    const { rightType, right, is1stString, is2ndString } = this.state;\r\n    return <>\r\n      <div className=\"flex-container\">\r\n        <p>if</p>\r\n        <button className=\"btn btn_failure\" type=\"button\" onClick={deleteItemHandler}>\r\n          Delete\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor={\"left\" + index}>Field Name</label>\r\n        <select className=\"form-control\" id={\"left\" + index} name=\"left\" required\r\n          value={item.left}\r\n          onChange={({ target: { value, name } }) => changeHandler({ value, name })}\r\n        >\r\n          <option disabled value=\"\" />\r\n          {fieldsOptions.map(({ value, label }) =>\r\n            <option value={value} key={value}>{label}</option>)}\r\n        </select>\r\n      </div>\r\n\r\n      <p>Comparison Operators</p>\r\n\r\n      <div className=\"form-group\">\r\n        <select className=\"form-control\" name=\"operator\" required\r\n          value={item.operator}\r\n          onChange={({ target: { value } }) => this.operatorChangeHandler(value)}\r\n        >\r\n          <option value=\"\" disabled />\r\n          {/* <option value=\"not-null\">Not Null</option>\r\n          <option value=\"null\">Null</option> */}\r\n          <option value=\"==\">Equals</option>\r\n          <option value=\"<>\">Not Equals</option>\r\n          {/* <option value=\"between\">Between</option> */}\r\n          <option value=\">\">&gt;</option>\r\n          <option value=\">=\">&gt;=</option>\r\n          <option value=\"<\">&lt;</option>\r\n          <option value=\"<=\">&lt;=</option>\r\n        </select>\r\n      </div>\r\n\r\n      {[\"string\", \"object\"].includes(rightType) &&\r\n        <div className=\"form-group__inline-wrapper\">\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={rightType === \"string\"}\r\n                onChange={() => this.rightTypeHandler(\"string\")}\r\n              />\r\n            </label>\r\n            <input type=\"text\" className=\"form-control\" name=\"string\"\r\n              required={rightType === \"string\"}\r\n              value={right.string}\r\n              disabled={rightType !== \"string\"}\r\n              onChange={this.rightChangeHandler}\r\n            />\r\n\r\n          </div>\r\n\r\n          <p className=\"form-group__inline-wrapper__divider\">or</p>\r\n\r\n          <div className=\"form-group form-group_width47\">\r\n            <label htmlFor={\"right\" + index}>Field Name\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={rightType === \"object\"}\r\n                onChange={() => this.rightTypeHandler(\"object\")}\r\n              />\r\n            </label>\r\n            <select className=\"form-control\" id={\"right\" + index} name=\"fieldId\"\r\n              required={rightType === \"object\"}\r\n              value={right.fieldId}\r\n              disabled={rightType !== \"object\"}\r\n              onChange={this.rightChangeHandler}\r\n            >\r\n              <option disabled value=\"\" />\r\n              {fieldsOptions.map(({ value, label }) =>\r\n                <option value={value} key={value}>{label}</option>)}\r\n            </select>\r\n          </div>\r\n        </div>}\r\n\r\n      {rightType === \"array\" && <>\r\n        <div className=\"form-group__inline-wrapper\">\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={is1stString}\r\n                onChange={() => this.setState({ is1stString: true }, this.setRight)}\r\n              />\r\n            </label>\r\n            <input type=\"text\" className=\"form-control\" name=\"string_1\"\r\n              required={is1stString}\r\n              value={right.string_1}\r\n              disabled={!is1stString}\r\n              onChange={this.rightChangeHandler}\r\n            />\r\n          </div>\r\n\r\n          <p className=\"form-group__inline-wrapper__divider\">or</p>\r\n\r\n          <div className=\"form-group form-group_width47\">\r\n            <label htmlFor={\"right\" + index}>Field Name\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={!is1stString}\r\n                onChange={() => this.setState({ is1stString: false }, this.setRight)}\r\n              />\r\n            </label>\r\n            <select className=\"form-control\" id={\"right\" + index} name=\"fieldId_1\"\r\n              required={!is1stString}\r\n              value={right.fieldId_1}\r\n              disabled={is1stString}\r\n              onChange={this.rightChangeHandler}\r\n            >\r\n              <option disabled value=\"\" />\r\n              {fieldsOptions.map(({ value, label }) =>\r\n                <option value={value} key={value}>{label}</option>)}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <p className=\"centred\">and</p>\r\n\r\n        <div className=\"form-group__inline-wrapper\">\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={is2ndString}\r\n                onChange={() => this.setState({ is2ndString: true }, this.setRight)}\r\n              />\r\n            </label>\r\n            <input type=\"text\" className=\"form-control\" name=\"string_2\"\r\n              required={is2ndString}\r\n              value={right.string_2}\r\n              disabled={!is2ndString}\r\n              onChange={this.rightChangeHandler}\r\n            />\r\n          </div>\r\n\r\n          <p className=\"form-group__inline-wrapper__divider\">or</p>\r\n\r\n          <div className=\"form-group form-group_width47\">\r\n            <label htmlFor={\"right\" + index}>Field Name\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={!is2ndString}\r\n                onChange={() => this.setState({ is2ndString: false }, this.setRight)}\r\n              />\r\n            </label>\r\n            <select className=\"form-control\" id={\"right\" + index} name=\"fieldId_2\"\r\n              required={!is2ndString}\r\n              value={right.fieldId_2}\r\n              disabled={is2ndString}\r\n              onChange={this.rightChangeHandler}\r\n            >\r\n              <option disabled value=\"\" />\r\n              {fieldsOptions.map(({ value, label }) =>\r\n                <option value={value} key={value}>{label}</option>)}\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </>}\r\n\r\n      <p>Then = </p>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor={\"result\" + index}>Value</label>\r\n        <input type=\"text\" className=\"form-control\" id={\"result\" + index} name=\"result\" required\r\n          value={item.result}\r\n          onChange={({ target: { value, name } }) => changeHandler({ value, name })}\r\n        />\r\n        <AltrpCodeEditor value={item.result}\r\n                         onChange={value => {\r\n                           // if(value[0] !== \"'\" ){\r\n                           //   value = `'${value}`;\r\n                           // }\r\n                           // if(value[value.length - 1] !== \"'\" ){\r\n                           //   value = `${value}'`;\r\n                           // }\r\n                           // console.log(value);\r\n                           changeHandler({\r\n                               value,\r\n                               name: 'result'\r\n                           });\r\n                         }}\r\n                         mode=\"wrapped json\"/>\r\n      </div>\r\n      <p>E.g. [field_name]*[field_name] + 10</p>\r\n    </>\r\n  }\r\n}\r\n\r\nexport default FieldCalculationLogic;\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport FieldCalculationLogic from \"./FieldCalculationLogic\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport { titleToName } from \"../../js/helpers\";\r\n\r\nconst fieldTypeOptions = [\r\n  {\r\n    value: 'string',\r\n    label: 'String'\r\n  },\r\n  {\r\n    value: 'integer',\r\n    label: 'integer'\r\n  },\r\n  {\r\n    value: 'bigInteger',\r\n    label: 'Big Integer'\r\n  },\r\n  {\r\n    value: 'float',\r\n    label: 'Float'\r\n  },\r\n  {\r\n    value: 'boolean',\r\n    label: 'Boolean'\r\n  },\r\n  {\r\n    value: 'text',\r\n    label: 'Text'\r\n  },\r\n  {\r\n    value: 'longText',\r\n    label: 'Long Text'\r\n  },\r\n  {\r\n    value: 'calculated',\r\n    label: 'Calculated'\r\n  },\r\n  {\r\n    value: 'date',\r\n    label: 'Date'\r\n  },\r\n  {\r\n    value: 'time',\r\n    label: 'Time'\r\n  },\r\n  {\r\n    value: 'year',\r\n    label: 'Year'\r\n  },\r\n  {\r\n    value: 'dateTime',\r\n    label: 'Datetime'\r\n  },\r\n  {\r\n    value: 'geometry',\r\n    label: 'Geometry'\r\n  },\r\n  {\r\n    value: 'json',\r\n    label: 'JSON'\r\n  },\r\n  {\r\n    value: 'binary',\r\n    label: 'Binary'\r\n  },\r\n];\r\nconst attributeOptions = [\r\n\r\n  {\r\n    value: 'unsigned',\r\n    label: 'UNSIGNED'\r\n  }\r\n];\r\nconst inputTipeOptions = ['textarea', 'text', 'number', 'slider', 'WYSIWYG', 'color', 'select', 'checkbox', 'radio button'];\r\n\r\n\r\nclass AddFieldForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isAlways: false,\r\n      fieldsOptions: [],\r\n      value: {\r\n        name: '',\r\n        title: '',\r\n        description: '',\r\n        is_label: false,\r\n        is_title: false,\r\n        is_auth: false,\r\n        type: 'string',\r\n        length_value: '',\r\n        default: '',\r\n        attribute: '',\r\n        input_type: 'text',\r\n        options: '',\r\n        null: false,\r\n        indexed: false,\r\n        editable: true,\r\n        calculation: '',\r\n        calculation_logic: [\r\n          { left: '', operator: '', result: '', right: '' }\r\n        ],\r\n      },\r\n      // value: this.props.field || {},\r\n    };\r\n    this.submitHandler = this.submitHandler.bind(this);\r\n    this.itemChangeHandler = this.itemChangeHandler.bind(this);\r\n    this.addItemHandler = this.addItemHandler.bind(this);\r\n    this.deleteItemHandler = this.deleteItemHandler.bind(this);\r\n    this.titleChangeHandler = this.titleChangeHandler.bind(this);\r\n\r\n    this.filedsResource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.modelId}/fields` });\r\n    this.fieldsOptionsResource = new Resource({\r\n      route: `/admin/ajax/models/${this.props.match.params.modelId}/field_options`\r\n    });\r\n  }\r\n  /**\r\n   * новый field в props\r\n   * */\r\n  // componentDidUpdate(prevProps){\r\n  //   if(this.props !== prevProps){\r\n  //     this.setState(state => {\r\n  //       state = { ...state };\r\n  //       state.value = {...this.props.field};\r\n  //       return state\r\n  //     });\r\n  //   }\r\n  // }\r\n  /**\r\n   * Изменение данны с валидацией\r\n   * @param {string} value\r\n   * @param {string} field\r\n   */\r\n\r\n  changeValue(value, field) {\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      if (field === 'default') {\r\n\r\n        if(state.value.size && value.length > state.value.size){\r\n          value = value.substring(0, parseInt(state.value.size))\r\n        }\r\n        switch (state.value.type) {\r\n          case 'boolean':{\r\n            if(value === ''){\r\n              value = null;\r\n            } else if (value != '0' && value != '1'){\r\n              value = 1;\r\n            }\r\n          }\r\n          break;\r\n          case 'bigInteger':{\r\n            if(!isNaN(value) && value !== '0'){\r\n              value = parseInt(value);\r\n            } else if(value === ''){\r\n              value = null;\r\n            } else {\r\n              value = '0';\r\n            }\r\n          }\r\n          break;\r\n          case 'integer':{\r\n            if(!isNaN(value) && value !== '0'){\r\n              value = parseInt(value);\r\n            } else if(value === ''){\r\n              value = null;\r\n            } else {\r\n              value = '0';\r\n            }\r\n          }\r\n          break;\r\n        }\r\n      }\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  titleChangeHandler(e) {\r\n    e.persist();\r\n    this.setState(state => ({\r\n      ...state, value: {\r\n        ...state.value,\r\n        title: e.target.value,\r\n        name: this.props.match.params.id ? state.value.name : titleToName(e.target.value)\r\n      }\r\n    }))\r\n  }\r\n\r\n  submitHandler(e) {\r\n    e.preventDefault();\r\n    const { history, match } = this.props;\r\n    const { name, title, description, is_label, is_title, is_auth, type, size, default: default_, attribute, input_type,\r\n      options, null: _null, indexed, editable, calculation, calculation_logic } = this.state.value;\r\n\r\n    let data = {};\r\n\r\n    if (type === \"calculated\") {\r\n      this.state.isAlways ?\r\n        data = { title, description, type, calculation, name, } :\r\n        data = { title, description, type, calculation_logic, name, };\r\n    } else {\r\n      data = { name, title, description, is_label, is_title, is_auth, type, size, default: default_, attribute, input_type, null: _null, indexed, editable };\r\n      if (['select', 'checkbox', 'radio button'].includes(input_type)) {\r\n        data = { ...data, options };\r\n      }\r\n      console.log(default_);\r\n      if (['integer', 'bigInteger'].includes(type)) {\r\n        data.default = default_;\r\n      }\r\n    }\r\n\r\n    if (_.isFunction(this.props.onSubmit)) {\r\n      const isNeedToCheckName = this.fieldName && this.fieldName !== data.name;\r\n      this.props.onSubmit(data, isNeedToCheckName);\r\n    }\r\n  }\r\n\r\n  addItemHandler() {\r\n    this.setState(state => {\r\n      state.value.calculation_logic\r\n        .push({ left: '', operator: '', result: '', right: '' });\r\n      return state;\r\n    })\r\n  }\r\n\r\n  deleteItemHandler(index) {\r\n    this.setState(state => {\r\n      state.value.calculation_logic.splice(index, 1);\r\n      return state;\r\n    })\r\n  }\r\n\r\n  itemChangeHandler({ name, value }, index) {\r\n    this.setState(state => {\r\n      state.value.calculation_logic[index][name] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let { options } = await this.fieldsOptionsResource.getAll();\r\n\r\n    if (this.props.match.params.id) {\r\n      let value = await this.filedsResource.get(this.props.match.params.id);\r\n      this.fieldName = value.name;\r\n      if (typeof value.calculation_logic === 'string') {\r\n        value.calculation_logic = JSON.parse(value.calculation_logic);\r\n      }  \r\n      this.setState(state => ({ ...state, isAlways: value.calculation ? true : false ,  value: { ...state.value, ...value } }));\r\n    }\r\n    this.setState(state => ({ ...state, fieldsOptions: options }));\r\n  }\r\n\r\n  render() {\r\n    const { modelId } = this.props.match.params;\r\n    return <form className=\"admin-form field-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group \">\r\n        <label htmlFor=\"field-title\">Field Title</label>\r\n        <input type=\"text\" id=\"field-title\" required\r\n          value={this.state.value.title || ''}\r\n          onChange={this.titleChangeHandler}\r\n          className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group__inline-wrapper\">\r\n\r\n        <div className=\"form-group form-group_width30\">\r\n          <label htmlFor=\"field-name\">Field Name</label>\r\n          <input type=\"text\" id=\"field-name\" required readOnly={this.props.match.params.id}\r\n            value={this.state.value.name || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'name') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n        <div className=\"form-group form-group_width65\">\r\n          <label htmlFor=\"field-description\">Field Description</label>\r\n          <input type=\"text\" id=\"field-description\"\r\n            value={this.state.value.description || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'description') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"field-type\">Field Type</label>\r\n        <select id=\"field-type\" required\r\n          value={this.state.value.type || ''}\r\n          onChange={e => { this.changeValue(e.target.value, 'type') }}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"\" />\r\n          {fieldTypeOptions.map(item =>\r\n            <option key={item.value} value={item.value}>\r\n              {item.label}\r\n            </option>)}\r\n        </select>\r\n      </div>\r\n\r\n      {this.state.value.type === 'calculated' ?\r\n        <>\r\n          <div className=\"form-group col-6 form-check-inline\">\r\n            <input type=\"checkbox\" id=\"always\"\r\n              className=\"form-check-input\"\r\n              checked={this.state.isAlways}\r\n              onChange={e => this.setState({ isAlways: e.target.checked })}\r\n            />\r\n            <label htmlFor=\"always\" className=\"label_checkbox\">Always</label>\r\n          </div>\r\n\r\n          {this.state.isAlways ?\r\n            <>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"calculation\">Calculation</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"calculation\"\r\n                  value={this.state.value.calculation}\r\n                  onChange={e => { this.changeValue(e.target.value, 'calculation') }}\r\n                />\r\n              </div>\r\n              <p>E.g. [field_name]*[field_name] + 10</p>\r\n            </> :\r\n            <>\r\n              {this.state.value.calculation_logic.map((item, index) => <React.Fragment key={index}>\r\n                {index !== 0 && <hr />}\r\n                <FieldCalculationLogic\r\n                  item={item}\r\n                  index={index}\r\n                  fieldsOptions={this.state.fieldsOptions}\r\n                  key={index + 'logic'}\r\n                  changeHandler={item => this.itemChangeHandler(item, index)}\r\n                  deleteItemHandler={() => this.deleteItemHandler(index)}\r\n                />\r\n              </React.Fragment>)}\r\n              <button className=\"btn\" type=\"button\" onClick={this.addItemHandler}>\r\n                + Calculated Logic\r\n              </button>\r\n            </>}\r\n        </> :\r\n        <>\r\n          <div className=\"checkbox-group\">\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-is_label\"\r\n                checked={this.state.value.is_label}\r\n                onChange={e => { this.changeValue(e.target.checked, 'is_label') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-is_label\">As Label</label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-is_title\"\r\n                checked={this.state.value.is_title}\r\n                onChange={e => { this.changeValue(e.target.checked, 'is_title') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-is_title\">As Title</label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-is_auth\"\r\n                     checked={this.state.value.is_auth}\r\n                     onChange={e => { this.changeValue(e.target.checked, 'is_auth') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-is_auth\">Set Auth</label>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group__inline-wrapper\">\r\n            <div className=\"form-group form-group_width47\">\r\n              <label htmlFor=\"field-length_value\">Length/Value</label>\r\n              <input type=\"number\" id=\"field-length_value\"\r\n                value={this.state.value.size || ''}\r\n                onChange={e => { this.changeValue(+e.target.value, 'size') }}\r\n                className=\"form-control\" />\r\n            </div>\r\n\r\n            <div className=\"form-group form-group_width47\">\r\n              <label htmlFor=\"field-default\">Default</label>\r\n              <input type=\"text\" id=\"field-default\"\r\n                value={this.state.value.default || ''}\r\n                onChange={e => { this.changeValue(e.target.value, 'default') }}\r\n                className=\"form-control\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"field-attribute\">Attribute</label>\r\n            <select id=\"field-attribute\"\r\n              value={this.state.value.attribute || ''}\r\n              onChange={e => { this.changeValue(e.target.value, 'attribute') }}\r\n              className=\"form-control\"\r\n            >\r\n              <option value=\"\" />\r\n              {attributeOptions.map(item =>\r\n                <option key={item.value} value={item.value}>\r\n                  {item.label}\r\n                </option>)}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"field-input_type\">Input Type</label>\r\n            <select id=\"field-input_type\" required\r\n              value={this.state.value.input_type || ''}\r\n              onChange={e => { this.changeValue(e.target.value, 'input_type') }}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {inputTipeOptions.map(item =>\r\n                <option key={item} value={item}>\r\n                  {item}\r\n                </option>)}\r\n            </select>\r\n          </div>\r\n\r\n          {['select', 'checkbox', 'radio button'].includes(this.state.value.input_type) && <>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"field-options\">Options</label>\r\n              <textarea id=\"field-options\"\r\n                value={this.state.value.options || ''}\r\n                onChange={e => { this.changeValue(e.target.value, 'options') }}\r\n                className=\"form-control\"\r\n              />\r\n            </div>\r\n            <p>Enter each choice on a new line.</p>\r\n            <p>Fro more control, you may specify both a value and label like this:</p>\r\n            <p>red | Red</p>\r\n          </>}\r\n\r\n          <div className=\"checkbox-group\">\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-nullable\"\r\n                checked={this.state.value.null}\r\n                onChange={e => { this.changeValue(e.target.checked, 'null') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-nullable\">Nullable</label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-indexed\"\r\n                checked={this.state.value.indexed}\r\n                onChange={e => { this.changeValue(e.target.checked, 'indexed') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-indexed\">Indexed</label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-editable\"\r\n                checked={this.state.value.editable}\r\n                onChange={e => { this.changeValue(e.target.checked, 'editable') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-editable\">Editable</label>\r\n            </div>\r\n          </div>\r\n        </>\r\n      }\r\n      <div className=\"btn__wrapper btn_add\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link className=\"btn\" to={`/admin/tables/models/edit/${modelId}`}>Cancel</Link>\r\n        {/* TODO: отображать кнопку если в форме редактируются данные\r\n          повесить обработчик удаления\r\n        <button className=\"btn btn_failure\">Delete</button> */}\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddFieldForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AddFieldForm from \"./AddFieldForm\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass EditField extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modelTitle: 'Model Title',\r\n      field: {},\r\n    };\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/models' });\r\n    this.filedsResource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.modelId}/fields` });\r\n  }\r\n  async componentDidMount() {\r\n    const { modelId } = this.props.match.params;\r\n    let model = await this.modelsResource.get(modelId);\r\n    this.setState({ modelTitle: model.title });\r\n  }\r\n\r\n  /**\r\n   * отправка данных\r\n   * @return {*}\r\n   */\r\n  onSubmit = async (data, isNeedToCheckName) => {\r\n    const { modelId } = this.props.match.params;\r\n    const { history } = this.props;\r\n    if (isNeedToCheckName) {\r\n      fetch(`/admin/ajax/models/${modelId}/field_name_is_free/?name=${data.name}`)\r\n        .then(res => res.json())\r\n        .then(res => {\r\n          if (!res.taken) return alert(`Name ${data.name} is already taken. Use another one.`);\r\n        });\r\n    }\r\n\r\n    if (this.props.match.params.id) {\r\n      let res = await this.filedsResource.put(this.props.match.params.id, data);\r\n      history.push(`/admin/tables/models/edit/${modelId}`);\r\n    } else {\r\n      let res = await this.filedsResource.post(data);\r\n      history.push(`/admin/tables/models/edit/${modelId}`);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { modelTitle } = this.state;\r\n    const { modelId } = this.props.match.params;\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/models\">Models / All Models</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <Link className=\"admin-breadcrumbs__link\" to={`/admin/tables/models/edit/${modelId}`}>\r\n            {modelTitle}\r\n          </Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">Add New Field</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AddFieldForm onSubmit={this.onSubmit} />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(EditField);","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {titleToName} from \"../../js/helpers\";\r\n\r\nconst relationTypeOptions = [\r\n  {\r\n    value: 'hasOne',\r\n    label: 'Has One'\r\n  },\r\n  {\r\n    value: 'belongsTo',\r\n    label: 'Belongs To'\r\n  },\r\n  {\r\n    value: 'hasMany',\r\n    label: 'Has Many'\r\n  },\r\n];\r\nconst deleteUpdateOptions = [\r\n  {\r\n    value: 'cascade',\r\n    label: 'cascade'\r\n  },\r\n  {\r\n    value: 'set null',\r\n    label: 'set null'\r\n  },\r\n  {\r\n    value: 'no action',\r\n    label: 'no action'\r\n  },\r\n  {\r\n    value: 'restrict',\r\n    label: 'restrict'\r\n  }\r\n];\r\n\r\nclass AddRelationForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modelsOptions: [],\r\n      value: {\r\n        title: '',\r\n        description: '',\r\n        type: '',\r\n        model_id: this.props.match.params.modelId,\r\n        add_belong_to: false,\r\n        editable: true,\r\n        always_with: false,\r\n        local_key: '',\r\n        foreign_key: '',\r\n        onDelete: 'set null',\r\n        onUpdate: 'set null'\r\n      },\r\n      selfFieldsOptions: [],\r\n      foreignFieldsOptions: [],\r\n      relationTypeOptions,\r\n    };\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/model_options' });\r\n    this.relationsResource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.modelId}/relations` });\r\n    this.submitHandler = this.submitHandler.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let { options } = await this.modelsResource.getAll();\r\n    const { modelId, id } = this.props.match.params;\r\n    //Модель может ссылаться на саму себя\r\n    //options = options.filter(option=>(Number(option.value) !== Number(modelId)));\r\n    this.setState({ modelsOptions: options });\r\n    let fields = await (new Resource({route: `/admin/ajax/models/${modelId}/fields`})).getAll();\r\n    let selfFieldsOptions = fields.map(field=>({\r\n      label: field.title,\r\n      value: field.name,\r\n    }));\r\n    this.setState(state=>({...state, selfFieldsOptions}));\r\n    if(id){\r\n      let value = await this.relationsResource.get(id);\r\n      this.relationName = value.name;\r\n      this.updateForeignFieldOptions(value.target_model_id);\r\n      this.changeTargetModel(value.target_model_id);\r\n      this.setState(state=>({...state, value}));\r\n    }\r\n  }\r\n  /**\r\n   * Проверяем значение при смене модели\r\n   * если модель это User, то скроем Add Reverse Relation\r\n   * и уберем из вариантов связей Has many\r\n   * @param {string} value\r\n   */\r\n  changeTargetModel(value) {\r\n    let modelName = '';\r\n    this.state.modelsOptions.forEach(option=>{\r\n      if(parseInt(option.value) === parseInt(value)){\r\n        modelName = option.label;\r\n      }\r\n    });\r\n    let _relationTypeOptions = relationTypeOptions.filter(option=>{\r\n      if(modelName !== 'User'){\r\n        return true;\r\n      }\r\n      return option.value !== 'hasMany';\r\n    });\r\n    if(modelName === 'User'){\r\n      this.changeValue('hasOne', 'type');\r\n      this.changeValue(false, 'add_belong_to');\r\n    }\r\n    this.setState(state =>({...state, hideAddBelongTo:modelName === 'User', relationTypeOptions:_relationTypeOptions}));\r\n  }\r\n/**\r\n * Изменить значение\r\n * @param {*} value\r\n * @param {string} field\r\n */\r\n  changeValue(value, field) {\r\n  const { id } = this.props.match.params;\r\n\r\n  if(field === 'target_model_id'){\r\n    this.changeTargetModel(value);\r\n  }\r\n  this.setState(state => {\r\n      state = { ...state };\r\n      state.value[field] = value;\r\n      if(field === 'title' && ! id){\r\n        state.value.name = titleToName(value);\r\n      }\r\n      if((field === 'name')){\r\n        state.value.name = titleToName(value);\r\n      }\r\n      if(field === 'foreign_key'){\r\n        state.value[field] = titleToName(value);\r\n      }\r\n      if(field === 'target_model_id'){\r\n        this.updateForeignFieldOptions(value)\r\n      }\r\n      return state\r\n    })\r\n  }\r\n\r\n  /**\r\n   * При изменении модели для связи изменяем опции\r\n   * @param {string} modelId\r\n   */\r\n  async updateForeignFieldOptions(modelId){\r\n    let fields = await (new Resource({route: `/admin/ajax/models/${modelId}/fields`})).getAll();\r\n    let foreignFieldsOptions = fields.map(field=>({\r\n      label: field.title,\r\n      value: field.name,\r\n    }));\r\n    this.setState(state=>({...state, foreignFieldsOptions}))\r\n\r\n  }\r\n  /**\r\n   * Отправка данных\r\n   */\r\n  async submitHandler(e) {\r\n    e.preventDefault();\r\n    const { history, match } = this.props;\r\n    const data = this.state.value;\r\n    const isNameTaken = !this.props.match.params.id || this.relationName !== data.name ?\r\n      await fetch(`/admin/ajax/models/${match.params.modelId}/relation_name_is_free/?name=${data.name}`)\r\n        .then(res => res.json())\r\n        .then(res => !res.taken) :\r\n      null;\r\n\r\n    if (isNameTaken) {\r\n      return alert(`Name ${data.name} is already taken. Use another one.`)\r\n    }\r\n\r\n    if (this.props.match.params.id) {\r\n      let res = await this.relationsResource.put(this.props.match.params.id, data);\r\n    } else {\r\n      let res = await this.relationsResource.post(data);\r\n    }\r\n    history.push(`/admin/tables/models/edit/${match.params.modelId}`);\r\n  }\r\n\r\n  /**\r\n   * вывод поля Local Key\r\n   */\r\n  renderLocalKey(){\r\n    const { id } = this.props.match.params;\r\n\r\n    return <div className=\"form-group form-group_width47\">\r\n      <label htmlFor=\"relation-local_key\">Local Key</label>\r\n      <select  id=\"relation-local_key\"\r\n             value={this.state.value.local_key || ''}\r\n             className=\"form-control\"\r\n             onChange={e => { this.changeValue(e.target.value, 'local_key') }}\r\n      >\r\n        <option disabled value=\"\" />\r\n        {this.state.selfFieldsOptions.map(({ value, label }) =>\r\n            <option key={value} value={value}>\r\n              {label}\r\n            </option>)}\r\n      </select>\r\n    </div>\r\n\r\n  }\r\n\r\n/**\r\n   * вывод поля Foreign Key\r\n   */\r\n  renderForeignKey(){\r\n    const { id } = this.props.match.params;\r\n\r\n    return<div className=\"form-group form-group_width47\">\r\n      <label htmlFor=\"relation-foreign_key\">Foreign Key</label>\r\n      <select id=\"relation-foreign_key\"\r\n        value={this.state.value.foreign_key || ''}\r\n        onChange={e => { this.changeValue(e.target.value, 'foreign_key') }}\r\n        className=\"form-control\"\r\n      >\r\n        <option disabled value=\"\" />\r\n        {this.state.foreignFieldsOptions.map(({ value, label }) =>\r\n          <option key={value} value={value}>\r\n            {label}\r\n          </option>)}\r\n      </select>\r\n    </div>\r\n  }\r\n\r\n\r\n  render() {\r\n    const { id } = this.props.match.params;\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"row\">\r\n        <div className=\"form-group col-12\">\r\n          <label htmlFor=\"relation-title\">Relation Title</label>\r\n          <input type=\"text\" id=\"relation-title\" required\r\n            value={this.state.value.title || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'title') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n        <div className=\"form-group col-4\">\r\n          <label htmlFor=\"relation-title\">Relation Name</label>\r\n          <input type=\"text\" id=\"relation-title\" required readOnly={id}\r\n            value={this.state.value.name || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'name') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group col-8\">\r\n          <label htmlFor=\"relation-description\">Relation Description</label>\r\n          <input type=\"text\" id=\"relation-description\" readOnly={id}\r\n            value={this.state.value.description || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'description') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"relation-type\">Relation Type</label>\r\n          <select id=\"relation-type\" required disabled={id}\r\n            value={this.state.value.type}\r\n            onChange={e => { this.changeValue(e.target.value, 'type') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {this.state.relationTypeOptions.map(item =>\r\n              <option key={item.value} value={item.value}>\r\n                {item.label}\r\n              </option>)}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"relation-model_id\">Model to Bound</label>\r\n          <select id=\"relation-model_id\" required\r\n            value={this.state.value.target_model_id || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'target_model_id') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {this.state.modelsOptions.map(({ value, label }) =>\r\n              <option key={value} value={value}>\r\n                {label}\r\n              </option>)}\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"form-group col-4\">\r\n          {this.state.hideAddBelongTo || this.state.value.type === 'belongsTo' ? '' : <><input type=\"checkbox\" id=\"relation-add_belong_to\"\r\n            checked={this.state.value.add_belong_to} readOnly={id}\r\n            onChange={e => { this.changeValue(e.target.checked, 'add_belong_to') }}\r\n          />\r\n          <label className=\"checkbox-label\" htmlFor=\"relation-add_belong_to\">Add Reverse Relation</label></>}\r\n        </div>\r\n        <div className=\"form-group col-4\">\r\n          { (! ['hasMany', 'belongsTo'].includes(this.state.value.type)) ?\r\n              <><input type=\"checkbox\"\r\n                       id=\"field-editable\"\r\n                       checked={this.state.value.editable}\r\n                       onChange={e => { this.changeValue(e.target.checked, 'editable') }}\r\n          />\r\n            <label className=\"checkbox-label\" htmlFor=\"field-editable\">Editable</label></> : ''}\r\n\r\n        </div>\r\n        <div className=\"form-group col-4\">\r\n         <input type=\"checkbox\"\r\n                id=\"field-always_with\"\r\n                checked={this.state.value.always_with}\r\n                onChange={e => { this.changeValue(e.target.checked, 'always_with') }}\r\n          />\r\n            <label className=\"checkbox-label\" htmlFor=\"field-always_with\">Always With</label>\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group__inline-wrapper\">\r\n        {this.renderLocalKey()}\r\n        {this.renderForeignKey()}\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"onDelete\">On Delete</label>\r\n          <select id=\"onDelete\" required\r\n            value={this.state.value.onDelete}\r\n            onChange={e => { this.changeValue(e.target.value, 'onDelete') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {deleteUpdateOptions.map(({ value, label }) =>\r\n              <option key={value} value={value}>\r\n                {label.toUpperCase()}\r\n              </option>)}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"onUpdate\">On Update</label>\r\n          <select id=\"onUpdate\" required\r\n            value={this.state.value.onUpdate}\r\n            onChange={e => { this.changeValue(e.target.value, 'onUpdate') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {deleteUpdateOptions.map(({ value, label }) =>\r\n              <option key={value} value={value}>\r\n                {label.toUpperCase()}\r\n              </option>)}\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n       <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link className=\"btn\" to=\"/admin/tables/models\">Cancel</Link>\r\n        {/* <button className=\"btn btn_failure\">Delete</button> */}\r\n      </div>\r\n    </form>;\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AddRelationForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AddRelationForm from \"./AddRelationForm\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass AddRelation extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modelTitle: 'Model Title'\r\n    };\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/models' });\r\n  }\r\n  \r\n  async componentDidMount() {\r\n    const { modelId } = this.props.match.params;\r\n    let model = await this.modelsResource.get(modelId);\r\n    this.setState({ modelTitle: model.title })\r\n  }\r\n\r\n  render() {\r\n    const { modelTitle } = this.state;\r\n    const { modelId } = this.props.match.params;\r\n\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/models\">Models / All Models</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <Link className=\"admin-breadcrumbs__link\" to={`/admin/tables/models/edit/${modelId}`}>\r\n            {modelTitle}\r\n          </Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">Add New Relation</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AddRelationForm />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddRelation);","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport FieldCalculationLogic from \"./FieldCalculationLogic\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport { titleToName } from \"../../js/helpers\";\r\n\r\nconst fieldTypeOptions = [\r\n  {\r\n    value: 'string',\r\n    label: 'String'\r\n  },\r\n  {\r\n    value: 'integer',\r\n    label: 'integer'\r\n  },\r\n  {\r\n    value: 'bigInteger',\r\n    label: 'Big Integer'\r\n  },\r\n  {\r\n    value: 'float',\r\n    label: 'Float'\r\n  },\r\n  {\r\n    value: 'boolean',\r\n    label: 'Boolean'\r\n  },\r\n  {\r\n    value: 'text',\r\n    label: 'Text'\r\n  },\r\n  {\r\n    value: 'longText',\r\n    label: 'Long Text'\r\n  },\r\n  {\r\n    value: 'calculated',\r\n    label: 'Calculated'\r\n  },\r\n  {\r\n    value: 'date',\r\n    label: 'Date'\r\n  },\r\n  {\r\n    value: 'time',\r\n    label: 'Time'\r\n  },\r\n  {\r\n    value: 'year',\r\n    label: 'Year'\r\n  },\r\n  {\r\n    value: 'dateTime',\r\n    label: 'Datetime'\r\n  },\r\n  {\r\n    value: 'geometry',\r\n    label: 'Geometry'\r\n  },\r\n  {\r\n    value: 'json',\r\n    label: 'JSON'\r\n  },\r\n  {\r\n    value: 'binary',\r\n    label: 'Binary'\r\n  },\r\n];\r\nconst attributeOptions = [\r\n\r\n  {\r\n    value: 'unsigned',\r\n    label: 'UNSIGNED'\r\n  }\r\n];\r\nconst inputTipeOptions = ['textarea', 'text', 'number', 'slider', 'WYSIWYG', 'color', 'select', 'checkbox', 'radio button'];\r\n\r\n\r\nclass AddAccessorForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      constructor: false,\r\n      fieldsOptions: [],\r\n      value: {\r\n        name: '',\r\n        title: '',\r\n        description: '',\r\n        calculation: '',\r\n        calculation_logic: [\r\n          { left: '', operator: '', result: '', right: '' }\r\n        ],\r\n      },\r\n    };\r\n\r\n    this.submitHandler = this.submitHandler.bind(this);\r\n    this.itemChangeHandler = this.itemChangeHandler.bind(this);\r\n    this.addItemHandler = this.addItemHandler.bind(this);\r\n    this.deleteItemHandler = this.deleteItemHandler.bind(this);\r\n    this.titleChangeHandler = this.titleChangeHandler.bind(this);\r\n\r\n    this.accessorsResource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.modelId}/accessors` });\r\n    this.fieldsOptionsResource = new Resource({\r\n      route: `/admin/ajax/models/${this.props.match.params.modelId}/field_options`\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Изменение данны с валидацией\r\n   * @param {string} value\r\n   * @param {string} field\r\n   */\r\n\r\n  changeValue(value, field) {\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  titleChangeHandler(e) {\r\n    e.persist();\r\n\r\n    this.setState(state => ({\r\n      ...state, value: {\r\n        ...state.value,\r\n        title: e.target.value,\r\n        name: this.props.match.params.id ? state.value.name : titleToName(e.target.value)\r\n      }\r\n    }))\r\n  }\r\n\r\n  async submitHandler(e) {\r\n    e.preventDefault();\r\n    const { history, match } = this.props;\r\n    const { name, title, description, calculation, calculation_logic } = this.state.value;\r\n\r\n    let data = {};\r\n    this.state.constructor ?\r\n        data = { title, description, calculation, name, } :\r\n        data = { title, description, calculation_logic, name, };\r\n\r\n\r\n    if (this.props.match.params.id) {\r\n      let res = await this.accessorsResource.put(this.props.match.params.id, data);\r\n    } else {\r\n      let res = await this.accessorsResource.post(data);\r\n    }\r\n    history.push(`/admin/tables/models/edit/${match.params.modelId}`);\r\n  }\r\n\r\n  addItemHandler() {\r\n    this.setState(state => {\r\n      state.value.calculation_logic\r\n        .push({ left: '', operator: '', result: '', right: '' });\r\n      return state;\r\n    })\r\n  }\r\n\r\n  deleteItemHandler(index) {\r\n    this.setState(state => {\r\n      state.value.calculation_logic.splice(index, 1);\r\n      return state;\r\n    })\r\n  }\r\n\r\n  itemChangeHandler({ name, value }, index) {\r\n    this.setState(state => {\r\n      state.value.calculation_logic[index][name] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let { options } = await this.fieldsOptionsResource.getAll();\r\n\r\n    if (this.props.match.params.id) {\r\n      let value = await this.accessorsResource.get(this.props.match.params.id);\r\n\r\n      if (typeof value.calculation_logic === 'string') {\r\n        value.calculation_logic = JSON.parse(value.calculation_logic);\r\n      }\r\n\r\n      if (value.calculation_logic === null) {\r\n        value.calculation_logic = [{ left: '', operator: '', result: '', right: '' }];\r\n      }\r\n\r\n      this.setState(state => ({ ...state, constructor: value.calculation ? true : false ,  value: { ...state.value, ...value } }));\r\n    }\r\n    this.setState(state => ({ ...state, fieldsOptions: options }));\r\n  }\r\n\r\n  render() {\r\n    const { modelId } = this.props.match.params;\r\n    return <form className=\"admin-form field-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group \">\r\n        <label htmlFor=\"field-title\">Field Title</label>\r\n        <input type=\"text\" id=\"field-title\" required\r\n          value={this.state.value.title || ''}\r\n          onChange={this.titleChangeHandler}\r\n          className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group__inline-wrapper\">\r\n\r\n        <div className=\"form-group form-group_width30\">\r\n          <label htmlFor=\"field-name\">Field Name</label>\r\n          <input type=\"text\" id=\"field-name\" required readOnly={this.props.match.params.id}\r\n            value={this.state.value.name || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'name') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n        <div className=\"form-group form-group_width65\">\r\n          <label htmlFor=\"field-description\">Field Description</label>\r\n          <input type=\"text\" id=\"field-description\"\r\n            value={this.state.value.description || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'description') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group col-6 form-check-inline\">\r\n        <input type=\"checkbox\" id=\"constructor\"\r\n               className=\"form-check-input\"\r\n               checked={this.state.constructor}\r\n               onChange={e => this.setState({ constructor: e.target.checked })}\r\n        />\r\n        <label htmlFor=\"constructor\" className=\"label_checkbox\">Constructor</label>\r\n      </div>\r\n\r\n      {this.state.constructor ?\r\n        <>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"calculation\">Calculation</label>\r\n            <input type=\"text\" className=\"form-control\" id=\"calculation\"\r\n                   value={this.state.value.calculation}\r\n                   onChange={e => { this.changeValue(e.target.value, 'calculation') }}\r\n            />\r\n          </div>\r\n          <p>E.g. [field_name]*[field_name] + 10</p>\r\n        </> :\r\n        <>\r\n          {this.state.value.calculation_logic.map((item, index) =>\r\n            <FieldCalculationLogic\r\n              item={item}\r\n              index={index}\r\n              fieldsOptions={this.state.fieldsOptions}\r\n              key={index}\r\n              changeHandler={item => this.itemChangeHandler(item, index)}\r\n              deleteItemHandler={() => this.deleteItemHandler(index)}\r\n            />\r\n          )}\r\n          <button className=\"btn\" type=\"button\" onClick={this.addItemHandler}>\r\n            + Calculated Logic\r\n          </button>\r\n        </>}\r\n\r\n      <div className=\"btn__wrapper btn_add\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link className=\"btn\" to={`/admin/tables/models/edit/${modelId}`}>Cancel</Link>\r\n        {/* TODO: отображать кнопку если в форме редактируются данные\r\n          повесить обработчик удаления\r\n        <button className=\"btn btn_failure\">Delete</button> */}\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddAccessorForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AddAccessorForm from \"./AddAccessorForm\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass AddAccessor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modelTitle: 'Model Title'\r\n    };\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/models' });\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { modelId } = this.props.match.params;\r\n    let model = await this.modelsResource.get(modelId);\r\n    this.setState({ modelTitle: model.title })\r\n  }\r\n\r\n  render() {\r\n    const { modelTitle } = this.state;\r\n    const { modelId } = this.props.match.params;\r\n\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/models\">Models / All Models</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <Link className=\"admin-breadcrumbs__link\" to={`/admin/tables/models/edit/${modelId}`}>\r\n            {modelTitle}\r\n          </Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">Add New Accessor</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AddAccessorForm />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddAccessor);\r\n","import React, { Component } from \"react\";\r\n\r\nclass ConditionComponent extends Component {\r\n\r\n  render() {\r\n    const { item: [key, value], changeHandler } = this.props;\r\n\r\n    return <div className=\"form-segment row\">\r\n      <div className=\"form-group col-4\">\r\n        <label>Key\r\n            <input type=\"text\" required name={0}\r\n            value={key}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group col-8\">\r\n        <label>Value\r\n            <input type=\"text\" name={1}\r\n            value={value}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          />\r\n        </label>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default ConditionComponent;","import React, { Component, Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport { titleToName } from \"../../js/helpers\";\r\nimport HeaderComponent from \"./HeaderComponent\"\r\n\r\nclass AddDataSourceForm extends Component {\r\n  state = {\r\n    modelsOptions: [],\r\n    rolesOptions: [],\r\n    permissionsOptions: [],\r\n    typeIsDisabled: false,\r\n    value: {\r\n      title: '',\r\n      name: '',\r\n      description: '',\r\n      type: 'remote',\r\n      request_type: '',\r\n      model_id: '',\r\n      url: '',\r\n      api_url: '',\r\n      auth: true,\r\n      access: {\r\n        roles: [],\r\n        permissions: []\r\n      },\r\n      headers: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n\r\n    new Resource({ route: '/admin/ajax/model_options' }).getAll()\r\n      .then(({ options }) => this.setState({ modelsOptions: options }));\r\n    new Resource({ route: '/admin/ajax/role_options' }).getAll()\r\n      .then(rolesOptions => this.setState({ rolesOptions }));\r\n    new Resource({ route: '/admin/ajax/permissions_options' }).getAll()\r\n      .then(permissionsOptions => this.setState({ permissionsOptions }));\r\n\r\n    if (id) {\r\n      const resource = new Resource({ route: '/admin/ajax/data_sources' });\r\n      resource.get(id).then(value => this.setState({\r\n        value: { ...value, headers: Object.entries(value.headers || {})},        \r\n        typeIsDisabled: value.type === 'remote'\r\n      }));\r\n    }\r\n  }\r\n\r\n  changeValue = (value, field) => {\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  titleChangeHandler = e => {\r\n    e.persist();\r\n    this.setState(state => ({\r\n      ...state, value: {\r\n        ...state.value,\r\n        title: e.target.value,\r\n        name: titleToName(e.target.value)\r\n      }\r\n    }))\r\n  }\r\n\r\n  /**\r\n   * Смена ролей\r\n   */\r\n  changeRoles = (roles) => {\r\n    let _roles = [];\r\n    if (roles) roles.forEach(r => {\r\n      _roles.push(r.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.access.roles = _roles;\r\n      return newState;\r\n    });\r\n  };\r\n  /**\r\n   * Смена разрешений\r\n   */\r\n  changePermission = (permissions) => {\r\n    let _permissions = [];\r\n    if (permissions) permissions.forEach(p => {\r\n      _permissions.push(p.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.access.permissions = _permissions;\r\n      return newState;\r\n    });\r\n  };\r\n\r\n  headerDeleteHandler = index => {\r\n    this.setState(state => {\r\n      const headers = [...state.value.headers];\r\n      headers.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, headers }\r\n      };\r\n    });\r\n  };\r\n\r\n  headerChangeHandler = (e, index) => {\r\n    const { name, value } = e.target;\r\n\r\n    this.setState(state => {\r\n      let headers = [...state.value.headers];\r\n      headers[index][+name] = value;\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, headers }\r\n      };\r\n    });\r\n  };\r\n\r\n  headerAddHandler = () => {\r\n    this.setState(state => {\r\n      const headers = [...state.value.headers, [\"\", \"\"]];\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, headers }\r\n      };\r\n    });\r\n  };\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    const resource = new Resource({ route: '/admin/ajax/data_sources' });\r\n    const { id } = this.props.match.params;\r\n    const headers = Object.fromEntries(this.state.value.headers);\r\n    const data = { ...this.state.value, headers };\r\n\r\n    (id ? resource.put(id, data) : resource.post(data))\r\n      .then(() => this.props.history.goBack());\r\n  }\r\n\r\n  render() {\r\n    const { roles, permissions } = this.state.value.access;\r\n    const { rolesOptions, permissionsOptions } = this.state;\r\n    const { headers } = this.state.value;\r\n    const { id } = this.props.match.params;\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-title\">Data Source Title</label>\r\n          <input type=\"text\" id=\"data-source-title\" required\r\n            value={this.state.value.title}\r\n            onChange={this.titleChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-title\">Data Source Name</label>\r\n          <input type=\"text\" id=\"data-source-title\" required\r\n            value={this.state.value.name}\r\n            onChange={e => { this.changeValue(e.target.value, 'name') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"data-source-description\">Data Source Description</label>\r\n        <input type=\"text\" id=\"data-source-description\"\r\n          value={this.state.value.description}\r\n          onChange={e => { this.changeValue(e.target.value, 'description') }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-type\">Data Source Type</label>\r\n          <select id=\"data-source-type\" required\r\n            name=\"type\"\r\n            value={this.state.value.type}\r\n            onChange={e => { this.changeValue(e.target.value, 'type') }}\r\n            className=\"form-control\"\r\n            disabled={!this.props.match.params.id || this.state.typeIsDisabled}\r\n          >\r\n            {/* <option disabled value=\"\" /> */}\r\n            <option value=\"get\">get</option>\r\n            <option value=\"show\">show</option>\r\n            <option value=\"options\">options</option>\r\n            <option value=\"filters\">filters</option>\r\n            <option value=\"add\">add</option>\r\n            <option value=\"update\">update</option>\r\n            <option value=\"update_column\">update_column</option>\r\n            <option value=\"delete\">delete</option>\r\n            <option value=\"remote\">remote</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-type\">Request Type</label>\r\n          <select id=\"data-source-type\" required\r\n            name=\"type\"\r\n            value={this.state.value.request_type}\r\n            onChange={e => { this.changeValue(e.target.value, 'request_type') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            <option value=\"get\">get</option>\r\n            <option value=\"post\">post</option>\r\n            <option value=\"put\">put</option>\r\n            <option value=\"delete\">delete</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"data-source-model_id\">Model</label>\r\n        <select id=\"data-source-model_id\" required\r\n          value={this.state.value.model_id}\r\n          onChange={e => { this.changeValue(e.target.value, 'model_id') }}\r\n          className=\"form-control\"\r\n          disabled={this.props.match.params.id}\r\n        >\r\n          <option disabled value=\"\" />\r\n          {this.state.modelsOptions.map(({ value, label }) =>\r\n            <option key={value} value={value}>\r\n              {label}\r\n            </option>)}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-url\">Route</label>\r\n          <input type=\"text\" id=\"data-source-url\" required\r\n            value={this.state.value.url}\r\n            onChange={e => { this.changeValue(e.target.value, 'url') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-api_url\">API Route</label>\r\n          <input type=\"text\" id=\"data-source-api_url\" required\r\n            value={this.state.value.api_url}\r\n            onChange={e => { this.changeValue(e.target.value, 'api_url') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Headers</h2>\r\n\r\n      {headers && headers.map((item, index) => <Fragment key={index}>\r\n        {index !== 0 && <hr />}\r\n        <div className=\"text-right\">\r\n          <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.headerDeleteHandler(index)}>\r\n            ✖\r\n          </button>\r\n        </div>\r\n        <HeaderComponent item={item} changeHandler={e => this.headerChangeHandler(e, index)} />\r\n      </Fragment>)}\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.headerAddHandler}>\r\n          + New Header\r\n        </button>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Access</h2>\r\n\r\n      <input type=\"checkbox\" id=\"field-auth\"\r\n        checked={this.state.value.auth} value={this.state.value.auth}\r\n        onChange={e => { this.changeValue(e.target.checked, 'auth') }}\r\n      />\r\n      <label className=\"checkbox-label\" htmlFor=\"field-auth\">Auth</label>\r\n\r\n      {this.state.value.auth ? <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"roles\">Roles</label>\r\n\r\n          <AltrpSelect id=\"roles\"\r\n            closeMenuOnSelect={false}\r\n            value={_.filter(rolesOptions, r => roles.indexOf(r.value) >= 0)}\r\n            isMulti={true}\r\n            onChange={this.changeRoles}\r\n            options={rolesOptions} />\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"permissions\">Permissions</label>\r\n          <AltrpSelect id=\"roles\"\r\n            value={_.filter(permissionsOptions, p => permissions.indexOf(p.value) >= 0)}\r\n            closeMenuOnSelect={false}\r\n            isMulti={true}\r\n            onChange={this.changePermission}\r\n            options={permissionsOptions} />\r\n        </div>\r\n      </div> : null}\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">{id ? 'Edit' : 'Add'}</button>\r\n        <Link className=\"btn\" to=\"/admin/tables/models\">Cancel</Link>\r\n        {/* <button className=\"btn btn_failure\">Delete</button> */}\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddDataSourceForm);","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AddDataSourceForm from \"./AddDataSourceForm\";\r\n\r\nclass AddDataSource extends Component {\r\n  render() {\r\n    const { id } = this.props.match.params;\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/models\">Models / All Models</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">{id ? 'Edit Data Source' : 'Add New Data Source'}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AddDataSourceForm />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddDataSource);","import React, { Component } from \"react\";\r\n\r\nconst typeOptions = ['sum', 'min', 'max', 'avg', 'count', 'distinct', 'count_distinct'];\r\n\r\nclass AggregateComponent extends Component {\r\n  render() {\r\n    const { type, column, alias } = this.props.item;\r\n    const { columnsOptions, changeHandler } = this.props;\r\n    return <div className=\"form-segment form-group__inline-wrapper\">\r\n      <div className=\"form-group form-group_width30\">\r\n        <label>Type\r\n          <select required name=\"type\"\r\n            value={type}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {typeOptions.map(type =>\r\n              <option key={type} value={type}>\r\n                {type}\r\n              </option>)}\r\n          </select>\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group form-group_width30\">\r\n        <label>Field\r\n          <select required name=\"column\"\r\n            value={column}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            <option value=\"*\">All</option>\r\n            {columnsOptions.map(({ value, label }) =>\r\n              <option key={value} value={value}>\r\n                {label}\r\n              </option>)}\r\n          </select>\r\n        </label>\r\n      </div>\r\n      \r\n      <div className=\"form-group form-group_width30\">\r\n        <label>Alias\r\n          <input type=\"text\" required name=\"alias\"\r\n            value={alias}\r\n            onChange={changeHandler}\r\n            className=\"form-control\" />\r\n        </label>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default AggregateComponent;","import React, { Component } from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nconst tablesOptions = tableId => new Resource({ route: `/admin/ajax/tables/${tableId}/columns` });\r\nclass JoinComponent extends Component {\r\n  state = {\r\n    targetColumnOptions: []\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { target_table } = this.props.item;\r\n    if (prevProps.item.target_table !== target_table) {\r\n      tablesOptions(target_table).getAll()\r\n        .then(targetColumnOptions => this.setState({ targetColumnOptions }));\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { target_table } = this.props.item;\r\n    if (target_table) {\r\n      tablesOptions(target_table).getAll()\r\n        .then(targetColumnOptions => this.setState({ targetColumnOptions }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { type, target_table, source_column, operator, target_column } = this.props.item;\r\n    const { changeHandler, tablesOptions, sourceColumnOptions } = this.props;\r\n    const { targetColumnOptions } = this.state;\r\n    return <div className=\"form-segment\">\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label>Type\r\n            <select required name=\"type\"\r\n              value={type}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              <option value=\"inner_join\">Inner Join</option>\r\n              <option value=\"left_join\">Left Join</option>\r\n              <option value=\"right_join\">Right Join</option>\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label>Target Table\r\n          <select required name=\"target_table\"\r\n              value={target_table}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {tablesOptions.map(({ value, label }) =>\r\n                <option disabled={value === target_table} value={value} key={value}>\r\n                  {label}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width30\">\r\n          <label>Source Column\r\n          <select required name=\"source_column\"\r\n              value={source_column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {sourceColumnOptions.map(({ label, value }) => <option value={value} key={value}>{label}</option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width30\">\r\n          <label>Operator\r\n            <select required name=\"operator\"\r\n              value={operator}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option value=\"\" disabled />\r\n              <option value=\"=\">Equals</option>\r\n              <option value=\"!=\">Not Equals</option>\r\n              <option value=\"like\">Like</option>\r\n              <option value=\">\">&gt;</option>\r\n              <option value=\">=\">&gt;=</option>\r\n              <option value=\"<\">&lt;</option>\r\n              <option value=\"<=\">&lt;=</option>\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width30\">\r\n          <label>Target Column\r\n            <select required name=\"target_column\"\r\n              value={target_column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\">{!target_table ? 'Choose Table First' : ''}</option>\r\n              {targetColumnOptions.map(({ id, title }) => <option value={id} key={id}>{title}</option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default JoinComponent;","/** @function getDateFormat\r\n  * @param {string} type тип поля where_date\r\n  * @return {string} формат отображаемых данных\r\n */\r\nexport function getDatePickerFormat(type) {\r\n  switch (type) {\r\n    case 'datetime':\r\n      return \"yyyy/MM/dd h:mm:ss\";\r\n    case 'date':\r\n      return \"yyyy/MM/dd\";\r\n    case 'time':\r\n      return \"h:mm:ss\";\r\n    case 'day':\r\n      return \"dd\";\r\n    case 'month':\r\n      return \"MM\";\r\n    case 'year':\r\n      return \"yyyy\";\r\n\r\n    default:\r\n      return \"yyyy\";\r\n  }\r\n}\r\n\r\n/** @function getDateFormat\r\n * Функция схожа с getDateFormat, с тем различием\r\n что moment запрашивает дату в формате DD - заглавные буквы\r\n * @param {string} type - тип поля where_date\r\n * @return {string | undefined} формат строки, получаемой из объекта Date\r\n */\r\nexport function getMomentFormat(type) {\r\n  switch (type) {\r\n    case 'datetime':\r\n      return \"YYYY/MM/DD H:mm:ss\";\r\n    case 'date':\r\n      return \"YYYY/MM/DD\";\r\n    case 'time':\r\n      return \"H:mm:ss\";\r\n    case 'day':\r\n      return \"DD\";\r\n    case 'month':\r\n      return \"MM\";\r\n    case 'year':\r\n      return \"YYYY\";\r\n\r\n    default:\r\n      return \"YYYY\";\r\n  }\r\n}","import React, { Component } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport moment from \"moment\";\r\nimport { getDatePickerFormat, getMomentFormat } from \"./helpers\";\r\n\r\nconst conditionTypeOptions = ['where', 'or_where', 'where_between', 'where_in', 'where_date', 'where_column'];\r\nconst dateTypesOptions = [\r\n  { value: 'datetime', label: 'Date - Time' },\r\n  { value: 'date', label: 'Date' },\r\n  { value: 'time', label: 'Time' },\r\n  { value: 'day', label: 'Day' },\r\n  { value: 'month', label: 'Month' },\r\n  { value: 'year', label: 'Year' }\r\n];\r\n\r\nclass ConditionComponent extends Component {\r\n  state = { isDateVar: false }\r\n\r\n  dateValueFormatChange = () => {\r\n    const { isDateVar } = this.state;\r\n\r\n    this.props.changeHandler({\r\n      target: {\r\n        value: isDateVar ? moment(new Date()).format(getMomentFormat(this.props.item.type)) : '',\r\n        name: \"value\"\r\n      }\r\n    });\r\n    this.setState({ isDateVar: !isDateVar });\r\n  }\r\n\r\n  render() {\r\n    const { columnsOptions, changeHandler, isFirst } = this.props;\r\n    const { condition_type, column, operator, value, or, not, values, type,\r\n      first_column, second_column } = this.props.item;\r\n    const { isDateVar } = this.state;\r\n\r\n    return <div className=\"form-segment\">\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width30\">\r\n          <label>Condition Type\r\n            <select required name=\"condition_type\"\r\n              value={condition_type}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {conditionTypeOptions.map(type =>\r\n                <option key={type} value={type} disabled={isFirst && type === 'or_where'}>\r\n                  {type}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        {condition_type && condition_type !== \"where_column\" && <div className=\"form-group form-group_width30\">\r\n          <label>Field\r\n            <select required name=\"column\"\r\n              value={column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {columnsOptions.map(({ value, label }) =>\r\n                <option key={value} value={value}>\r\n                  {label}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>}\r\n\r\n        {['where', 'or_where', 'where_column'].includes(condition_type) &&\r\n          <div className=\"form-group form-group_width30\">\r\n            <label>Operator\r\n              <select required name=\"operator\"\r\n                value={operator}\r\n                onChange={changeHandler}\r\n                className=\"form-control\"\r\n              >\r\n                <option value=\"\" disabled />\r\n                <option value=\"=\">Equals</option>\r\n                <option value=\"!=\">Not Equals</option>\r\n                <option value=\"like\">Like</option>\r\n                <option value=\">\">&gt;</option>\r\n                <option value=\">=\">&gt;=</option>\r\n                <option value=\"<\">&lt;</option>\r\n                <option value=\"<=\">&lt;=</option>\r\n              </select>\r\n            </label>\r\n          </div>}\r\n\r\n        {['where_between', 'where_in', 'where_column'].includes(condition_type) && <>\r\n          {!isFirst && <div className=\"form-group form-group_checkbox form-group_width15\">\r\n            <label className=\"label_checkbox\">\r\n              <input type=\"checkbox\" name=\"or\"\r\n                className=\"form-check-input\"\r\n                checked={or}\r\n                onChange={changeHandler}\r\n              /> Or\r\n            </label>\r\n          </div>}\r\n\r\n          {condition_type !== 'where_column' && <div className=\"form-group form-group_checkbox form-group_width15\">\r\n            <label className=\"label_checkbox\">\r\n              <input type=\"checkbox\" name=\"not\"\r\n                className=\"form-check-input\"\r\n                checked={not}\r\n                onChange={changeHandler}\r\n              /> Not\r\n            </label>\r\n          </div>}\r\n        </>}\r\n\r\n        {condition_type === \"where_date\" && <div className=\"form-group form-group_width30\">\r\n          <label>Type\r\n            <select id=\"type\" required name=\"type\"\r\n              value={type}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {dateTypesOptions.map(({ value, label }) =>\r\n                <option key={value} value={value}>{label}</option>)}\r\n            </select>\r\n          </label>\r\n        </div>}\r\n      </div>\r\n\r\n      {['where', 'or_where'].includes(condition_type) &&\r\n        <div className=\"form-group\">\r\n          <label>Value\r\n            <input type=\"text\" required name=\"value\"\r\n              value={value}\r\n              onChange={changeHandler}\r\n              className=\"form-control\" />\r\n          </label>\r\n        </div>}\r\n\r\n      {['where_between'].includes(condition_type) &&\r\n        <div className=\"form-group__inline-wrapper\">\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value 1\r\n              <input type=\"text\" required name=\"value1\"\r\n                value={values[0] || ''}\r\n                onChange={changeHandler}\r\n                className=\"form-control\" />\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value 2\r\n              <input type=\"text\" required name=\"value2\"\r\n                value={values[1] || ''}\r\n                onChange={changeHandler}\r\n                className=\"form-control\" />\r\n            </label>\r\n          </div>\r\n        </div>}\r\n\r\n      {condition_type === \"where_in\" && <>\r\n        <div className=\"form-group\">\r\n          <label>Values\r\n            <textarea required name=\"values\"\r\n              value={values.join(\", \")}\r\n              onChange={changeHandler}\r\n              className=\"form-control\" />\r\n          </label>\r\n        </div>\r\n        <p>Comma Separated</p>\r\n      </>}\r\n\r\n      {condition_type === \"where_date\" && <div className=\"row\">\r\n        <div className=\"form-group col-6\">\r\n          <label>Operator\r\n              <select required name=\"operator\"\r\n              value={operator}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option value=\"\" disabled />\r\n              <option value=\"=\">Equals</option>\r\n              <option value=\"!=\">Not Equals</option>\r\n              <option value=\">\">&gt;</option>\r\n              <option value=\">=\">&gt;=</option>\r\n              <option value=\"<\">&lt;</option>\r\n              <option value=\"<=\">&lt;=</option>\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className={`form-group col-6 ${[\"day\", \"month\"].includes(type) ? \"hide-blocks\" : \"\"}`}>\r\n          <label className=\"w-auto mb-0\">Value</label>\r\n          <label className=\"label_checkbox float-right w-auto\">\r\n            <input type=\"checkbox\"\r\n              className=\"form-check-input\"\r\n              checked={isDateVar}\r\n              onChange={this.dateValueFormatChange}\r\n            /> Set Variable\r\n            </label>\r\n          {isDateVar ?\r\n            <input type=\"text\" required name=\"value\"\r\n              value={value}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            /> :\r\n            <DatePicker selected={moment(value, getMomentFormat(type))._d}\r\n              showTimeSelect={[\"datetime\", \"time\"].includes(type)}\r\n              showYearPicker={type === \"year\"}\r\n              showTimeSelectOnly={type === \"time\"}\r\n              showMonthYearPicker={type === \"month\"}\r\n              dateFormat={getDatePickerFormat(type)}\r\n              className=\"form-control\"\r\n              onChange={value => changeHandler({\r\n                target: {\r\n                  value: moment(value).format(getMomentFormat(type)),\r\n                  name: \"value\"\r\n                }\r\n              })}\r\n            />}\r\n        </div>\r\n      </div>}\r\n\r\n      {condition_type === \"where_column\" && <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label>First Field\r\n            <select required name=\"first_column\"\r\n\r\n              value={first_column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {columnsOptions.map(({ value, label }) =>\r\n                <option key={value} value={value}>\r\n                  {label}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label>Second Field\r\n            <select required name=\"second_column\"\r\n              value={second_column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {columnsOptions.map(({ value, label }) =>\r\n                <option key={value} value={value}>\r\n                  {label}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n      </div>}\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default ConditionComponent;","import React, { Component } from \"react\";\r\n\r\nclass OrderByComponent extends Component {\r\n  render() {\r\n    const { type, column } = this.props.item;\r\n    const { columnsOptions, changeHandler } = this.props;\r\n\r\n    return <div className=\"form-segment form-group__inline-wrapper\">\r\n      <div className=\"form-group form-group_width47\">\r\n        <label>Field\r\n          <select required name=\"column\"\r\n            value={column}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {columnsOptions.map(({ value, label }) =>\r\n              <option key={value} value={label}>\r\n                {label}\r\n              </option>)}\r\n          </select>\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group form-group_width47\">\r\n        <label>Type\r\n          <select required name=\"type\"\r\n            value={type}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          >\r\n            {/*<option disabled value=\"\" />*/}\r\n            <option value=\"asc\">Asc</option>\r\n            <option value=\"desc\">Desc</option>\r\n          </select>\r\n        </label>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default OrderByComponent;","import React, { Component, Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport { titleToName } from \"../../js/helpers\";\r\nimport AggregateComponent from \"./AggregateComponent\";\r\nimport JoinComponent from \"./JoinComponent\";\r\nimport ConditionComponent from \"./ConditionComponent\";\r\nimport OrderByComponent from \"./OrderByComponent\";\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\nimport { getMomentFormat } from \"./helpers\";\r\n\r\nclass SQLBuilderForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { modelId, id } = this.props.match.params;\r\n    this.state = {\r\n      value: {\r\n        title: \"\",\r\n        name: \"\",\r\n        columns: [],\r\n        aggregates: [],\r\n        joins: [],\r\n        conditions: [],\r\n        relations: [],\r\n        order_by: [],\r\n        access: { roles: [], permissions: [] },\r\n        group_by: [],\r\n        // offset: 'REQUEST:pageSize * (REQUEST:page - 1)',\r\n        // limit: 'REQUEST:pageSize'\r\n      },\r\n      relationsOptions: [],\r\n      rolesOptions: [],\r\n      permissionsOptions: [],\r\n      tablesOptions: [],\r\n      selfFields: [],\r\n      selfFieldsOptions: [],\r\n      isAggregateRaw: false\r\n      // isOffsetDisable: true,\r\n      // isLimitDisable: true\r\n    };\r\n    this.counter = 0;\r\n    this.rolesOptions = new Resource({ route: '/admin/ajax/role_options' });\r\n    this.permissionsOptions = new Resource({ route: '/admin/ajax/permissions_options' });\r\n    this.tablesOptions = new Resource({ route: '/admin/ajax/tables_options' });\r\n    this.selfFieldsResource = new Resource({ route: `/admin/ajax/models/${modelId}/fields_only` });\r\n    this.relationsResource = new Resource({ route: `/admin/ajax/models/${modelId}/relations` });\r\n    this.sqlResource = new Resource({ route: `/admin/ajax/models/${modelId}/queries` });\r\n    this.submitHandler = this.submitHandler.bind(this);\r\n    this.multipleSelectChangeHandler = this.multipleSelectChangeHandler.bind(this);\r\n    this.aggregateChangeHandler = this.aggregateChangeHandler.bind(this);\r\n    this.aggregateAddHandler = this.aggregateAddHandler.bind(this);\r\n    this.aggregateDeleteHandler = this.aggregateDeleteHandler.bind(this);\r\n    this.joinChangeHandler = this.joinChangeHandler.bind(this);\r\n    this.joinAddHandler = this.joinAddHandler.bind(this);\r\n    this.joinDeleteHandler = this.joinDeleteHandler.bind(this);\r\n    this.conditionChangeHandler = this.conditionChangeHandler.bind(this);\r\n    this.orderByChangeHandler = this.orderByChangeHandler.bind(this);\r\n    this.orderByAddHandler = this.orderByAddHandler.bind(this);\r\n    this.orderByDeleteHandler = this.orderByDeleteHandler.bind(this);\r\n    this.titleChangeHandler = this.titleChangeHandler.bind(this);\r\n  }\r\n\r\n  /**\r\n   * запросы опций для селектов\r\n   *\r\n   */\r\n  async componentDidMount() {\r\n    const { id } = this.props.match.params\r\n    if (id) {\r\n      const value = await this.sqlResource.get(id);\r\n      this.setState(state => ({ ...state, value }));\r\n    }\r\n    const rolesOptions = await this.rolesOptions.getAll();\r\n    this.setState(state => ({ ...state, rolesOptions }));\r\n    const permissionsOptions = await this.permissionsOptions.getAll();\r\n    this.setState(state => ({ ...state, permissionsOptions }));\r\n    const tablesOptions = await this.tablesOptions.getAll();\r\n    this.setState(state => ({ ...state, tablesOptions }));\r\n    const selfFields = await this.selfFieldsResource.getAll();\r\n    let selfFieldsOptions = selfFields.map(field => {\r\n      return {\r\n        label: field.title,\r\n        value: field.name,\r\n      };\r\n    });\r\n    this.setState(state => ({ ...state, selfFields, selfFieldsOptions }));\r\n    const relations = await this.relationsResource.getAll();\r\n    let relationsOptions = relations.map(relation => {\r\n      return {\r\n        label: relation.title,\r\n        value: relation.name,\r\n      };\r\n    });\r\n    this.setState(state => ({ ...state, relationsOptions }));\r\n  }\r\n\r\n  /**\r\n   * Добавляет поля из добавленных связей\r\n   * @return {Promise<void>}\r\n   */\r\n  async addForeignFields() {\r\n\r\n  }\r\n\r\n  /**\r\n   * Смена группировки\r\n   */\r\n  changeGroupBy = (group_by) => {\r\n    let _group_by = [];\r\n    if (group_by) group_by.forEach(r => {\r\n      _group_by.push(r.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.group_by = _group_by;\r\n      return newState;\r\n    });\r\n  };\r\n  /**\r\n   * Смена колонок\r\n   */\r\n  changeColumns = (columns) => {\r\n    let _columns = [];\r\n    if (columns) columns.forEach(c => {\r\n      _columns.push(c.value)\r\n    });\r\n    this.setState(state => ({ ...state, value: { ...state.value, columns: _columns } }));\r\n  };\r\n  /**\r\n   * Смена связей\r\n   */\r\n  changeRelations = (relations) => {\r\n    let _relations = [];\r\n    if (relations) relations.forEach(r => {\r\n      _relations.push(r.value)\r\n    });\r\n    this.setState(state => ({ ...state, value: { ...state.value, relations: _relations } }));\r\n  };\r\n  /**\r\n   * Смена ролей\r\n   */\r\n  changeRoles = (roles) => {\r\n    let _roles = [];\r\n    if (roles) roles.forEach(r => {\r\n      _roles.push(r.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.access.roles = _roles;\r\n      return newState;\r\n    });\r\n  };\r\n  /**\r\n   * Смена разрешений\r\n   */\r\n  changePermission = (permissions) => {\r\n    let _permissions = [];\r\n    if (permissions) permissions.forEach(p => {\r\n      _permissions.push(p.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.access.permissions = _permissions;\r\n      return newState;\r\n    });\r\n  };\r\n\r\n  valueChangeHandler = ({ target: { value, name } }) => {\r\n    this.setState(state => ({ ...state, value: { ...state.value, [name]: value } }));\r\n  }\r\n\r\n  // обработчик изменения поля title, изменяющий значение поля name\r\n  titleChangeHandler(e) {\r\n    e.persist();\r\n    this.setState(state => ({\r\n      ...state,\r\n      value: {\r\n        ...state.value,\r\n        title: e.target.value,\r\n        name: titleToName(e.target.value)\r\n      }\r\n    }))\r\n  }\r\n\r\n  // обработчики событий для массива aggregates\r\n  aggregateChangeHandler({ target: { value, name } }, index) {\r\n    this.setState(state => {\r\n      const aggregates = [...state.value.aggregates];\r\n      aggregates[index] = { ...state.value.aggregates[index], [name]: value };\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, aggregates }\r\n      };\r\n    });\r\n  }\r\n\r\n  aggregateAddHandler() {\r\n    this.setState(state => {\r\n      const aggregates = [...state.value.aggregates];\r\n      aggregates.push({ type: '', column: '', alias: ''/* , id: this.counter */ });\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, aggregates }\r\n      };\r\n    });\r\n  }\r\n\r\n  aggregateDeleteHandler(index) {\r\n    this.setState(state => {\r\n      const aggregates = [...state.value.aggregates];\r\n      aggregates.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, aggregates }\r\n      };\r\n    });\r\n  }\r\n\r\n  aggregateToggle = () => {\r\n    this.setState(state => ({\r\n      isAggregateRaw: !state.isAggregateRaw,\r\n      value: {\r\n        ...state.value,\r\n        aggregates: state.isAggregateRaw ? [{ type: '', column: '', alias: '' }] : ''\r\n      }\r\n    }));\r\n  }\r\n\r\n  // обработчики событий для массива joins\r\n  joinChangeHandler({ target: { value, name } }, index) {\r\n    this.setState(state => {\r\n      const joins = [...state.value.joins];\r\n      joins[index] = { ...state.value.joins[index], [name]: value };\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, joins }\r\n      };\r\n    });\r\n  }\r\n\r\n  joinAddHandler() {\r\n    this.setState(state => {\r\n      const joins = [...state.value.joins];\r\n      joins.push({\r\n        type: '', target_table: '', source_column: '', operator: '', target_column: ''\r\n      });\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, joins }\r\n      };\r\n    });\r\n  }\r\n\r\n  joinDeleteHandler(index) {\r\n    this.setState(state => {\r\n      const joins = [...state.value.joins];\r\n      joins.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, joins }\r\n      };\r\n    });\r\n  }\r\n\r\n  // обработчики событий для массива conditions\r\n  conditionAddHandler = () => {\r\n    this.setState(state => {\r\n      const conditions = [...state.value.conditions];\r\n      conditions.push({ condition_type: '' });\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, conditions }\r\n      };\r\n    });\r\n  }\r\n\r\n  conditionChangeHandler({ target: { value, name, checked } }, index) {\r\n    this.setState(state => {\r\n      const conditions = [...state.value.conditions];\r\n      let condition;\r\n      if (name === 'condition_type') {\r\n        switch (value) {\r\n          case 'where':\r\n          case 'or_where':\r\n            condition = { condition_type: value, column: '', operator: '', value: '' };\r\n            break;\r\n          case 'where_between':\r\n          case 'where_in':\r\n            condition = index === 0 ?\r\n              { condition_type: value, not: false, column: '', values: [] } :\r\n              { condition_type: value, or: false, not: false, column: '', values: [] };\r\n            break;\r\n          case 'where_date':\r\n            condition = { condition_type: value, type: 'year', column: '', value: '2020' };\r\n            break;\r\n          case 'where_column':\r\n            condition = index === 0 ?\r\n              { condition_type: value, first_column: '', operator: '', second_column: '' } :\r\n              { condition_type: value, or: false, first_column: '', operator: '', second_column: '' };\r\n            break;\r\n\r\n          default:\r\n            throw new Error('invalid condition type');\r\n        }\r\n      } else {\r\n        switch (name) {\r\n          case 'value1':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              values: [value, state.value.conditions[index].values[1]]\r\n            };\r\n            break;\r\n          case 'value2':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              values: [state.value.conditions[index].values[0], value]\r\n            };\r\n            break;\r\n          case 'values':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              [name]: value.split(',').map(item => item.trim())\r\n            };\r\n            break;\r\n          case 'type':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              type: value,\r\n              value: moment(new Date()).format(getMomentFormat(value))\r\n            };\r\n            break;\r\n          case 'operator':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              [name]: value\r\n            };\r\n            condition.condition_type === 'where_column' ?\r\n              condition.second_column = condition.second_column || '' :\r\n              condition.value = condition.value || ''\r\n            break;\r\n\r\n          default:\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              [name]: ['or', 'not'].includes(name) ? checked : value\r\n            };\r\n            break;\r\n        }\r\n\r\n      }\r\n      conditions[index] = condition;\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, conditions }\r\n      };\r\n    });\r\n  }\r\n\r\n  conditionDeleteHandler(index) {\r\n    this.setState(state => {\r\n      const conditions = [...state.value.conditions];\r\n      conditions.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, conditions }\r\n      };\r\n    });\r\n  }\r\n\r\n  // обработчики событий для массива orderBy\r\n  orderByChangeHandler({ target: { value, name } }, index) {\r\n    this.setState(state => {\r\n      const order_by = [...state.value.order_by];\r\n      order_by[index] = { ...state.value.order_by[index], [name]: value };\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, order_by }\r\n      };\r\n    });\r\n  }\r\n\r\n  orderByAddHandler() {\r\n    // this.counter++;\r\n\r\n    this.setState(state => {\r\n      const order_by = [...state.value.order_by];\r\n      order_by.push({ type: 'asc', column: ''/* , id: this.counter */ });\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, order_by }\r\n      };\r\n    });\r\n  }\r\n\r\n  orderByDeleteHandler(index) {\r\n    this.setState(state => {\r\n      const order_by = [...state.value.order_by];\r\n      order_by.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, order_by }\r\n      };\r\n    })\r\n  }\r\n\r\n  // обработчик изменения для multiple-селектов\r\n  multipleSelectChangeHandler({ target: { value, name } }) {\r\n    this.setState(state => {\r\n      const array = [...state[name]];\r\n\r\n      if (array.includes(value)) {\r\n        const index = array.indexOf(value);\r\n        array.splice(index, 1);\r\n      } else {\r\n        array.push(value);\r\n      }\r\n\r\n      return { ...state, [name]: array };\r\n    })\r\n  }\r\n\r\n  offsetDeleteHandler = () => {\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      delete newState.value.offset;\r\n      return newState;\r\n    })\r\n  }\r\n\r\n  limitDeleteHandler = () => {\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      delete newState.value.offset;\r\n      delete newState.value.limit;\r\n      return newState;\r\n    })\r\n  }\r\n\r\n  async submitHandler(e) {\r\n    const { modelId, id } = this.props.match.params;\r\n    e.preventDefault();\r\n\r\n    const isNameTaken = await fetch(`/admin/ajax/models/${modelId}/sql_builder_name_is_free?name=${this.state.value.name}`)\r\n      .then(res => res.json())\r\n      .then(res => !res.taken);\r\n\r\n    if (isNameTaken) {\r\n      return alert(`Name ${this.state.value.name} is already taken. Use another one.`)\r\n    }\r\n\r\n    (id ?\r\n      this.sqlResource.put(id, this.state.value) :\r\n      this.sqlResource.post(this.state.value))\r\n      .then(() => this.props.history.push(`/admin/tables/models/edit/${modelId}`));\r\n  }\r\n\r\n  /**\r\n   * сохранить связи\r\n   */\r\n  setRelations = (relations) => {\r\n    let _relations = [];\r\n    relations.forEach(r => {\r\n      _relations.push(r.value);\r\n    });\r\n    this.setState(state => ({ ...state, relations: _relations }))\r\n  };\r\n  /**\r\n   * сохранить колонки\r\n   */\r\n  setColumns = (columns) => {\r\n    let _columns = [];\r\n    columns.forEach(c => {\r\n      _columns.push(c.value)\r\n    });\r\n    this.setState(state => ({ ...state, columns: _columns }))\r\n  };\r\n\r\n  render() {\r\n    const { title, name, relations, columns, aggregates, joins, conditions, order_by, group_by, offset, limit } = this.state.value;\r\n    const { roles, permissions } = this.state.value.access;\r\n    const { selfFieldsOptions, permissionsOptions, relationsOptions, rolesOptions, tablesOptions, isAggregateRaw /* isOffsetDisable, isLimitDisable  */ } = this.state;\r\n    const { modelId } = this.props.match.params;\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"row\">\r\n        <div className=\"form-group  col-6\">\r\n          <label htmlFor=\"title\">Title</label>\r\n          <input type=\"text\" id=\"title\" required name=\"title\"\r\n            value={title}\r\n            onChange={this.titleChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group col-6 \">\r\n          <label htmlFor=\"name\">Name</label>\r\n          <input type=\"text\" id=\"name\" required name=\"name\"\r\n            value={name}\r\n            onChange={this.valueChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group col-6\">\r\n          <label htmlFor=\"relations\">With</label>\r\n          <AltrpSelect\r\n            closeMenuOnSelect={false}\r\n            onChange={this.changeRelations}\r\n            value={_.filter(relationsOptions, r => relations.indexOf(r.value) >= 0)}\r\n            options={relationsOptions}\r\n            isMulti={true} />\r\n        </div>\r\n\r\n        <div className=\"form-group col-6\">\r\n          <label htmlFor=\"columns\">Fields</label>\r\n\r\n          <AltrpSelect\r\n            closeMenuOnSelect={false}\r\n            onChange={this.changeColumns}\r\n            value={_.filter(selfFieldsOptions, c => columns.indexOf(c.value) >= 0)}\r\n            options={selfFieldsOptions}\r\n            isMulti={true} />\r\n        </div>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Access</h2>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"roles\">Roles</label>\r\n\r\n          <AltrpSelect id=\"roles\"\r\n            closeMenuOnSelect={false}\r\n            value={_.filter(rolesOptions, r => roles.indexOf(r.value) >= 0)}\r\n            isMulti={true}\r\n            onChange={this.changeRoles}\r\n            options={rolesOptions} />\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"permissions\">Permissions</label>\r\n          <AltrpSelect id=\"roles\"\r\n            value={_.filter(permissionsOptions, p => permissions.indexOf(p.value) >= 0)}\r\n            closeMenuOnSelect={false}\r\n            isMulti={true}\r\n            onChange={this.changePermission}\r\n            options={permissionsOptions} />\r\n        </div>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Joins</h2>\r\n      {joins.map((item, index) => <Fragment key={index}>\r\n        {index !== 0 && <hr />}\r\n        <div className=\"text-right\">\r\n          <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.joinDeleteHandler(index)}>\r\n            ✖\r\n          </button>\r\n        </div>\r\n        <JoinComponent item={item}\r\n          tablesOptions={tablesOptions}\r\n          sourceColumnOptions={selfFieldsOptions}\r\n          changeHandler={e => this.joinChangeHandler(e, index)}\r\n        />\r\n      </Fragment>)}\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.joinAddHandler}>\r\n          + New Join\r\n        </button>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Aggregates</h2>\r\n\r\n      {(!!aggregates.length || isAggregateRaw) &&\r\n        <div className=\"text-center\">\r\n          <button className={`btn ${isAggregateRaw ? 'btn_success' : ''}`} type=\"button\" onClick={this.aggregateToggle}>\r\n            Aggregate Raw\r\n          </button>\r\n        </div>}\r\n\r\n      {isAggregateRaw ?\r\n        <div className=\"form-group\">\r\n          <input type=\"text\" id=\"aggregates\" required name=\"aggregates\"\r\n            value={aggregates}\r\n            onChange={this.valueChangeHandler}\r\n            className=\"form-control\" />\r\n        </div> :\r\n        aggregates.map((item, index) => <Fragment key={index}>\r\n          {index !== 0 && <hr />}\r\n          <div className=\"text-right\">\r\n            <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.aggregateDeleteHandler(index)}>\r\n              ✖\r\n            </button>\r\n          </div>\r\n          <AggregateComponent item={item}\r\n            columnsOptions={selfFieldsOptions}\r\n            changeHandler={e => this.aggregateChangeHandler(e, index)}\r\n          />\r\n        </Fragment>)}\r\n\r\n      {!isAggregateRaw && <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.aggregateAddHandler}>\r\n          + New Aggregate\r\n        </button>\r\n      </div>}\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Conditions</h2>\r\n\r\n      {conditions.map((condition, index) => <Fragment key={index}>\r\n        <div className=\"text-right\">\r\n          <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.conditionDeleteHandler(index)}>\r\n            ✖\r\n          </button>\r\n        </div>\r\n        {index !== 0 && <hr />}\r\n        <ConditionComponent\r\n          item={condition}\r\n          isFirst={index === 0}\r\n          columnsOptions={selfFieldsOptions}\r\n          changeHandler={e => this.conditionChangeHandler(e, index)}\r\n        />\r\n\r\n      </Fragment>)}\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.conditionAddHandler}>\r\n          + New Condition\r\n        </button>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Order By</h2>\r\n\r\n      {order_by.map((item, index) => <Fragment key={index}>\r\n        {index !== 0 && <hr />}\r\n        <div className=\"text-right\">\r\n          <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.orderByDeleteHandler(index)}>\r\n            ✖\r\n          </button>\r\n        </div>\r\n        <OrderByComponent\r\n          item={item}\r\n          columnsOptions={selfFieldsOptions}\r\n          changeHandler={e => this.orderByChangeHandler(e, index)}\r\n        />\r\n      </Fragment>)}\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.orderByAddHandler}>\r\n          + New Order\r\n        </button>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Group By</h2>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"group_by\">Fields</label>\r\n\r\n        <AltrpSelect\r\n          id=\"group_by\"\r\n          closeMenuOnSelect={false}\r\n          onChange={this.changeGroupBy}\r\n          value={_.filter(selfFieldsOptions, f => group_by.indexOf(f.value) >= 0)}\r\n          options={selfFieldsOptions}\r\n          isMulti={true} />\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Pagination Settings</h2>\r\n\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\"\r\n          onClick={() => this.setState({ value: { ...this.state.value, limit: 'REQUEST:pageSize' } })}\r\n        >\r\n          Add Limit\r\n        </button>\r\n      </div>\r\n\r\n      {limit && <div className=\"centred mt-3\">\r\n        <button className=\"btn btn_success\" type=\"button\"\r\n          onClick={() => this.setState({ value: { ...this.state.value, offset: 'REQUEST:pageSize * (REQUEST:page - 1)' } })}\r\n        >\r\n          Add Offset\r\n        </button>\r\n      </div>}\r\n\r\n      <div className=\"row\">\r\n        {offset && <div className=\"form-group  col-6\">\r\n          <div className=\"text-right\">\r\n            <button className=\"btn btn_failure\" type=\"button\" onClick={this.offsetDeleteHandler}>\r\n              ✖\r\n            </button>\r\n          </div>\r\n          <label htmlFor=\"offset\">Offset</label>\r\n          {/* <label className=\"label_checkbox float-right\">\r\n            <input type=\"checkbox\"\r\n              className=\"form-check-input\"\r\n              checked={isOffsetDisable}\r\n              onChange={() => this.setState({ isOffsetDisable: !isOffsetDisable })}\r\n            /> Blocked\r\n          </label> */}\r\n          <input type=\"text\" id=\"offset\" required name=\"offset\"\r\n            value={offset}\r\n            // disabled={isOffsetDisable}\r\n            onChange={this.valueChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>}\r\n\r\n        {limit && <div className=\"form-group col-6 \">\r\n          <div className=\"text-right\">\r\n            <button className=\"btn btn_failure\" type=\"button\" onClick={this.limitDeleteHandler}>\r\n              ✖\r\n            </button>\r\n          </div>\r\n          <label htmlFor=\"limit\">Limit</label>\r\n          {/* <label className=\"label_checkbox float-right\">\r\n            <input type=\"checkbox\"\r\n              className=\"form-check-input\"\r\n              checked={isLimitDisable}\r\n              onChange={() => this.setState({ isLimitDisable: !isLimitDisable })}\r\n            /> Blocked\r\n          </label> */}\r\n          <input type=\"text\" id=\"limit\" required name=\"limit\"\r\n            value={limit}\r\n            // disabled={isLimitDisable}\r\n            onChange={this.valueChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>}\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper btn_add centred\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Save</button>\r\n        <Link className=\"btn\" to=\"/admin/tables/models\">Cancel</Link>\r\n      </div>\r\n    </form >\r\n  }\r\n}\r\n\r\nexport default withRouter(SQLBuilderForm);\r\n","import React, { Component } from \"react\";\r\nimport SQLBuilderForm from \"./sql-builder/SQLBuilderForm\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nclass SQLBuilder extends Component {\r\n  render() {\r\n    return <div className=\"admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">SQL</a>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <SQLBuilderForm />\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(SQLBuilder);","import React, { Component } from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nimport AltrpSelect from \"../../altrp-select/AltrpSelect\";\r\n\r\nclass SQLsRemoteFieldForm extends Component {\r\n  state = {\r\n    name: '',\r\n    column_name: '',\r\n    remote_find_column: '',\r\n    remote_need_column: '',\r\n    as_object: true,\r\n    single_source_id: '',\r\n    list_source_id: '',\r\n    enabled: true,\r\n    dataSourceOptions: [],\r\n    ...this.props.field\r\n  };\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const resource = new Resource({ route: '/admin/ajax/data_source_options' });\r\n    const { options } = await resource.getAll();\r\n    this.setState({ dataSourceOptions: options });\r\n  }\r\n\r\n  submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const model_id = this.props.match.params.id\r\n    this.props.field ?\r\n      await this.props.remoteFieldsResource.put(this.props.field.id, { ...this.state, model_id }) :\r\n      await this.props.remoteFieldsResource.post({ ...this.state, model_id });\r\n    this.props.updateRemoteFields();\r\n  };\r\n\r\n  render() {\r\n    const { name, column_name, remote_find_column, remote_need_column, as_object, single_source_id,\r\n      list_source_id, enabled, dataSourceOptions } = this.state;\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" required\r\n          name=\"name\"\r\n          value={name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"column_name\">Column Name</label>\r\n        <input type=\"text\" id=\"column_name\" required\r\n          name=\"column_name\"\r\n          value={column_name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"remote_find_column\">Remote Find Column</label>\r\n        <input type=\"text\" id=\"remote_find_column\"\r\n          required\r\n          name=\"remote_find_column\"\r\n          value={remote_find_column}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"remote_need_column\">Remote Need Column</label>\r\n        <input type=\"text\" id=\"remote_need_column\"\r\n          required\r\n          name=\"remote_need_column\"\r\n          value={remote_need_column}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <input type=\"checkbox\" id=\"as_object\"\r\n          checked={as_object}\r\n          onChange={e => this.setState({ as_object: e.target.checked })}\r\n        />\r\n        <label className=\"checkbox-label\" htmlFor=\"as_object\">As Object</label>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"single_source_id\">Single Source</label>\r\n        <AltrpSelect required\r\n          options={dataSourceOptions}\r\n          onChange={({ value }) => {\r\n            this.setState(state => ({ ...state, single_source_id: value }));\r\n          }}\r\n          value={dataSourceOptions.find(({ value }) => value === single_source_id)} />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"list_source_id\">List Source</label>\r\n        <AltrpSelect required\r\n          options={dataSourceOptions}\r\n          onChange={({ value }) => {\r\n            this.setState(state => ({ ...state, list_source_id: value }));\r\n          }}\r\n          value={dataSourceOptions.find(({ value }) => value === list_source_id)} />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <input type=\"checkbox\" id=\"enabled\"\r\n          checked={enabled}\r\n          onChange={e => this.setState({ enabled: e.target.checked })}\r\n        />\r\n        <label className=\"checkbox-label\" htmlFor=\"enabled\">Enabled</label>\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Submit</button>\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(SQLsRemoteFieldForm);","import React, {Component} from \"react\";\r\nimport {Link, withRouter} from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {titleToName} from \"../../js/helpers\";\r\nimport store from '../../js/store/store';\r\n\r\nimport AdminTable from \"../AdminTable\";\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\nimport AdminModal2 from \"../AdminModal2\";\r\nimport SQLsRemoteFieldForm from \"./RemoteFieldForms/SQLsRemoteFieldForm\";\r\n\r\nconst remoteFieldsColumns = [\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'remote_find_column',\r\n    title: 'Remote Find Column'\r\n  },\r\n  {\r\n    name: 'remote_need_column',\r\n    title: 'Remote Need Column'\r\n  }\r\n]\r\n\r\nclass SqlEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let storeState = store.getState();\r\n    this.state = {\r\n      modelTitle: 'Model Title',\r\n      value: {\r\n        paged: false,\r\n        is_object: false,\r\n        auth: false,\r\n      },\r\n      modelsOptions: [],\r\n      AceEditor: storeState.aceEditorReducer.AceEditor,\r\n      AceEditorResponse: storeState.aceEditorReducer.AceEditor,\r\n      remoteFields: [],\r\n      editingRemoteField: null,\r\n      isFieldRemoteModalOpened: false,\r\n      testResponse: '',\r\n      testParams: {}\r\n    };\r\n    this.sqlEditorResource = new Resource({route: `/admin/ajax/sql_editors`});\r\n    this.sqlEditorTest = new Resource({route: `/admin/ajax/sql_editors/test`});\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/model_options' });\r\n    this.remoteFieldsResource = new Resource({ route: `/admin/ajax/remote_data/sql_editor/${this.props.match.params.id}` });\r\n    this.onTest = this.onTest.bind(this);\r\n    store.subscribe(this.aceEditorObserver);\r\n  }\r\n\r\n  /**\r\n   * AceEditor загрузился\r\n   */\r\n  aceEditorObserver = () => {\r\n    let storeState = store.getState();\r\n    this.setState(state=>({\r\n        ...state,\r\n      AceEditor: storeState.aceEditorReducer.AceEditor\r\n    }))\r\n  };\r\n  /**\r\n   * Компонент загрузился\r\n   * @return {Promise<void>}\r\n   */\r\n  async componentDidMount() {\r\n    const {id} = this.props.match.params;\r\n    if(id){\r\n      this.remoteFieldsResource.getAll()\r\n        .then(remoteFields => this.setState({ remoteFields }));\r\n\r\n      let value = await this.sqlEditorResource.get(id);\r\n      this.editor = null;\r\n      this.setState(state=>({\r\n          ...state,\r\n        value,\r\n      }))\r\n    }\r\n    let { options } = await this.modelsResource.getAll();\r\n    options = options.filter(option => (option.label !== 'User'));\r\n    this.setState({ modelsOptions: options });\r\n  }\r\n\r\n  updateRemoteFields = async () => {\r\n    let remoteFields = await this.remoteFieldsResource.getAll();\r\n    this.setState(state => ({ ...state, remoteFields, isFieldRemoteModalOpened: false, editingRemoteField: null }));\r\n  }\r\n\r\n  /**\r\n   * Имзенить поле\r\n   * @param {*} value\r\n   * @param {string} field\r\n   */\r\n  changeValue(value, field) {\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      if(field === 'name'){\r\n        state.value[field] = titleToName(value);\r\n      }else{\r\n        state.value[field] = value;\r\n      }\r\n      if(field === 'title') {\r\n        state.value.name = titleToName(value);\r\n      }\r\n      if(field === 'test') {\r\n        state.value.test = value;\r\n        let res = {};\r\n        const arr = value.split('&');\r\n        if (arr.length > 0) {\r\n          for(let item of arr) {\r\n            const a = item.split('=');\r\n            if (a[0]) {\r\n              res[a[0]] = a[1];\r\n            }\r\n          }\r\n        }\r\n        state.testParams = res;\r\n        state.testParams.sql = state.value.sql;\r\n      }\r\n      return state\r\n    })\r\n  }\r\n  /**\r\n   * отправка данных\r\n   * @return {*}\r\n   */\r\n  onSubmit = async e => {\r\n    const {id} = this.props.match.params;\r\n    e.preventDefault();\r\n    let res;\r\n    if(! this.state.value.sql){\r\n      return alert('Заполните SQL Query');\r\n    }\r\n    if(id){\r\n      res = await this.sqlEditorResource.put(id, this.state.value);\r\n    } else {\r\n      res = await this.sqlEditorResource.post(this.state.value);\r\n    }\r\n    if(res.success){\r\n      this.props.history.push('/admin/tables/sql_editors');\r\n    } else {\r\n      alert(res.message);\r\n    }\r\n  };\r\n\r\n  onTest = async () => {\r\n    this.state.testParams.sql = this.state.value.sql;\r\n    let testResponse = await this.sqlEditorTest.post(this.state.testParams);\r\n    if (testResponse.success)\r\n      testResponse = JSON.stringify(testResponse.success);\r\n    if (testResponse.error)\r\n      testResponse = JSON.stringify(testResponse.error);\r\n    this.setState(state => ({\r\n      ...state,\r\n      testResponse\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    const {id} = this.props.match.params;\r\n    const { isFieldRemoteModalOpened, remoteFields, editingRemoteField } = this.state;\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/sql_editors\">All  SQL Editors</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n\r\n          <span className=\"admin-breadcrumbs__current\">Add SQL Query</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <form className=\"admin-form field-form\" onSubmit={this.onSubmit}>\r\n          <div className=\"row\">\r\n            <div className=\"form-group col-6\">\r\n              <label htmlFor=\"field-title\">Title</label>\r\n              <input type=\"text\" id=\"field-title\" required\r\n                     value={this.state.value.title || ''}\r\n                     onChange={e => {\r\n                       this.changeValue(e.target.value, 'title')\r\n                     }}\r\n                     className=\"form-control\"/>\r\n            </div>\r\n            <div className=\"form-group col-6\">\r\n              <label htmlFor=\"field-name\">Name</label>\r\n              <input type=\"text\" id=\"field-name\" required readOnly={id}\r\n                     value={this.state.value.name || ''}\r\n                     onChange={e => {\r\n                       this.changeValue(e.target.value, 'name')\r\n                     }}\r\n                     className=\"form-control\"/>\r\n            </div>\r\n            <div className=\"form-group col-12\">\r\n              <label htmlFor=\"field-name\">Description</label>\r\n              <input type=\"text\" id=\"field-description\"\r\n                     value={this.state.value.description || ''}\r\n                     onChange={e => {\r\n                       this.changeValue(e.target.value, 'description')\r\n                     }}\r\n                     className=\"form-control\"/>\r\n            </div>\r\n            {/*<div className=\"form-group col-12\">*/}\r\n              {/*<input type=\"checkbox\" id=\"relation-paged\"*/}\r\n                     {/*checked={this.state.value.paged}*/}\r\n                     {/*onChange={e => { this.changeValue(e.target.checked, 'paged') }}*/}\r\n              {/*/>*/}\r\n              {/*<label className=\"checkbox-label\" htmlFor=\"relation-paged\">Paged</label>*/}\r\n            {/*</div>*/}\r\n            <div className=\"form-group col-12\">\r\n              <label htmlFor=\"relation-model_id\">Model</label>\r\n              <select id=\"relation-model_id\" required disabled={id}\r\n                      value={this.state.value.model_id || ''}\r\n                      onChange={e => { this.changeValue(e.target.value, 'model_id') }}\r\n                      className=\"form-control\"\r\n              >\r\n                <option disabled value=\"\" />\r\n                {this.state.modelsOptions.map(({ value, label }) =>\r\n                    <option key={value} value={value}>\r\n                      {label}\r\n                    </option>)}\r\n              </select>\r\n            </div>\r\n            <div className=\"form-group col-12\">\r\n              <input type=\"checkbox\" id=\"field-auth\"\r\n                     checked={this.state.value.auth} value={this.state.value.auth}\r\n                     onChange={e => { this.changeValue(e.target.checked, 'auth') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-auth\">Auth</label>\r\n            </div>\r\n            <div className=\"form-group col-12\">\r\n              <input type=\"checkbox\" id=\"field-is_object\"\r\n                     checked={this.state.value.is_object} value={this.state.value.is_object}\r\n                     onChange={e => { this.changeValue(e.target.checked, 'is_object') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-is_object\">As Object</label>\r\n            </div>\r\n            {!this.state.value.auth ? '' : <><div className=\"form-group col-4\">\r\n              <label htmlFor=\"field-roles\">Roles</label>\r\n              <AltrpSelect id=\"field-roles\"\r\n                           isMulti={true}\r\n                           optionsRoute=\"/admin/ajax/role_options\"\r\n                           placeholder=\"All\"\r\n                           defaultOptions={[\r\n                             {\r\n                               value: null,\r\n                               label: 'All',\r\n                             }\r\n                           ]}\r\n                           value={this.state.value.roles}\r\n                           onChange={value => {this.changeValue(value, 'roles')}}\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-4\">\r\n              <label htmlFor=\"field-permissions\">Permissions</label>\r\n              <AltrpSelect id=\"field-permissions\"\r\n                           isMulti={true}\r\n                           optionsRoute=\"/admin/ajax/permissions_options\"\r\n                           placeholder=\"All\"\r\n                           defaultOptions={[\r\n                             {\r\n                               value: null,\r\n                               label: 'All',\r\n                             }\r\n                           ]}\r\n                           value={this.state.value.permissions}\r\n                           onChange={value => {this.changeValue(value, 'permissions')}}\r\n              />\r\n            </div></>}\r\n            <div className=\"form-group col-12\">\r\n              <label htmlFor=\"field-name\">SQL Query</label>\r\n              {this.state.AceEditor && (this.editor = (this.editor || <this.state.AceEditor\r\n                  mode=\"sql\"\r\n                  theme=\"textmate\"\r\n                  onChange={value => {\r\n                    this.changeValue(value, 'sql')\r\n                  }}\r\n                  className=\"field-ace\"\r\n                  name=\"aceEditor\"\r\n                  height=\"15em\"\r\n                  setOptions={{\r\n                    value: this.state.value.sql || ''\r\n                  }}\r\n                  showPrintMargin={false}\r\n                  style={{\r\n                    width: '100%'\r\n                  }}\r\n                  enableLiveAutocompletion={true} />))}\r\n            </div>\r\n            <div className=\"row col-12\">\r\n              <div className=\"form-group col-11\">\r\n                <input type=\"text\" id=\"field-test\"\r\n                       value={this.state.value.test  || ''}\r\n                       placeholder='Parametr for test (task_id=3&id=1)'\r\n                       onChange={e => {\r\n                         this.changeValue(e.target.value, 'test')\r\n                       }}\r\n                       className=\"form-control\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-1\">\r\n                <button className=\"btn btn_success\" type=\"button\" onClick={this.onTest}>Test</button>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group col-12\">\r\n              <label htmlFor=\"field-name\">Test Result</label>\r\n              <this.state.AceEditorResponse\r\n                mode=\"javascript\"\r\n                theme=\"textmate\"\r\n                onChange={value => {\r\n                  //this.changeValue(value, 'test')\r\n                }}\r\n                className=\"field-ace\"\r\n                name=\"aceEditorResponse\"\r\n                height=\"15em\"\r\n                wrapEnabled={true}\r\n                value={this.state.testResponse || ''}\r\n                showPrintMargin={false}\r\n                style={{\r\n                  width: '100%'\r\n                }}\r\n                enableLiveAutocompletion={false} />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"btn__wrapper btn_add\">\r\n            <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n            <Link className=\"btn\" to={`/admin/tables/sql_editors`}>Cancel</Link>\r\n\r\n\r\n            {/* TODO: отображать кнопку если в форме редактируются данные\r\n          повесить обработчик удаления\r\n        <button className=\"btn btn_failure\">Delete</button> */}\r\n          </div>\r\n        </form>\r\n        {id && <>\r\n          <h2 className=\"sub-header\">Remote Fields</h2>\r\n          <AdminTable\r\n            columns={remoteFieldsColumns}\r\n            quickActions={[{\r\n              callBack: field => this.setState({ isFieldRemoteModalOpened: true, editingRemoteField: field }),\r\n              title: 'Edit'\r\n            }, {\r\n              tag: 'button',\r\n              route: `/admin/ajax/remote_data/:id`,\r\n              method: 'delete',\r\n              confirm: 'Are You Sure?',\r\n              after: () => this.updateRemoteFields(),\r\n              className: 'quick-action-menu__item_danger',\r\n              title: 'Trash'\r\n            }]}\r\n            rows={remoteFields}\r\n          />\r\n          <button onClick={() => this.setState({ isFieldRemoteModalOpened: true, editingRemoteField: null })} className=\"btn btn_add\">\r\n            Add Remote Field\r\n          </button>\r\n        </>}\r\n      </div>\r\n      {isFieldRemoteModalOpened && <AdminModal2 closeHandler={() => this.setState({ isFieldRemoteModalOpened: false, editingRemoteField: null })}>\r\n        <SQLsRemoteFieldForm\r\n          remoteFieldsResource={this.remoteFieldsResource}\r\n          updateRemoteFields={this.updateRemoteFields}\r\n          field={editingRemoteField}\r\n        />\r\n      </AdminModal2>}\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(SqlEditor);\r\n","\r\nimport React, { Component } from \"react\";\r\nimport { Tab, TabList, TabPanel, Tabs } from \"react-tabs\";\r\nimport 'react-tabs/style/react-tabs.scss';\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\nimport AdminTable from \"./AdminTable\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport Pagination from \"./Pagination\";\r\n\r\nconst columns = [\r\n  {\r\n    name: 'name',\r\n    title: 'Name',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'display_name',\r\n    title: 'Display Name'\r\n  },\r\n  {\r\n    name: 'description',\r\n    title: 'Description'\r\n  }\r\n];\r\n\r\nconst rolesResource = new Resource({ route: '/admin/ajax/roles' });\r\nconst permissionsResource = new Resource({ route: '/admin/ajax/permissions' });\r\nconst itemsPerPage = 20;\r\nconst initPaginationProps = {\r\n  pageCount: 1,\r\n  currentPage: 1,\r\n  count: 0\r\n};\r\nclass AccessOptions extends Component {\r\n  state = {\r\n    roles: [],\r\n    rolesPagination: initPaginationProps,\r\n    rolesFilter: '',\r\n    rolesSorting: {},\r\n    permissions: [],\r\n    permissionsPagination: initPaginationProps,\r\n    permissionsFilter: '',\r\n    permissionsSorting: {},\r\n  };\r\n  /**\r\n   * Список ролей\r\n   */\r\n  getRoles = async () => {\r\n    const { rolesPagination, rolesFilter, rolesSorting } = this.state;\r\n    const { roles, count, pageCount } = await rolesResource.getQueried({\r\n      page: rolesPagination.currentPage,\r\n      pageSize: itemsPerPage,\r\n      preset: false,\r\n      s: rolesFilter,\r\n      ...rolesSorting\r\n    });\r\n    this.setState({ roles, rolesPagination: { ...rolesPagination, count, pageCount: pageCount || 1 } });\r\n  }\r\n\r\n  rolesSortingHandler = (order_by, order) => {\r\n    this.setState({ rolesSorting: { order_by, order } }, this.getRoles);\r\n  }\r\n  /**\r\n   * Список permissions\r\n   */\r\n  getPermissions = async () => {\r\n    const { permissionsPagination, permissionsFilter, permissionsSorting } = this.state;\r\n    const { permissions, count, pageCount } = await permissionsResource.getQueried({\r\n      page: permissionsPagination.currentPage,\r\n      pageSize: itemsPerPage,\r\n      preset: false,\r\n      s: permissionsFilter,\r\n      ...permissionsSorting\r\n    });\r\n    this.setState({ permissions, permissionsPagination: { ...permissionsPagination, count, pageCount: pageCount || 1 } });\r\n  }\r\n\r\n  permissionsSortingHandler = (order_by, order) => {\r\n    this.setState({ permissionsSorting: { order_by, order } }, this.getPermissions);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getRoles();\r\n    this.getPermissions();\r\n  }\r\n\r\n  searchRoles = e => {\r\n    e.preventDefault();\r\n    this.getRoles();\r\n  }\r\n\r\n  searchPermissions = e => {\r\n    e.preventDefault();\r\n    this.getPermissions();\r\n  }\r\n\r\n  render() {\r\n    const { roles, rolesPagination, rolesFilter, rolesSorting, permissions, permissionsPagination, permissionsFilter, permissionsSorting} = this.state;\r\n    const activeTab = this.props.location.pathname === \"/admin/access/roles\" ? 0 : 1;\r\n\r\n    return <div className=\"admin-settings admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">Access</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">\r\n            {activeTab === 0 ? 'All Roles' : 'All Permissions'}\r\n          </span>\r\n        </div>\r\n        <Link className=\"btn\" to={`/admin/access/${activeTab === 0 ? 'roles' : 'permissions'}/add`}>\r\n          Add New\r\n        </Link>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <Tabs selectedIndex={activeTab} onSelect={() => { }}>\r\n          <TabList className=\"nav nav-pills admin-pills\">\r\n            <Link to=\"/admin/access/roles\"><Tab>Roles</Tab></Link>\r\n            <Link to=\"/admin/access/permissions\"><Tab>Permissions</Tab></Link>\r\n          </TabList>\r\n          <TabPanel>\r\n            <form className=\"admin-panel py-2\" onSubmit={this.searchRoles}>\r\n              <input className=\"input-sm mr-2\" value={rolesFilter} onChange={e => this.setState({ rolesFilter: e.target.value })} />\r\n              <button className=\"btn btn_bare admin-users-button\">Search</button>\r\n            </form>\r\n            <AdminTable\r\n              columns={columns}\r\n              quickActions={[\r\n                {\r\n                  tag: 'Link',\r\n                  props: { href: '/admin/access/roles/edit/:id' },\r\n                  title: 'Edit'\r\n                },\r\n                {\r\n                  tag: 'button',\r\n                  route: '/admin/ajax/roles/:id',\r\n                  method: 'delete',\r\n                  confirm: 'Are You Sure?',\r\n                  after: () => this.getRoles(),\r\n                  className: 'quick-action-menu__item_danger',\r\n                  title: 'Trash'\r\n                }\r\n              ]}\r\n              rows={roles.map(role => ({\r\n                ...role,\r\n                editUrl: '/admin/access/roles/edit/' + role.id\r\n              }))}\r\n              sortingHandler={this.rolesSortingHandler}\r\n              sortingField={rolesSorting.order_by}\r\n            />\r\n            <Pagination pageCount={rolesPagination.pageCount}\r\n              currentPage={rolesPagination.currentPage}\r\n              changePage={currentPage => this.setState({ rolesPagination: { ...rolesPagination, currentPage } }, this.getRoles)}\r\n              itemsCount={rolesPagination.count}\r\n            />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <form className=\"admin-panel py-2\" onSubmit={this.searchPermissions}>\r\n              <input className=\"input-sm mr-2\" value={permissionsFilter} onChange={e => this.setState({ permissionsFilter: e.target.value })} />\r\n              <button className=\"btn btn_bare admin-users-button\">Search</button>\r\n            </form>\r\n            <AdminTable\r\n              columns={columns}\r\n              quickActions={[\r\n                {\r\n                  tag: 'Link',\r\n                  props: { href: '/admin/access/permissions/edit/:id' },\r\n                  title: 'Edit'\r\n                },\r\n                {\r\n                  tag: 'button',\r\n                  route: '/admin/ajax/permissions/:id',\r\n                  method: 'delete',\r\n                  confirm: 'Are You Sure?',\r\n                  after: () => this.getPermissions(),\r\n                  className: 'quick-action-menu__item_danger',\r\n                  title: 'Trash'\r\n                }\r\n              ]}\r\n              rows={permissions.map(permission => ({\r\n                ...permission,\r\n                editUrl: '/admin/access/permissions/edit/' + permission.id\r\n              }))}\r\n              sortingHandler={this.permissionsSortingHandler}\r\n              sortingField={permissionsSorting.order_by}\r\n            />\r\n            <Pagination pageCount={permissionsPagination.pageCount}\r\n              currentPage={permissionsPagination.currentPage}\r\n              changePage={currentPage => this.setState({ permissionsPagination: { ...permissionsPagination, currentPage } }, this.getPermissions)}\r\n              itemsCount={permissionsPagination.count}\r\n            />\r\n          </TabPanel>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(AccessOptions);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nconst rolesResource = new Resource({ route: '/admin/ajax/roles' });\r\n\r\nclass RoleForm extends Component {\r\n  state = {\r\n    name: '',\r\n    display_name: '',\r\n    description: ''\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    if (id) {\r\n      const { name, display_name, description } = await rolesResource.get(id);\r\n      this.setState({ name, display_name, description });\r\n    }\r\n  }\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  deleteHandler = () => {\r\n    const { id } = this.props.match.params;\r\n    rolesResource.delete(id)\r\n      .then(() => this.props.history.push('/admin/access/roles'));\r\n  };\r\n\r\n  submitHandler = e => {\r\n    const { id } = this.props.match.params;\r\n    e.preventDefault();\r\n    (id ? rolesResource.put(id, this.state) : rolesResource.post(this.state))\r\n      .then(() => this.props.history.push('/admin/access/roles'));\r\n  }\r\n\r\n  render() {\r\n    const { name, display_name, description } = this.state;\r\n    const isEditing = Boolean(this.props.match.params.id);\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" required name=\"name\"\r\n          value={name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"display_name\">Display Name</label>\r\n        <input type=\"text\" id=\"display_name\" name=\"display_name\"\r\n          value={display_name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"description\">Description</label>\r\n        <input type=\"text\" id=\"description\"  name=\"description\"\r\n          value={description}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link to=\"/admin/access/roles\"><button className=\"btn\">Cancel</button></Link>\r\n        {isEditing && <button className=\"btn btn_failure\" type=\"button\" onClick={this.deleteHandler}>\r\n          Delete\r\n        </button>}\r\n      </div>\r\n    </form >\r\n  }\r\n}\r\n\r\nexport default withRouter(RoleForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport RoleForm from \"./RoleForm\";\r\n\r\nclass RolePage extends Component {\r\n  render() {\r\n    const isEditing = Boolean(this.props.match.params.id);\r\n\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/access\">Access / All Roles</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">\r\n            {isEditing ? 'Edit Role' : 'Add New Role'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <RoleForm />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(RolePage);","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nconst permissionsResource = new Resource({ route: '/admin/ajax/permissions' });\r\n\r\nclass PermissionForm extends Component {\r\n  state = {\r\n    name: '',\r\n    display_name: '',\r\n    description: ''\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    if (id) {\r\n      const { name, display_name, description } = await permissionsResource.get(id);\r\n      this.setState({ name, display_name, description });\r\n    }\r\n  }\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  deleteHandler = () => {\r\n    const { id } = this.props.match.params;\r\n    permissionsResource.delete(id)\r\n      .then(() => this.props.history.push('/admin/access/permissions'));\r\n  }\r\n\r\n  submitHandler = e => {\r\n    const { id } = this.props.match.params;\r\n    e.preventDefault();\r\n    (id ? permissionsResource.put(id, this.state) : permissionsResource.post(this.state))\r\n      .then(() => this.props.history.push('/admin/access/permissions'));\r\n  }\r\n\r\n  render() {\r\n    const { name, display_name, description } = this.state;\r\n    const isEditing = Boolean(this.props.match.params.id);\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" required name=\"name\"\r\n          value={name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"display_name\">Display Name</label>\r\n        <input type=\"text\" id=\"display_name\" name=\"display_name\"\r\n          value={display_name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"description\">Description</label>\r\n        <input type=\"text\" id=\"description\" required name=\"description\"\r\n          value={description}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link to=\"/admin/access/permissions\"><button className=\"btn\">Cancel</button></Link>\r\n        {isEditing && <button className=\"btn btn_failure\" type=\"button\" onClick={this.deleteHandler}>\r\n          Delete\r\n        </button>}\r\n      </div>\r\n    </form >\r\n  }\r\n}\r\n\r\nexport default withRouter(PermissionForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PermissionForm from \"./PermissionForm\";\r\n\r\nclass PermissionPage extends Component {\r\n  render() {\r\n    const isEditing = Boolean(this.props.match.params.id);\r\n\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/access\">Access / All Permissions</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">\r\n            {isEditing ? 'Edit Permission' : 'Add New Permission'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <PermissionForm />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(PermissionPage);","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\n//import TableForm from \"../../../../admin/src/components/tables/TableForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass TableForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: {},\r\n            errors: [],\r\n            redirectAfterSave: false,\r\n        };\r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.saveTable = this.saveTable.bind(this);\r\n    }\r\n    async componentDidMount(){\r\n        let id = this.props.id;\r\n        \r\n        if(id){\r\n            let pageData = await this.resource.get(id);\r\n            this.setState(state=>{\r\n                return{...state, value:pageData, id: id}\r\n            });\r\n        }\r\n    }\r\n    async saveTable(e){\r\n        e.preventDefault();\r\n        let res;\r\n\r\n        if(this.state.id){\r\n            res = await this.resource.put(this.state.id, this.state.value);\r\n        } else {\r\n            res = await this.resource.post(this.state.value);\r\n        }\r\n\r\n        if(res){\r\n            this.setState(state=>{\r\n                return {...state, redirectAfterSave: true}\r\n            });\r\n        } else {\r\n            this.setState(state=>{\r\n                return {...state, value: {}}\r\n            });\r\n        }\r\n    }\r\n    changeValue(value, field){\r\n        this.setState(state=>{\r\n            state = {...state};\r\n            state.value[field] = value;\r\n            return state\r\n        })\r\n    }\r\n    render() {\r\n        if(this.state.redirectAfterSave){\r\n            return <Redirect to={this.props.redirect_url}/>\r\n        }\r\n        return <form className=\"admin-form\" onSubmit={this.saveTable}>\r\n        \r\n            \r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"page-name\">Name</label>\r\n                <input type=\"text\" id=\"page-name\" required={1}\r\n                    value={this.state.value.name || ''}\r\n                    onChange={e => {this.changeValue(e.target.value, 'name')}}\r\n                    className=\"form-control\"/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"page-title\">Title</label>\r\n                <input type=\"text\" id=\"page-title\" required={1}\r\n                    value={this.state.value.title || ''}\r\n                    onChange={e => {this.changeValue(e.target.value, 'title')}}\r\n                    className=\"form-control\"/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"page-description\">Description</label>\r\n                <input type=\"text\" id=\"page-description\" required={1}\r\n                    value={this.state.value.description || ''}\r\n                    onChange={e => {this.changeValue(e.target.value, 'description')}}\r\n                    className=\"form-control\"/>\r\n            </div>\r\n            <button className=\"btn btn_success\">{this.state.id ? 'Save' : 'Add'}</button>\r\n        </form>;\r\n    }\r\n}\r\n\r\nexport default TableForm;","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport TableForm from \"../../../../admin/src/components/tables/TableForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass AddTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            redirect_url: \"/admin/tables\",\r\n        };\r\n    }\r\n    async componentDidMount(){\r\n        let id = this.props.match.params.id;\r\n        \r\n        this.setState((state) => ({\r\n            table_id: id\r\n        }));\r\n    }\r\n\t\r\n    render() {\r\n        return <div className=\"admin-pages admin-page\">\r\n            <div className=\"admin-heading\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables\">Tables</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">Add New Table</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"admin-content\">\r\n                <TableForm id={this.state.table_id} redirect_url={this.state.redirect_url}/>\r\n            </div>\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport default withRouter(AddTable);","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport TableForm from \"../../../../admin/src/components/tables/TableForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass EditTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            redirect_url: \"/admin/tables\",\r\n            table_id: this.props.match.params.id,\r\n            setting_url: \"/admin/tables/edit/\"+this.props.match.params.id+\"/setting\"\r\n        };\r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n    }\r\n    render() {\r\n        if(this.state.redirectAfterSave){\r\n            return <Redirect to=\"/admin/tables\"/>\r\n        }\r\n        return <div className=\"admin-pages admin-page\">\r\n            <div className=\"admin-heading\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables\">Tables</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">Edit Table</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"admin-content\">\r\n                <TableForm id={this.state.table_id} redirect_url={this.state.redirect_url}/>\r\n                <div>\r\n                    <Link to={ this.state.setting_url }>Settings</Link>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>;\r\n    }\r\n}\r\n\r\nexport default withRouter(EditTable);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\n/*\r\nimport store from \"../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../js/store/modal-settings/actions\";\r\nimport {generateId, redirect} from \"../js/helpers\";*/\r\n\r\n\r\nclass MigrationsTable extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            table_id: this.props.match.params.id,\r\n            migrations: [],\r\n            table: {},\r\n            table_columns: [\r\n                {name: 'name',title: 'Name',},\r\n                {name: 'status',title: 'Status',},\r\n                {name: 'created_at',title: 'Created At',},\r\n            ],\r\n        };\r\n        \r\n        this.migrations_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/migrations'});\r\n        this.table_resource = new Resource({route: '/admin/ajax/tables'});\r\n    }\r\n    async componentDidMount(){\r\n        let res = await this.migrations_resource.getAll();\r\n        this.setState(state=>{\r\n            return{...state, migrations:res}\r\n        });\r\n        \r\n        let table_res = await this.table_resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res}\r\n        });\r\n    }\r\n    \r\n    render(){\r\n        return <div>\r\n          <AdminTable columns={this.state.table_columns} rows={this.state.migrations}/>\r\n        </div>\r\n    }\r\n\r\n}\r\n\r\nexport default withRouter(MigrationsTable);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\nimport TimesIcon from '../../svgs/times.svg';\r\n\r\nclass AddModelPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        /**\r\n         * Типы связей\r\n         */\r\n        this.relationship_types = [\r\n            {id: \"hasMany\",name: \"hasMany\"},\r\n            {id: \"hasOne\",name: \"hasOne\"},\r\n            {id: \"belongsTo\",name: \"belongsTo\"},\r\n            {id: \"belongsToMany\",name: \"belongsToMany\"},\r\n            {id: \"hasOneThrough\",name: \"hasOneThrough\"},\r\n            {id: \"hasManyThrough\",name: \"hasManyThrough\"},\r\n            {id: \"morphTo\",name: \"morphTo\"},\r\n            {id: \"morphOne\",name: \"morphOne\"},\r\n            {id: \"morphMany\",name: \"morphMany\"},\r\n            {id: \"morphToMany\",name: \"morphToMany\"},\r\n            {id: \"morphedByMany\",name: \"morphedByMany\"},\r\n        ];\r\n        \r\n        /**\r\n         * Настройки таблицы связей\r\n         */\r\n        this.table_columns = [\r\n            {name: 'id',title: 'ID',},\r\n            {name: 'name',title: 'Name',},\r\n            {name: 'type',title: 'Type',},\r\n            {name: 'model_class',title: 'Model Class',},\r\n            {name: 'foreign_key',title: 'Foreign Key',},\r\n            {name: 'local_key',title: 'Local Key',},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addModalShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ];\r\n        \r\n        /**\r\n         * Связь по умолчанию\r\n         * @type type\r\n         */\r\n        const default_relationship = {\r\n            id: \"\",\r\n            name: '',\r\n            title: '',\r\n            type: \"hasMany\",\r\n            model_class: '',\r\n            foreign_key: '',\r\n            local_key: '',\r\n        };\r\n        \r\n        /**\r\n         * Настройки таблицы формул\r\n         */\r\n        this.accessors_table_columns = [\r\n            {name: 'id',title: 'ID',},\r\n            {name: 'name',title: 'Name',},\r\n            {name: 'formula',title: 'Formula',},\r\n            {name: 'status',title: 'Status',},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addAccessorModalShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteAccessorClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ];\r\n        \r\n        /**\r\n         * Формула по умолчанию\r\n         * @type type\r\n         */\r\n        const default_accessor = {\r\n            id: \"\",\r\n            name: '',\r\n            formula: '',\r\n            description: \"\",\r\n        };\r\n        \r\n        this.state = {\r\n            modal_toogle: false,\r\n            table_id: this.props.match.params.id,\r\n            table: {},\r\n            actual_columns: [],\r\n            fillable_columns: [],\r\n            user_cols: [],\r\n            data: {\r\n                description: \"\",\r\n                fillable_cols: [],\r\n                user_cols: [],\r\n                table_id: this.props.match.params.id,\r\n                path: \"\",\r\n                name: \"\",\r\n                relationships: [],\r\n                pk: \"\",\r\n                time_stamps: false,\r\n                soft_deletes: false\r\n            },\r\n            accessors: [],\r\n            default_relationship: default_relationship,\r\n            selected_relationship: null,\r\n            relationship: default_relationship,\r\n            default_accessor: default_accessor,\r\n            selected_accessor: null,\r\n            accessor: default_accessor,\r\n        };\r\n        \r\n        \r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.model_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/model'});\r\n        this.save_model_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/models'});\r\n        this.accessors_resource = false;\r\n        \r\n        this.addFillableColumn = this.addFillableColumn.bind(this);\r\n        this.deleteFillableColumn = this.deleteFillableColumn.bind(this);\r\n        this.addUserColsColumn = this.addUserColsColumn.bind(this);\r\n        this.deleteUserColsColumn = this.deleteUserColsColumn.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onChangeRelationship = this.onChangeRelationship.bind(this);\r\n        this.saveModel = this.saveModel.bind(this);\r\n        \r\n        this.addRelationship = this.addRelationship.bind(this);\r\n        this.addModalShow = this.addModalShow.bind(this);\r\n        this.toggleModal = this.toggleModal.bind(this);\r\n        this.getModalClasses = this.getModalClasses.bind(this);\r\n        this.onDeleteClick = this.onDeleteClick.bind(this);\r\n        \r\n        this.addAccessorModalShow = this.addAccessorModalShow.bind(this);\r\n        this.onDeleteAccessorClick = this.onDeleteAccessorClick.bind(this);\r\n        \r\n    }\r\n    \r\n    async componentDidMount(){\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res};\r\n        });\r\n        \r\n        let columns_res = await this.resource.get(this.state.table_id+\"/columns\");\r\n        this.setState(state=>{\r\n            return{...state, actual_columns: columns_res, fillable_columns: columns_res, user_cols: columns_res};\r\n        });\r\n        \r\n        let model_data = await this.resource.get(this.state.table_id+\"/model\");\r\n        \r\n        if(model_data) {\r\n             \r\n            \r\n            \r\n            let model = {\r\n                description: model_data.description,\r\n                fillable_cols: this.setCols(model_data.fillable_cols),\r\n                user_cols: this.setCols(model_data.user_cols),\r\n                table_id: model_data.table_id,\r\n                path: model_data.path !== null ? model_data.path : \"\",\r\n                name: model_data.name,\r\n                relationships: model_data.table.relationships,\r\n                pk: model_data.pk,\r\n                time_stamps: model_data.time_stamps,//1 == model_data.time_stamps ? true : false,\r\n                soft_deletes: model_data.soft_deletes//1 == model_data.soft_deletes ? true : false,\r\n            }\r\n            \r\n            this.accessors_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/models/'+model_data.id+\"/accessors\"});\r\n            let accessors_data = await this.accessors_resource.getAll();\r\n\r\n            this.setState(state=>{\r\n                return{...state, data: model, accsessors: accessors_data};\r\n            }, () => {\r\n                \r\n            });\r\n        }\r\n                \r\n        \r\n        \r\n        /*\r\n        let keys_res = await this.resource.get(this.state.table_id+\"/keys\")\r\n        this.setState(state=>{\r\n            return{...state, data: { ...state.data, keys: keys_res}};\r\n        });*/\r\n    }\r\n    \r\n    setCols(value) {\r\n        \r\n        let cols = [];\r\n        \r\n        if(!value) return cols;\r\n        \r\n        if(value == null || value == \"\") return cols;\r\n        \r\n        \r\n        value.replace(/'/g,\"\");\r\n        return value.split(\",\");\r\n    }\r\n    \r\n    addFillableColumn(e) {\r\n        \r\n        let value = e.target.value;\r\n        \r\n        let itemIndex = this.state.data.fillable_cols.indexOf(value);\r\n        \r\n        if(itemIndex !== -1) {\r\n            alert(\"This column has already been added.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...state.data,  fillable_cols: update(state.data.fillable_cols, {$push: [value]})}};\r\n        }, () => {\r\n            //this.toggleModal();\r\n        });\r\n    }\r\n    deleteFillableColumn(e, value) {\r\n        e.preventDefault();\r\n        \r\n        let itemIndex = this.state.data.fillable_cols.indexOf(value);\r\n        \r\n        if(itemIndex === -1) {\r\n            alert(\"This column not found.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...state.data,  fillable_cols: update(state.data.fillable_cols, {$splice: [[itemIndex, 1]]})}};\r\n        }, () => {\r\n            //this.toggleModal();\r\n        });\r\n    }\r\n    \r\n    addUserColsColumn(e) {\r\n        \r\n        let value = e.target.value;\r\n        \r\n        let itemIndex = this.state.data.user_cols.indexOf(value);\r\n        \r\n        if(itemIndex !== -1) {\r\n            alert(\"This column has already been added.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...state.data,  user_cols: update(state.data.user_cols, {$push: [value]})}};\r\n        }, () => {\r\n            //this.toggleModal();\r\n        });\r\n    }\r\n    deleteUserColsColumn(e, value) {\r\n        e.preventDefault();\r\n        \r\n        let itemIndex = this.state.data.user_cols.indexOf(value);\r\n        \r\n        if(itemIndex === -1) {\r\n            alert(\"This column not found.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...state.data,  user_cols: update(state.data.user_cols, {$splice: [[itemIndex, 1]]})}};\r\n        }, () => {\r\n            //this.toggleModal();\r\n        });\r\n    }\r\n    \r\n    onChange(e) {\r\n        let field_name = e.target.name;\r\n        let value = e.target.type === \"checkbox\" ? e.target.checked : e.target.value;\r\n        \r\n        this.setState({ ...this.state, data:{...this.state.data, [field_name]: value}});\r\n    }\r\n    onChangeRelationship(e) {\r\n        let field_name = e.target.name;\r\n        this.setState({ ...this.state, relationship:{...this.state.relationship, [field_name]: e.target.value}});\r\n    }\r\n    \r\n    async saveModel(e) {\r\n        e.preventDefault();\r\n        \r\n        if(this.state.data.name == \"\") {\r\n            alert(\"Enter model name!\");\r\n            return;\r\n        }\r\n        \r\n        let headers = {\r\n            'Content-Type': 'application/json'\r\n        };\r\n        \r\n        let data = {...this.state.data};\r\n        /*data.time_stamps = String(true) == model.time_stamps ? true : false;\r\n        data.soft_deletes = String(true) == model.soft_deletes ? true : false;*/\r\n        data._token = _token;\r\n\r\n\r\n        console.log(this.state.data)\r\n        /*let data = {\r\n            model: model,\r\n            \r\n        };*/\r\n        let options = {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers,\r\n        };\r\n        \r\n        \r\n        let res;\r\n        res = await this.save_model_resource.post(data);\r\n        \r\n        if(res){\r\n            alert(\"Success\");\r\n        }\r\n        else {\r\n            alert(\"Error\");\r\n        }\r\n    }\r\n    \r\n    addRelationship(e) {\r\n        e.preventDefault();\r\n        \r\n        let obj = {...this.state.relationship};\r\n        \r\n        if(obj.id == \"\") {\r\n            obj.id = new Date().getTime();\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            if(state.selected_relationship == null) {\r\n                return { ...state, data: { ...state.data,  relationships: update(state.data.relationships, {$push: [obj]})}};\r\n            }\r\n            else {\r\n                return { ...state, data: { ...state.data,  relationships: update(state.data.relationships, {[state.selected_relationship]: {$set: obj}})}};\r\n            }\r\n        }, () => {\r\n            this.toggleModal();\r\n        });\r\n    }\r\n    getModalClasses() {\r\n        let modalClasses = 'admin-modal';\r\n        if (this.state.modal_toogle) {\r\n          modalClasses += ' admin-modal_active';\r\n        }\r\n        return modalClasses;\r\n    }\r\n    toggleModal() {\r\n        this.setState((state) => {\r\n            return { ...state, modal_toogle: !state.modal_toogle}\r\n        })\r\n    }\r\n    addModalShow(e) {\r\n        console.log(e);\r\n        let itemIndex = this.state.data.relationships.indexOf(e);\r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_relationship: null, relationship: state.default_relationship}\r\n            }\r\n            else {\r\n                return { ...state, selected_relationship: itemIndex, relationship: state.data.relationships[itemIndex]}\r\n            }\r\n            \r\n        }, () => { \r\n            this.toggleModal();\r\n        });\r\n    }\r\n    onDeleteClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.relationships.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                this.setState((state) => {\r\n                    return { ...state, data: { ...state.data,  relationships: update(this.state.data.relationships, {$splice: [[itemIndex, 1]]})}};\r\n                }, () => {\r\n                    alert(\"Success\");\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    addAccessorModalShow(e) {\r\n        console.log(e);\r\n        let itemIndex = this.state.data.relationships.indexOf(e);\r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_relationship: null, relationship: state.default_relationship}\r\n            }\r\n            else {\r\n                return { ...state, selected_relationship: itemIndex, relationship: state.data.relationships[itemIndex]}\r\n            }\r\n            \r\n        }, () => { \r\n            this.toggleModal();\r\n        });\r\n    }\r\n    onDeleteAccessorClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.relationships.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                this.setState((state) => {\r\n                    return { ...state, data: { ...state.data,  relationships: update(this.state.data.relationships, {$splice: [[itemIndex, 1]]})}};\r\n                }, () => {\r\n                    alert(\"Success\");\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        return <div>\r\n            <div>\r\n                <form>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Name\r\n                            <input className='form__input' type=\"text\" name=\"name\" value={this.state.data.name}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Description\r\n                            <input className='form__input' type=\"text\" name=\"description\" value={this.state.data.description}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Soft Deletes\r\n                            <input className='form__input' type=\"checkbox\" checked={this.state.data.soft_deletes ? 1 : 0} name=\"soft_deletes\" onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Timestamps\r\n                            <input className='form__input' type=\"checkbox\" checked={this.state.data.time_stamps ? 1 : 0}  name=\"time_stamps\" onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Fillable\r\n                            <select className=\"form__input\" name='add_fillable' onChange={(e) => {this.addFillableColumn(e)}}>\r\n                                <option value=\"\"/>\r\n                                {\r\n                                  this.state.fillable_columns.map(option =>\r\n                                      <option key={option.id}\r\n                                              value={option.name}\r\n                                              children={option.title}/>)\r\n                                }\r\n                            </select>\r\n                        </label>\r\n                        <div>\r\n                            {\r\n                                this.state.data.fillable_cols.map(option =>\r\n                                <div key={option}>\r\n                                    <button className=\"btn\" onClick={(e) => {this.deleteFillableColumn(e,option)}}>{option}</button>\r\n                                </div>  )\r\n                                }\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            User Cols\r\n                            <select className=\"form__input\" name='add_user_cols' onChange={(e) => {this.addUserColsColumn(e)}}>\r\n                                <option value=\"\"/>\r\n                                {\r\n                                  this.state.user_cols.map(option =>\r\n                                      <option key={option.id}\r\n                                              value={option.name}\r\n                                              children={option.title}/>)\r\n                                }\r\n                            </select>\r\n                        </label>\r\n                        <div>\r\n                            {\r\n                                this.state.data.user_cols.map(option =>\r\n                                <div key={option}>\r\n                                    <button className=\"btn\" onClick={(e) => {this.deleteUserColsColumn(e,option)}}>{option}</button>\r\n                                </div>  )\r\n                                }\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Path\r\n                            <input className='form__input' type=\"text\" name=\"path\" value={this.state.data.path}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <label className='form-label'>\r\n                        Primary Key\r\n                        <select className=\"form__input\" name='pk'  value={this.state.data.pk} onChange={(e) => {this.onChange(e)}}>\r\n                            <option value=\"\"/>\r\n                            {\r\n                              this.state.actual_columns.map(option =>\r\n                                  <option key={option.id}\r\n                                          value={option.name}\r\n                                          children={option.title || option.name}/>)\r\n                            }\r\n                        </select>\r\n                    </label>\r\n                </form>\r\n            </div>\r\n            <div>\r\n                <AdminTable columns={this.table_columns} rows={this.state.data.relationships}/>\r\n            </div>\r\n            <div>\r\n                <button onClick={this.addModalShow}>Add Relationship</button>\r\n            </div>\r\n            <div>\r\n                <form className=\"admin-form\" onSubmit={this.saveModel}>\r\n                    <button className=\"btn btn_success\">Save</button>\r\n                </form>\r\n            </div>\r\n            <div>\r\n                <hr />\r\n            </div>\r\n            <div>\r\n                <AdminTable columns={this.accessors_table_columns} rows={this.state.accessors}/>\r\n            </div>\r\n            <div>\r\n                <button onClick={this.addAccessorModalShow}>Add Accessor</button>\r\n            </div>\r\n            \r\n            <div className={this.getModalClasses()}>\r\n                <div className=\"admin-modal__bg\" onClick={this.toggleModal}/>\r\n                <div className=\"admin-modal-content\">\r\n                  <button className=\"admin-modal__close\" onClick={this.toggleModal}><TimesIcon className=\"icon\"/></button>\r\n                  <div className=\"admin-caption\">Add New Relationship</div>\r\n                  <div className=\"admin-modal-form form\">\r\n                    <form className=\"admin-form\" onSubmit={this.addRelationship}>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                name\r\n                                <input className='form__input' type=\"text\" name=\"name\" value={this.state.relationship.name} onChange={(e) => {this.onChangeRelationship(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                Model Class\r\n                                <input className='form__input' type=\"text\" name=\"model_class\" value={this.state.relationship.model_class}  onChange={(e) => {this.onChangeRelationship(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                type\r\n                                <select className=\"form__input\" value={this.state.relationship.type} name='type'  onChange={(e) => {this.onChangeRelationship(e)}}>\r\n                                    <option value=\"\"/>\r\n                                    {\r\n                                      this.relationship_types.map(option =>\r\n                                          <option key={option.id}\r\n                                                  value={option.id}\r\n                                                  children={option.title || option.name}/>)\r\n                                    }\r\n                                    </select>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                foreign key\r\n                                <input className='form__input' type=\"text\" name=\"foreign_key\"  value={this.state.relationship.foreign_key} onChange={(e) => {this.onChangeRelationship(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                local key\r\n                                <input className='form__input' type=\"text\" name=\"local_key\" value={this.state.relationship.local_key} onChange={(e) => {this.onChangeRelationship(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <button className=\"btn btn_success\">Add col</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n        </div>;\r\n      \r\n            \r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AddModelPage);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\nimport TimesIcon from '../../svgs/times.svg';\r\n\r\nclass AccessorsPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        /**\r\n         * Настройки таблицы формул\r\n         */\r\n        this.table_columns = [\r\n            {name: 'id',title: 'ID',},\r\n            {name: 'name',title: 'Name',},\r\n            {name: 'formula',title: 'Formula',},\r\n            {name: 'status',title: 'Status',},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addModalShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ];\r\n        \r\n        /**\r\n         * Формула по умолчанию\r\n         * @type type\r\n         */\r\n        const default_accessor = {\r\n            id: \"\",\r\n            name: '',\r\n            formula: '',\r\n            description: \"\",\r\n        };\r\n        \r\n        this.state = {\r\n            modal_toogle: false,\r\n            table_id: this.props.match.params.id,\r\n            table: {},\r\n            data: [],\r\n            default_accessor: default_accessor,\r\n            selected_accessor: null,\r\n            accessor: default_accessor,\r\n        };\r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.model_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/model'});\r\n        this.accessors_resource = false;\r\n        \r\n        this.toggleModal = this.toggleModal.bind(this);\r\n        this.getModalClasses = this.getModalClasses.bind(this);\r\n        \r\n        this.onChange = this.onChange.bind(this);\r\n        \r\n        this.addModalShow = this.addModalShow.bind(this);\r\n        this.onDeleteClick = this.onDeleteClick.bind(this);\r\n        this.addAccessor = this.addAccessor.bind(this);\r\n        \r\n        this.getModalClasses = this.getModalClasses.bind(this);\r\n        \r\n    }\r\n    \r\n    async componentDidMount(){\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res};\r\n        });\r\n        \r\n        let model_data = await this.model_resource.get(\" \");\r\n        \r\n        if(model_data) {\r\n             \r\n            this.accessors_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/models/'+model_data.id+\"/accessors\"});\r\n            let accessors_data = await this.accessors_resource.getAll();\r\n\r\n            this.setState(state=>{\r\n                return{...state, model: model_data, data: accessors_data};\r\n            }, () => {\r\n                \r\n            });\r\n        }\r\n    }\r\n    \r\n    onChange(e) {\r\n        let field_name = e.target.name;\r\n        let value = e.target.type === \"checkbox\" ? e.target.checked : e.target.value;\r\n        \r\n        this.setState({ ...this.state, accessor: {...this.state.accessor, [field_name]: value}});\r\n    }\r\n    \r\n    async addAccessor(e) {\r\n        e.preventDefault();\r\n        \r\n        let obj = {...this.state.accessor};\r\n        \r\n        if(obj.name == \"\") {\r\n            alert(\"Enter accessor name!\");\r\n            return;\r\n        }\r\n        \r\n        obj._token = _token;\r\n        \r\n        let res;\r\n        \r\n        if(this.state.selected_accessor == null) {\r\n            res = await this.accessors_resource.post(obj);\r\n        }\r\n        else {\r\n            res = await this.accessors_resource.put(obj.id, obj);\r\n        }\r\n        \r\n        \r\n        if(res){\r\n            \r\n            this.setState((state) => {\r\n                if(state.selected_accessor == null) {\r\n                    return { ...state, data: update(state.data, {$push: [res]})};\r\n                }\r\n                else {\r\n                    return { ...state, data: update(state.data, {[state.selected_accessor]: {$set: res}})};\r\n                }\r\n            }, () => {\r\n                this.toggleModal();\r\n            });\r\n            \r\n        }\r\n        else {\r\n            alert(\"Error\");\r\n        }\r\n        /*\r\n        if(obj.id == \"\") {\r\n            obj.id = new Date().getTime();\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            if(state.selected_relationship == null) {\r\n                return { ...state, data: { ...state.data,  relationships: update(state.data.relationships, {$push: [obj]})}};\r\n            }\r\n            else {\r\n                return { ...state, data: { ...state.data,  relationships: update(state.data.relationships, {[state.selected_relationship]: {$set: obj}})}};\r\n            }\r\n        }, () => {\r\n            this.toggleModal();\r\n        });*/\r\n    }\r\n    \r\n    getModalClasses() {\r\n        let modalClasses = 'admin-modal';\r\n        if (this.state.modal_toogle) {\r\n          modalClasses += ' admin-modal_active';\r\n        }\r\n        return modalClasses;\r\n    }\r\n    toggleModal() {\r\n        this.setState((state) => {\r\n            return { ...state, modal_toogle: !state.modal_toogle}\r\n        })\r\n    }\r\n    addModalShow(e) {\r\n        console.log(e);\r\n        let itemIndex = this.state.data.indexOf(e);\r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_accessor: null, accessor: state.default_accessor}\r\n            }\r\n            else {\r\n                return { ...state, selected_accessor: itemIndex, accessor: state.data[itemIndex]}\r\n            }\r\n            \r\n        }, () => { \r\n            this.toggleModal();\r\n        });\r\n    }\r\n    async onDeleteClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                let res;\r\n                res = await this.accessors_resource.delete(e.id);\r\n                \r\n                if(res) {\r\n                    this.setState((state) => {\r\n                        return { ...state, data: update(this.state.data, {$splice: [[itemIndex, 1]]})};\r\n                    }, () => {\r\n                        alert(\"Success\");\r\n                    });\r\n                }\r\n                else {\r\n                    alert(\"Error\")\r\n                }\r\n            \r\n                \r\n            }\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        return <div>\r\n            <div>\r\n                <AdminTable columns={this.table_columns} rows={this.state.data}/>\r\n            </div>\r\n            <div>\r\n                <button onClick={this.addModalShow}>Add Accessor</button>\r\n            </div>\r\n            \r\n            <div className={this.getModalClasses()}>\r\n                <div className=\"admin-modal__bg\" onClick={this.toggleModal}/>\r\n                <div className=\"admin-modal-content\">\r\n                  <button className=\"admin-modal__close\" onClick={this.toggleModal}><TimesIcon className=\"icon\"/></button>\r\n                  <div className=\"admin-caption\">Add New Accessor</div>\r\n                  <div className=\"admin-modal-form form\">\r\n                    <form className=\"admin-form\" onSubmit={this.addAccessor}>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                name\r\n                                <input className='form__input' type=\"text\" name=\"name\" value={this.state.accessor.name} onChange={(e) => {this.onChange(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                description\r\n                                <input className='form__input' type=\"text\" name=\"description\" value={this.state.accessor.description}  onChange={(e) => {this.onChange(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                formula\r\n                                <input className='form__input' type=\"text\" name=\"formula\" value={this.state.accessor.formula}  onChange={(e) => {this.onChange(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        \r\n                        <button className=\"btn btn_success\">Add accessor</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n        </div>;\r\n      \r\n            \r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AccessorsPage);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\nimport TimesIcon from '../../svgs/times.svg';\r\n\r\nclass AddControllerPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            table_id: this.props.match.params.id,\r\n            table: {},\r\n            relationships: [],\r\n            relation: \"\",\r\n            data: {\r\n                description: \"\",\r\n                prefix: \"\",\r\n                namespace: \"\",\r\n                relations: \"\",\r\n            },\r\n            \r\n        };\r\n        \r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.controller_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/controller'});\r\n        this.save_controller_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/controllers'});\r\n        \r\n        \r\n        this.onChange = this.onChange.bind(this);\r\n        this.saveController = this.saveController.bind(this);\r\n        \r\n        this.addRelation = this.addRelation.bind(this);\r\n        this.deleteRelation = this.deleteRelation.bind(this);\r\n    }\r\n    \r\n    async componentDidMount(){\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res};\r\n        });\r\n        \r\n        let controller_res = await this.resource.get(this.state.table_id+\"/controller\");\r\n        \r\n        \r\n        \r\n        if(controller_res) {\r\n            \r\n            \r\n            controller_res.description = (controller_res.description == null) ? \"\" : controller_res.description;\r\n            controller_res.prefix = (controller_res.prefix == null) ? \"\" : controller_res.prefix;\r\n            controller_res.namespace = (controller_res.namespace == null) ? \"\" : controller_res.namespace;\r\n            \r\n            controller_res.relation = this.setCols(controller_res.relations);\r\n            \r\n            this.setState(state=>{\r\n                return{...state, data: controller_res};\r\n            }, () => {\r\n                \r\n                this.setState(state=>{\r\n                    return{...state, relationships: controller_res.relation};\r\n                })\r\n                \r\n            });\r\n        }\r\n        \r\n    }\r\n    \r\n    setCols(value) {\r\n        \r\n        let cols = [];\r\n        \r\n        if(!value) return cols;\r\n        \r\n        if(value == null || value == \"\") return cols;\r\n        \r\n        \r\n        value.replace(/'/g,\"\");\r\n        return value.split(\",\");\r\n    }\r\n    \r\n    onChange(e) {\r\n        let field_name = e.target.name;\r\n        \r\n        if(field_name === \"relation\") {\r\n            return this.setState({ ...this.state, relation: e.target.value});\r\n        }\r\n        \r\n        this.setState({ ...this.state, data:{...this.state.data, [field_name]: e.target.value}});\r\n    }\r\n    \r\n    async saveController(e) {\r\n        e.preventDefault();\r\n        \r\n        let headers = {\r\n            'Content-Type': 'application/json'\r\n        };\r\n        \r\n        let data = {...this.state.data};\r\n        data._token = _token;\r\n        \r\n        let options = {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers,\r\n        };\r\n        \r\n        \r\n        let res;\r\n        res = await this.save_controller_resource.post(data);\r\n        \r\n        if(res){\r\n            alert(\"Success\");\r\n        }\r\n        else {\r\n            alert(\"Error\");\r\n        }\r\n    }\r\n    \r\n    addRelation(e) {\r\n        e.preventDefault();\r\n        let value = this.state.relation;\r\n       \r\n        let itemIndex = this.state.relationships.indexOf(value);\r\n        \r\n        if(itemIndex !== -1) {\r\n            alert(\"This relation has already been added.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, relationships: update(state.relationships, {$push: [value]})};\r\n        }, () => {\r\n            console.log(this.state)\r\n            this.setRelation();\r\n            \r\n        });\r\n    }\r\n    \r\n    \r\n    deleteRelation(e, value) {\r\n        e.preventDefault();\r\n        \r\n        let itemIndex = this.state.relationships.indexOf(value);\r\n        \r\n        if(itemIndex === -1) {\r\n            alert(\"This relation not found.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, relationships: update(state.relationships, {$splice: [[itemIndex, 1]]})};\r\n        }, () => {\r\n            this.setRelation();\r\n        });\r\n    }\r\n    \r\n    setRelation() {\r\n        let relations = this.state.relationships.join(\";\");\r\n            \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...this.state.data, relations: relations}};\r\n        }, () => {\r\n            console.log(this.state)\r\n        }) \r\n    }\r\n    \r\n    render(){\r\n        return <div>\r\n            <div>\r\n                <form className=\"admin-form\"  onSubmit={this.saveController}>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Description\r\n                            <input className='form__input' type=\"text\" name=\"description\" value={this.state.data.description}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Prefix\r\n                            <input className='form__input' type=\"text\" name=\"prefix\" value={this.state.data.prefix}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Namespace\r\n                            <input className='form__input' type=\"text\" name=\"namespace\" value={this.state.data.namespace}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Relations\r\n                            <div className=\"input-group\">\r\n                                <input className='form__input' type=\"text\" name=\"relation\" value={this.state.relation}  onChange={(e) => {this.onChange(e)}}/>\r\n                                <button onClick={(e) => {this.addRelation(e)}}>Добавить</button>    \r\n                            </div>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        {\r\n                            this.state.relationships.map(option =>\r\n                            <div key={option}>\r\n                                <button className=\"btn\" onClick={(e) => {this.deleteRelation(e,option)}}>{option}</button>\r\n                            </div>  )\r\n                        }\r\n                    </div>\r\n                    <div>\r\n                        <button className=\"btn btn_success\">Save</button>\r\n                    </div>\r\n                    \r\n                </form>\r\n            </div>\r\n        </div>;\r\n      \r\n            \r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AddControllerPage);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\n\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport MigrationsTable from \"./MigrationsTable\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\n\r\nimport AddModelPage from \"./AddModelPage\";\r\nimport AccessorsPage from \"./AccessorsPage\";\r\nimport AddControllerPage from \"./AddControllerPage\";\r\n\r\n/*\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';*/\r\n\r\n\r\n\r\n//import AdminTable from \"../AdminTable\";\r\n/*\r\nimport store from \"../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../js/store/modal-settings/actions\";\r\nimport {generateId, redirect} from \"../js/helpers\";*/\r\n\r\n\r\nclass SettingTable extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            table_id: this.props.match.params.id,\r\n            table: {},\r\n        }  \r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        /*this.migration_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/migrations'});\r\n        this.onEditClick = this.onEditClick.bind(this);\r\n        this.changeName = this.changeName.bind(this);\r\n        this.saveMigration = this.saveMigration.bind(this);*/\r\n    }\r\n    async componentDidMount(){\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res}\r\n        });\r\n    }\r\n   \r\n   \r\n  render(){\r\n    return <div className=\"admin-templates admin-page\">\r\n        <div className=\"admin-heading\">\r\n            <div className=\"admin-breadcrumbs\">\r\n                <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables\">Tables</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <Link className=\"admin-breadcrumbs__link\" to={\"/admin/tables/edit/\"+this.state.table_id}>{this.state.table.title}</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <span className=\"admin-breadcrumbs__current\">Setting</span>\r\n            </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n            <Tabs selectedIndex={this.state.activeTab} onSelect={this.switchTab}>\r\n                <TabList className=\"nav nav-pills admin-pills\">\r\n                    <Tab>Migration</Tab>\r\n                    <Tab>Model</Tab>\r\n                    <Tab>Controller</Tab>\r\n                    <Tab>Routes</Tab>\r\n                    <Tab>Accessors</Tab>\r\n                </TabList>\r\n                <TabPanel>\r\n                    <MigrationsTable/>\r\n                    <div>\r\n                        <Link className=\"btn\" to={\"/admin/tables/edit/\"+this.state.table_id+\"/setting/migrations/add\"}>Add New</Link>\r\n                    </div>\r\n                </TabPanel>\r\n                <TabPanel>\r\n                    <AddModelPage/>\r\n                </TabPanel>\r\n                <TabPanel>\r\n                    <AddControllerPage/>\r\n                </TabPanel>\r\n                  <TabPanel>\r\n                  </TabPanel>\r\n                <TabPanel>\r\n                    <AccessorsPage/>\r\n                </TabPanel>  \r\n            </Tabs>\r\n            \r\n        </div>\r\n    </div>;\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(SettingTable);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\nimport TimesIcon from '../../svgs/times.svg';\r\n\r\n\r\n\r\nclass AddMigrationPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        //Типы  полей\r\n        this.column_types = [\r\n            {id: \"id\",name: \"Identifier\",fields:[]},\r\n            {id: \"foreignId\",name: \"Foreign Id\",fields:[\"nullable\",\"default\"]},\r\n            {id: \"boolean\",name: \"Boolean\",fields:[\"nullable\",\"default\"]},\r\n            {id: \"date\",name: \"Date\",fields:[\"nullable\",\"default\",\"size\",\"unique\",\"current\"]},\r\n            {id: \"datetime\",name: \"Datetime\",fields:[\"nullable\",\"default\",\"size\",\"unique\",\"current\"]},\r\n            {id: \"decimal\",name: \"Decimal\",fields:[\"nullable\",\"default\",\"size\",\"places\"]},\r\n            {id: \"integer\",name: \"Integer\",fields:[\"nullable\",\"default\"]},\r\n            {id: \"longtext\",name: \"Long Text\",fields:[\"nullable\",\"default\",\"unique\"]},\r\n            {id: \"string\",name: \"String\",fields:[\"nullable\",\"default\",\"size\",\"unique\"]},\r\n            {id: \"text\",name: \"Text\",fields:[\"nullable\",\"default\",\"unique\"]},\r\n            {id: \"timestamps\",name: \"Timestamps\",fields:[\"size\"]},\r\n        ];\r\n        \r\n        //Значения колонки по умолчанию\r\n        const default_column = {\r\n            id: \"\",\r\n            name: '',\r\n            title: '',\r\n            description: '',\r\n            type: \"string\",\r\n            size: 191,\r\n            places: 0,\r\n            default: \"\",\r\n            null: false,\r\n            unique: false,\r\n        };\r\n        \r\n        //Значения ключа по умолчанию\r\n        const default_key = {\r\n            id: \"\",\r\n            target_table: \"\",\r\n            source_table_id: this.props.match.params.id,\r\n            target_column: \"\",\r\n            source_column: \"\",\r\n            onDelete: \"restrict\",\r\n            onUpdate: \"restrict\",\r\n        };\r\n        \r\n        //Типы действий для onDelete и onUpdate\r\n        this.key_actions = [\r\n            {id: \"restrict\", name: \"RESTRICT\"},\r\n            {id: \"cascade\", name: \"CASCADE\"},\r\n            {id: \"set null\", name: \"SET NULL\"},\r\n            {id: \"no action\", name: \"NO ACTION\"},\r\n        ];\r\n        \r\n        //Колонки для таблицы полей\r\n        this.table_columns = [\r\n            {name: 'title',title: 'Title',},\r\n            {name: 'name',title: 'Name',},\r\n            {name: 'type',title: 'Type',},\r\n            {name: 'size',title: 'Size',},\r\n            {name: 'default',title: 'Default',},\r\n            {name: 'null',title: 'Nullable',is_boolean: true},\r\n            {name: 'unique',title: 'Unique',is_boolean: true},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addModalColumnShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteColumnClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ];\r\n        \r\n        //Колонки для таблицы полей\r\n        this.table_keys = [\r\n            {name: 'target_table',title: 'Target Table',},\r\n            {name: 'target_column',title: 'Target Column',},\r\n            {name: 'source_column',title: 'Source Column',},\r\n            {name: 'onDelete',title: 'onDelete',},\r\n            {name: 'onUpdate',title: 'onUpdate',},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addModalKeyShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteKeyClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ],\r\n        \r\n        \r\n        this.state = {\r\n            column_modal_toggle: false,\r\n            key_modal_toggle: false,\r\n            table: {},\r\n            table_id: this.props.match.params.id,\r\n            data: {\r\n                columns: [],\r\n                keys: [],\r\n                rename_columns: [],\r\n            },\r\n            name: \"\",\r\n            default_column: default_column,\r\n            selected_column: null,\r\n            column: default_column,\r\n            default_key: default_key,\r\n            selected_key: null,\r\n            key: default_key\r\n        };\r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.migration_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/migrations'});\r\n        \r\n        this.addModalColumnShow = this.addModalColumnShow.bind(this);\r\n        this.addModalKeyShow = this.addModalKeyShow.bind(this);\r\n        \r\n        this.onChangeColumn = this.onChangeColumn.bind(this);\r\n        this.onChangeKey = this.onChangeKey.bind(this);\r\n        \r\n        this.addColumn = this.addColumn.bind(this);\r\n        this.addKey = this.addKey.bind(this);\r\n        this.toggleModal = this.toggleModal.bind(this);\r\n        this.getModalClasses = this.getModalClasses.bind(this);\r\n        \r\n        this.onDeleteColumnClick = this.onDeleteColumnClick.bind(this);\r\n        this.onDeleteKeyClick = this.onDeleteKeyClick.bind(this);\r\n        \r\n        this.changeName = this.changeName.bind(this);\r\n        this.saveMigration = this.saveMigration.bind(this);\r\n        \r\n        this.isShowField = this.isShowField.bind(this);\r\n        \r\n        \r\n        \r\n        \r\n    }\r\n    \r\n    //Подгрузка данных\r\n    async componentDidMount(){\r\n        //Получаем данные о таблице\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res};\r\n        });\r\n        //Получаем данные о колонках\r\n        let columns_res = await this.resource.get(this.state.table_id+\"/columns\")\r\n        this.setState(state=>{\r\n            return{...state, data: { ...state.data, columns: columns_res}};\r\n        });\r\n        //Получаем данные о ключах\r\n        let keys_res = await this.resource.get(this.state.table_id+\"/keys\")\r\n        this.setState(state=>{\r\n            return{...state, data: { ...state.data, keys: keys_res}};\r\n        });\r\n    }\r\n    \r\n    //Получаем класс для модального окна\r\n    getModalClasses(type) {\r\n        \r\n        let modal_toggle = type+\"_modal_toggle\";\r\n        \r\n        let modalClasses = 'admin-modal';\r\n        if (this.state[modal_toggle]) {\r\n          modalClasses += ' admin-modal_active';\r\n        }\r\n        return modalClasses;\r\n    }\r\n    \r\n    //Получаем класс для модального окна\r\n    isShowField(field_name) {\r\n        \r\n        let state = false;\r\n        \r\n        let type = this.column_types.find(item => item.id === this.state.column.type);\r\n        \r\n        if(type) {\r\n            \r\n            let index = type.fields.indexOf(field_name);\r\n            \r\n            if(index > -1)  {\r\n                state = true;\r\n            }\r\n            \r\n        }\r\n        return state;\r\n    }\r\n    \r\n    //Меняем переменную для открытия той или иной модали\r\n    toggleModal(type) {\r\n        let modal_toggle = type+\"_modal_toggle\";\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, [modal_toggle]: !state[modal_toggle]}\r\n        }, () => {console.log(this.state)})\r\n    }\r\n    \r\n    \r\n    addModalColumnShow(e) {\r\n        let itemIndex = this.state.data.columns.indexOf(e);\r\n        \r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_column: null, column: state.default_column}\r\n            }\r\n            else {\r\n                return { ...state, selected_column: itemIndex, column: state.data.columns[itemIndex]}\r\n            }\r\n            \r\n        }, () => { \r\n            this.toggleModal(\"column\");\r\n        });\r\n    }\r\n    \r\n    addModalKeyShow(e) {\r\n        let itemIndex = this.state.data.keys.indexOf(e);\r\n        \r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_key: null, key: state.default_key}\r\n            }\r\n            else {\r\n                return { ...state, selected_key: itemIndex, key: state.data.keys[itemIndex]}\r\n            }\r\n        }, () => { \r\n            this.toggleModal(\"key\");\r\n        });\r\n    }\r\n    \r\n    //Добавление столбца\r\n    addColumn(e) {\r\n        e.preventDefault();\r\n        \r\n        let obj = {...this.state.column};\r\n        \r\n        if(obj.id == \"\") {\r\n            obj.id = new Date().getTime();\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            if(state.selected_column == null) {\r\n                return { ...state, data: { ...state.data,  columns: update(state.data.columns, {$push: [obj]})}};\r\n            }\r\n            else {\r\n                return { ...state, data: { ...state.data,  columns: update(state.data.columns, {[state.selected_column]: {$set: obj}})}};\r\n            }\r\n        }, () => {\r\n            this.toggleModal(\"column\");\r\n        });\r\n    }\r\n    \r\n    //Добавление ключа\r\n    addKey(e) {\r\n        e.preventDefault();\r\n        \r\n        let obj = {...this.state.key};\r\n        \r\n        if(obj.id == \"\") {\r\n            obj.id = new Date().getTime();\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            if(state.selected_key == null) {\r\n                return { ...state, data: { ...state.data,  keys: update(state.data.keys, {$push: [obj]})}};\r\n            }\r\n            else {\r\n                return { ...state, data: { ...state.data,  keys: update(state.data.keys, {[state.selected_key]: {$set: obj}})}};\r\n            }\r\n        }, () => {\r\n            this.toggleModal(\"key\");\r\n        });\r\n    }\r\n    \r\n    onDeleteColumnClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.columns.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                this.setState((state) => {\r\n                    return { ...state, data: { ...state.data,  columns: update(this.state.data.columns, {$splice: [[itemIndex, 1]]})}};\r\n                }, () => {\r\n                    alert(\"Success\");\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    onDeleteKeyClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.keys.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                this.setState((state) => {\r\n                    return { ...state, data: { ...state.data,  keys: update(this.state.data.keys, {$splice: [[itemIndex, 1]]})}};\r\n                }, () => {\r\n                    alert(\"Success\");\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Изменение значений при работе с модальным окном\r\n     * @param {type} e\r\n     * @returns {undefined}\r\n     */\r\n    onChangeColumn(e) {\r\n        let field_name = e.target.name;\r\n        let value = e.target.type === \"checkbox\" ? e.target.checked : e.target.value;\r\n        \r\n        if(field_name === \"name\") {\r\n            \r\n        \r\n            let val = e.target.value.replace(\"_\", \" \");\r\n            value = val.charAt(0).toUpperCase() + val.slice(1); \r\n            \r\n            let title = this.state.column.title;\r\n            let description = this.state.column.description;\r\n            \r\n            if(title === \"\" || title === value.slice(0, value.length - 1)) {\r\n                title = value;\r\n            }\r\n            if(description === \"\" || description === value.slice(0, value.length - 1)) {\r\n                description = value; \r\n            }\r\n            \r\n            this.setState({ ...this.state, column:{...this.state.column, [field_name]: e.target.value, title: title, description: description }});\r\n            return;\r\n        }\r\n        \r\n        this.setState({ ...this.state, column:{...this.state.column, [field_name]: value}}, () => {console.log(this.state)});\r\n    }\r\n    onChangeKey(e) {\r\n        let field_name = e.target.name;\r\n        console.log(e.target.value);\r\n        this.setState({ ...this.state, key:{...this.state.key, [field_name]: e.target.value}});\r\n    }\r\n    \r\n    \r\n    changeName(e) {\r\n        let target = e.target;\r\n        let name_value = target.value\r\n        this.setState( (state) => {\r\n            return {name: name_value}\r\n        });\r\n    }\r\n    async saveMigration(e) {\r\n        e.preventDefault();\r\n        \r\n        if(this.state.name == \"\") {\r\n            alert(\"Enter migration name!\");\r\n            return;\r\n        }\r\n        \r\n        let url = this.state.main_url + \"/migrations\";\r\n        let headers = {\r\n            'Content-Type': 'application/json'\r\n        };\r\n        console.log(this.state.data)\r\n        let data = {\r\n            name: this.state.name,\r\n            data: JSON.stringify(this.state.data),\r\n            _token: _token\r\n        };\r\n        let options = {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers,\r\n        };\r\n        \r\n        \r\n        let res;\r\n        res = await this.migration_resource.post(data);\r\n        console.log(res)\r\n        if(res){\r\n            alert(\"Success\");\r\n        }\r\n        else {\r\n            \r\n            alert(\"Error\");\r\n        }\r\n    }\r\n  render(){\r\n    return <div className=\"admin-templates admin-page\">\r\n        <div className=\"admin-heading\">\r\n            <div className=\"admin-breadcrumbs\">\r\n                <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables\">Tables</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <Link className=\"admin-breadcrumbs__link\" to={\"/admin/tables/edit/\"+this.state.table_id}>{this.state.table.title}</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <Link className=\"admin-breadcrumbs__link\" to={\"/admin/tables/edit/\"+this.state.table_id+\"/setting\"}>Setting</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <span className=\"admin-breadcrumbs__current\">Add New Migration</span>\r\n            </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n            <div>\r\n                <input type=\"text\" placeholder=\"Enter migration name...\" onChange={this.changeName}/>\r\n            </div>\r\n            <AdminTable columns={this.table_columns} rows={this.state.data.columns}/>\r\n            <div>\r\n                <button onClick={(e) => this.addModalColumnShow(e)}>Add Column</button>\r\n            </div>\r\n            <AdminTable columns={this.table_keys} rows={this.state.data.keys}/>\r\n            <div>\r\n                <button onClick={(e) => this.addModalKeyShow(e)}>Add Key</button>\r\n            </div>\r\n            \r\n            \r\n            <div className={this.getModalClasses(\"key\")}>\r\n                <div className=\"admin-modal__bg\" onClick={() => this.toggleModal(\"key\")}/>\r\n                <div className=\"admin-modal-content\">\r\n                  <button className=\"admin-modal__close\" onClick={() => this.toggleModal(\"key\")}><TimesIcon className=\"icon\"/></button>\r\n                  <div className=\"admin-caption\">Add New Key</div>\r\n                  <div className=\"admin-modal-form form\">\r\n                    <form className=\"admin-form\" onSubmit={this.addKey}>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                id\r\n                                <input className='form__input' type=\"text\" name=\"id\" value={this.state.key.id} onChange={(e) => {this.onChangeKey(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                Target Table\r\n                                <input className='form__input' type=\"text\" name=\"target_table\" value={this.state.key.target_table} onChange={(e) => {this.onChangeKey(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                Source Column\r\n                                <input className='form__input' type=\"text\" name=\"source_column\" value={this.state.key.source_column}  onChange={(e) => {this.onChangeKey(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                Target Column\r\n                                <input className='form__input' type=\"text\" name=\"target_column\" value={this.state.key.target_column}  onChange={(e) => {this.onChangeKey(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                onUpdate\r\n                                <select className=\"form__input\" value={this.state.key.onUpdate} name='onUpdate'  onChange={(e) => {this.onChangeKey(e)}}>\r\n                                    <option value=\"\"/>\r\n                                    {\r\n                                      this.key_actions.map(option =>\r\n                                          <option key={option.id}\r\n                                                  value={option.id}\r\n                                                  children={option.title || option.name}/>)\r\n                                    }\r\n                                    </select>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                onDelete\r\n                                <select className=\"form__input\" value={this.state.key.onDelete} name='onDelete'  onChange={(e) => {this.onChangeKey(e)}}>\r\n                                    <option value=\"\"/>\r\n                                    {\r\n                                      this.key_actions.map(option =>\r\n                                          <option key={option.id}\r\n                                                  value={option.id}\r\n                                                  children={option.title || option.name}/>)\r\n                                    }\r\n                                    </select>\r\n                            </label>\r\n                        </div>\r\n                        <button className=\"btn btn_success\">Add key</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className={this.getModalClasses(\"column\")}>\r\n                <div className=\"admin-modal__bg\" onClick={() => this.toggleModal(\"column\")}/>\r\n                <div className=\"admin-modal-content\">\r\n                  <button className=\"admin-modal__close\" onClick={() => this.toggleModal(\"column\")}><TimesIcon className=\"icon\"/></button>\r\n                  <div className=\"admin-caption\">Add New Column</div>\r\n                  <div className=\"admin-modal-form form\">\r\n                    <form className=\"admin-form\" onSubmit={this.addColumn}>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                name\r\n                                <input className='form__input' type=\"text\" name=\"name\" value={this.state.column.name} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                type\r\n                                <select className=\"form__input\" value={this.state.column.type} name='type'  onChange={(e) => {this.onChangeColumn(e)}}>\r\n                                    <option value=\"\"/>\r\n                                    {\r\n                                      this.column_types.map(option =>\r\n                                          <option key={option.id}\r\n                                                  value={option.id}\r\n                                                  children={option.title || option.name}/>)\r\n                                    }\r\n                                    </select>\r\n                            </label>\r\n                        </div>\r\n                        {this.isShowField(\"size\") ? <div>\r\n                            <label className='form-label'>\r\n                                size\r\n                                <input className='form__input' type=\"text\" name=\"size\"  value={this.state.column.size} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div> : null}\r\n                        {this.isShowField(\"places\") ? <div>\r\n                            <label className='form-label'>\r\n                                places\r\n                                <input className='form__input' type=\"text\" name=\"places\"  value={this.state.column.places} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div> : null}\r\n                        {this.isShowField(\"default\") ? <div>\r\n                            <label className='form-label'>\r\n                                default\r\n                                <input className='form__input' type=\"text\" name=\"default\" value={this.state.column.default} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div> : null}\r\n                        {this.isShowField(\"unique\") ? <div>\r\n                            <label className='form-label'>\r\n                                <input className='form__input' type=\"checkbox\" name=\"unique\" checked={this.state.column.unique ? 1 : 0} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                                unique\r\n                            </label>\r\n                        </div> : null}\r\n                        {this.isShowField(\"nullable\") ? <div>\r\n                            <label className='form-label'>\r\n                                <input className='form__input' type=\"checkbox\" name=\"null\" checked={this.state.column.null ? 1 : 0} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                                nullable\r\n                            </label>\r\n                        </div> : null}\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                title\r\n                                <input className='form__input' type=\"text\" name=\"title\" value={this.state.column.title}  onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                description\r\n                                <input className='form__input' type=\"text\" name=\"description\" value={this.state.column.description}  onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <button className=\"btn btn_success\">Add col</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            <div>\r\n                \r\n            </div>\r\n            <div>\r\n                <form className=\"admin-form\" onSubmit={this.saveMigration}>\r\n                    <button className=\"btn btn_success\">Save</button>\r\n                </form>\r\n            </div>\r\n            \r\n        </div>\r\n    </div>;\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AddMigrationPage);","import React, { Component } from \"react\";\r\n\r\nclass AdminVersion extends Component {\r\n  render() {\r\n    return (\r\n      <div children={`Version: ${altrp_version}`} className=\"admin__version\" />\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminVersion;\r\n","import React, { Component } from \"react\";\r\nimport { Tab, TabList, TabPanel, Tabs } from \"react-tabs\";\r\nimport 'react-tabs/style/react-tabs.scss';\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport AdminTable from \"./AdminTable\";\r\nimport Pagination from \"./Pagination\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\n\r\nconst columns = [\r\n  {\r\n    name: 'title',\r\n    title: 'Title',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'description',\r\n    title: 'Description'\r\n  },\r\n  {\r\n    name: 'updated_at',\r\n    title: 'Updated At'\r\n  }\r\n];\r\nconst columnsDataSource = [\r\n  {\r\n    name: 'title',\r\n    title: 'Title',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'route',\r\n    title: 'Route'\r\n  },\r\n  {\r\n    name: 'type',\r\n    title: 'Type'\r\n  }\r\n];\r\nconst initPaginationProps = {\r\n  pageCount: 1,\r\n  currentPage: 1,\r\n};\r\n\r\n\r\nexport default class SQLEditors extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      sql_editorsPagination: initPaginationProps,\r\n      sql_editors: [],\r\n      sqlEditorSearch: '',\r\n      sorting: {}\r\n    };\r\n    this.changePage = this.changePage.bind(this);\r\n    this.sql_editorsResource = new Resource({ route: '/admin/ajax/sql_editors' });\r\n  }\r\n\r\n  changePage(currentPage, pagination) {\r\n    this.setState(state => ({ ...state, [pagination]: { ...state[pagination], currentPage } }));\r\n  }\r\n\r\n  /**\r\n   * Обновить список Sql-редакторов\r\n   */\r\n  updateSqlEditors() {\r\n\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let sql_editors = await this.sql_editorsResource.getAll();\r\n    sql_editors = sql_editors.sql_editors;\r\n    this.setState(state => ({\r\n      ...state,\r\n      sql_editors\r\n    }))\r\n  }\r\n\r\n  getSqlEditors = async () => {\r\n    let sql_editors = await this.sql_editorsResource.getQueried({ s: this.state.sqlEditorSearch, ...this.state.sorting});\r\n    sql_editors = sql_editors.sql_editors;\r\n    this.setState(state => ({\r\n      ...state,\r\n      sql_editors,\r\n    }))\r\n  }\r\n\r\n  sortingHandler = (order_by, order) => {\r\n    this.setState({ sorting: { order_by, order } }, this.getSqlEditors);\r\n  }\r\n\r\n  searchSqlEditors = e => {\r\n    e.preventDefault();\r\n    this.getSqlEditors();\r\n  }\r\n\r\n  render() {\r\n    const { sql_editors, sql_editorsPagination, sqlEditorSearch, sorting } = this.state;\r\n    return <div className=\"admin-settings admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">SQL Editors</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">SQL Editors</span>\r\n        </div>\r\n        <Link className=\"btn\" to={`/admin/tables/sql_editors/add`}>Add New</Link>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <form className=\"admin-panel py-2\" onSubmit={this.searchSqlEditors}>\r\n          <input className=\"input-sm mr-2\" value={sqlEditorSearch} onChange={e => this.setState({ sqlEditorSearch: e.target.value })} />\r\n          <button type=\"button\" onClick={this.getSqlEditors} className=\"btn btn_bare admin-users-button\">Search</button>\r\n        </form>\r\n        <AdminTable\r\n          columns={columns}\r\n          quickActions={[{\r\n            tag: 'Link', props: {\r\n              href: '/admin/tables/sql_editors/edit/:id',\r\n            },\r\n            title: 'Edit'\r\n          }, {\r\n            tag: 'button',\r\n            route: '/admin/ajax/sql_editors/:id',\r\n            method: 'delete',\r\n            confirm: 'Are You Sure?',\r\n            // after: () => this.updateModels(this.state.currentPage, this.state.activeTemplateArea),\r\n            className: 'quick-action-menu__item_danger',\r\n            title: 'Trash'\r\n          }]}\r\n          rows={sql_editors.map(sql_editor => ({\r\n            ...sql_editor,\r\n            editUrl: '/admin/tables/sql_editors/edit/' + sql_editor.id\r\n          }))}\r\n          sortingHandler={this.sortingHandler}\r\n          sortingField={sorting.order_by}\r\n        />\r\n        <Pagination pageCount={sql_editorsPagination.pageCount}\r\n          currentPage={sql_editorsPagination.currentPage}\r\n          changePage={currentPage => this.changePage(currentPage, \"sql_editorsPagination\")}\r\n          itemsCount={sql_editors.length}\r\n        />\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nfunction ColorSchemes() {\r\n  return (\r\n    <div className=\"admin-templates admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n            Analytics\r\n          </a>\r\n        </div>\r\n        <Link className=\"btn\" to={`/admin/dashboard`}>\r\n          All Widgets\r\n        </Link>\r\n      </div>\r\n      <div className=\"admin-content\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ColorSchemes;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass ModelItemForm extends Component {\r\n  state = {\r\n    ...this.props.item\r\n  };\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    const { id } = this.props.match.params;\r\n    const data = _.pick(this.state, this.props.fields);\r\n\r\n    if (this.props.item) {\r\n      new Resource({ route: `/admin/ajax/custom_models/${id}/edit` })\r\n        .put(this.state.id, data)\r\n        .then(() => this.props.submitHandler());\r\n    } else {\r\n      new Resource({ route: `/admin/ajax/custom_models/${id}` })\r\n        .post(data)\r\n        .then(() => this.props.submitHandler());\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { fields } = this.props;\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      {fields.map(field => <div className=\"form-group\" key={field}>\r\n        <label htmlFor={field}>{field}</label>\r\n        <input type=\"text\" id={field}\r\n          name={field}\r\n          value={this.state[field]}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>)}\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n      </div>\r\n    </form>\r\n  }\r\n}\r\n\r\nexport default withRouter(ModelItemForm);","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport AdminTable from \"../AdminTable\";\r\nimport Pagination from \"../Pagination\";\r\nimport AdminModal2 from \"../AdminModal2\";\r\nimport ModelItemForm from \"./ModelItemForm\";\r\n\r\nclass ModelPage extends Component {\r\n  state = {\r\n    sorting: {},\r\n    search: '',\r\n    currentPage: 1,\r\n    data: [],\r\n    pageCount: 1,\r\n    itemsPerPage: 20,\r\n    isModalOpened: false,\r\n    editingItem: null,\r\n    fields: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getModelData();\r\n    new Resource({ route: `/admin/ajax/models/${this.props.match.params.id}/fields` }).getAll()\r\n      .then(fields => this.setState({ fields }))\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.match.params.id !== this.props.match.params.id) {\r\n      this.getModelData();\r\n    }\r\n  }\r\n\r\n  getModelData = () => {\r\n    const { id } = this.props.match.params;\r\n    const { currentPage: page, search: s, itemsPerPage: pageSize, sorting } = this.state;\r\n    const params = { page, s, pageSize, ...sorting };\r\n\r\n    new Resource({ route: '/admin/ajax/custom_models/' + id }).getQueried(params)\r\n      .then(({ data, pageCount }) => this.setState({ data, pageCount }))\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  sortingHandler = (order_by, order) => {\r\n    this.setState({ sorting: { order_by, order } }, this.getModelData);\r\n  }\r\n\r\n  editHandler = editingItem => {\r\n    this.setState({ editingItem, isModalOpened: true })\r\n  }\r\n\r\n  searchModelData = e => {\r\n    e.preventDefault();\r\n    this.getModelData();\r\n  }\r\n\r\n  render() {\r\n    const { data, search, currentPage, pageCount, sorting, isModalOpened, editingItem, fields } = this.state;\r\n    const { id } = this.props.match.params;\r\n\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/pages\">Model</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">{this.props.location.propsSearch}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <form className=\"admin-panel py-2\" onSubmit={this.searchModelData}>\r\n          <input className=\"input-sm mr-2\" value={search} onChange={e => this.setState({ search: e.target.value })} />\r\n          <button className=\"btn btn_bare admin-users-button\">Search</button>\r\n        </form>\r\n        {Boolean(data.length) && <>\r\n          <AdminTable\r\n            columns={fields}\r\n            quickActions={[\r\n              {\r\n                callBack: data => this.editHandler(data),\r\n                title: 'Edit'\r\n              },\r\n              {\r\n                tag: 'button',\r\n                route: `/admin/ajax/custom_models/${id}/delete/:id`,\r\n                method: 'delete',\r\n                confirm: 'Are You Sure?',\r\n                after: () => this.getModelData(),\r\n                className: 'quick-action-menu__item_danger',\r\n                title: 'Trash'\r\n              }\r\n            ]}\r\n            rows={data}\r\n            sortingHandler={this.sortingHandler}\r\n            sortingField={sorting.order_by}\r\n          />\r\n          <Pagination pageCount={pageCount || 1}\r\n            currentPage={currentPage}\r\n            changePage={currentPage => this.setState({ currentPage }, this.getModelData)}\r\n          />\r\n        </>}\r\n\r\n        <button onClick={() => this.setState({ isModalOpened: true })} className=\"btn btn_add\">\r\n          Add New\r\n        </button>\r\n\r\n        {isModalOpened && <AdminModal2 closeHandler={() => this.setState({ isModalOpened: false, editingItem: null })}>\r\n          <ModelItemForm item={editingItem}\r\n            submitHandler={() => this.setState({ isModalOpened: false, editingItem: null }, this.getModelData)}\r\n            fields={fields.map(({ name }) => name).filter(item => item !== 'id')}\r\n          />\r\n        </AdminModal2>}\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(ModelPage);\r\n","import React from 'react';\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass AdminAssetsDropList extends React.Component {\r\n\r\n    render() {\r\n        const { pathname } = this.props.location\r\n        const pathmanHaveAsssets = pathname.indexOf('assets')\r\n\r\n        return (\r\n                <ul className={pathmanHaveAsssets !== -1 ? \"admin-nav-list admin-nav-list--sublist_active\" : \"admin-nav-list admin-nav-list--sublist\"}>\r\n                    <li><Link to=\"/admin/assets\" className=\"admin-nav-list__link\"><span>Library</span></Link></li>\r\n                    <li>\r\n                        <Link\r\n                            to=\"/admin/assets/custom-fonts\" \r\n                            className=\"admin-nav-list__link\"\r\n                        >\r\n                            <span>Custom fonts</span>\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n        )\r\n    }\r\n}\r\n\r\nexport const WithRouterAdminAssetsDropList = withRouter(AdminAssetsDropList);","\r\nimport AltrpModel from './AltrpModel';\r\nimport {mbParseJSON} from \"../../../../front-app/src/js/helpers\";\r\n/**\r\n * @class AltrpMeta\r\n */\r\nclass AltrpMeta extends AltrpModel{\r\n  /**\r\n   * Хранилище статусов получения данных, чтобы не делать много параллельных запросов\r\n   * @type {{}}\r\n   */\r\n  static statuses = {};\r\n  /**\r\n   * Хранилище обратных вызовов, чтобы не делать много параллельных запросов\r\n   * @type {{}}\r\n   */\r\n  static pendingCallbacks = {};\r\n  /**\r\n   * Кончтруктор\r\n   * @param {string} metaName\r\n   * @param {*} metaValue\r\n   */\r\n  constructor(metaName, metaValue){\r\n    const data = {metaValue, metaName};\r\n    \r\n    super(data);\r\n  }\r\n\r\n  /**\r\n   * Возвращает значение мета-свойства\r\n   * @param {*} _default\r\n   * @return {*}\r\n   */\r\n  getMetaValue(_default){\r\n    return this.getProperty('metaValue') || _default;\r\n  }\r\n  /**\r\n   * Сохраняет новое значение мета-свойства\r\n   * @return {*}\r\n   */\r\n  setMetaValue(metaValue){\r\n    return this.setProperty('metaValue', metaValue);\r\n  }\r\n\r\n  /**\r\n   * Возвращает имя мета-свойства\r\n   * @return {string}\r\n   */\r\n  getMetaName(){\r\n    return this.getProperty('metaName');\r\n  }\r\n  async save(){\r\n    const metaName = this.getMetaName();\r\n    let metaValue = this.getMetaValue();\r\n    if(_.isObject(metaValue)){\r\n      metaValue = JSON.stringify(metaValue);\r\n    }\r\n    const Resource = (await import( './Resource')).default;\r\n    const resource = new Resource({ route: `/admin/ajax/altrp_meta`});\r\n    return (await resource.put(metaName, {meta_value:metaValue}));\r\n\r\n  }\r\n  /**\r\n   * Получить иета свойство с сервера\r\n   *\r\n   * @param {string} metaName\r\n   * @return {Promise<AltrpMeta | null>}\r\n   */\r\n  static async getMetaByName(metaName) {\r\n    if(! metaName){\r\n      return null;\r\n    }\r\n    if(_.get(AltrpMeta, `statuses.${metaName}`) === 'loading'){\r\n      return new Promise((resolve, reject) => {\r\n        AltrpMeta.pendingCallbacks[metaName] = AltrpMeta.pendingCallbacks[metaName] || [];\r\n        AltrpMeta.pendingCallbacks[metaName].push(resolve);\r\n      })\r\n    }\r\n    AltrpMeta.statuses[metaName] = 'loading';\r\n    const Resource = (await import( './Resource')).default;\r\n    const resource = new Resource({ route: `/admin/ajax/altrp_meta`});\r\n    try {\r\n      let metaValue = _.get((await resource.get(metaName)), 'data.meta_value') || null;\r\n      metaValue = mbParseJSON(metaValue);\r\n      if(_.isArray(AltrpMeta.pendingCallbacks[metaName])){\r\n        AltrpMeta.pendingCallbacks[metaName].forEach(callback=>{\r\n          console.log(callback);\r\n          callback(new AltrpMeta(metaName, metaValue));\r\n        });\r\n      }\r\n      AltrpMeta.statuses[metaName] = 'loaded';\r\n      AltrpMeta.pendingCallbacks[metaName] = [];\r\n      return new AltrpMeta(metaName, metaValue);\r\n    }catch(error){\r\n      if(_.isArray(AltrpMeta.pendingCallbacks[metaName])){\r\n        AltrpMeta.pendingCallbacks[metaName].forEach(callback=>{\r\n          console.log(callback);\r\n          callback(new AltrpMeta(metaName, null));\r\n        });\r\n      }\r\n      AltrpMeta.statuses[metaName] = 'loaded';\r\n      AltrpMeta.pendingCallbacks[metaName] = [];\r\n      return new AltrpMeta(metaName, null);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Клонировать мета\r\n   * @param {AltrpMeta} meta\r\n   * @return {AltrpMeta}\r\n   */\r\n  static clone(meta){\r\n    return new AltrpMeta(meta.getMetaName(), meta.getMetaValue());\r\n  }\r\n}\r\nexport default AltrpMeta","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AltrpMeta from '../../../../modules/editor/src/js/classes/AltrpMeta';\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { getCustomFonts } from '../js/store/custom-fonts/actions';\r\n\r\nclass CustomFonts extends React.Component {\r\n    state = {}\r\n\r\n    deleteFont = async (id) => {\r\n        let fonts = this.props.metaValue\r\n        const currentFontId = id\r\n        const indexCurrentFont = this.props.metaValue.findIndex(item => item.id == currentFontId)\r\n        fonts.splice(indexCurrentFont, 1)\r\n        let meta = await AltrpMeta.getMetaByName(\"custom_fonts\")\r\n        meta.setMetaValue(fonts)\r\n        await meta.save()\r\n        meta = await AltrpMeta.getMetaByName(\"custom_fonts\")\r\n        const metaValue = await meta.getMetaValue()\r\n        this.props.getCustomFonts(metaValue)\r\n    }\r\n\r\n    render() {\r\n        let fonts = null;\r\n        let fontsCount = null;\r\n        if (this.props.metaValue !== null) {\r\n            fontsCount = this.props.metaValue.length\r\n            fonts = this.props.metaValue.map(f => (\r\n                <tr key={f.id} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\r\n                    <td className=\"custom-fonts__table-check\">\r\n                        <input type=\"checkbox\" />\r\n                    </td>\r\n                    <td className=\"custom-fonts__table-font-family\">\r\n                        <Link to={`/admin/assets/edit-font/${f.id}`}>{f.fontFamily}<span className=\"custom-fonts__table-font-family__count\">{f.variations.length}</span></Link>\r\n                        <span className=\"custom-fonts__table-font-family_hover\">\r\n                            <Link to={`/admin/assets/edit-font/${f.id}`} className=\"custom-fonts__table-font-family_hover_edit\">Edit</Link>\r\n                            <span onClick={() => this.deleteFont(f.id)} className=\"custom-fonts__table-font-family_hover_trash\">Trash</span>\r\n                        </span>\r\n                    </td>\r\n                    <td className=\"custom-fonts__table-preview\">Elementor Is Making the Web Beautiful!!!</td>\r\n                </tr>\r\n            ))\r\n        }\r\n\r\n        return (\r\n            <div className=\"custom-fonts\">\r\n\r\n                <div className=\"custom-fonts__title\">\r\n                    Custom Fonts\r\n                    <Link to=\"/admin/assets/add-new-font\">\r\n                        <button className=\"custom-fonts__btn custom-fonts__btn_add-new\">\r\n                            Add new\r\n                        </button>\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className=\"custom-fonts__table-header\">\r\n                    <div className=\"custom-fonts__sorting-options\">\r\n                        <Link className=\"custom-fonts__sorting-options-name\">All\r\n                            <span className=\"custom-fonts__sorting-options-count custom-fonts__sorting-options-count_line\">\r\n                                {fontsCount}\r\n                            </span>\r\n                        </Link>\r\n                        <Link className=\"custom-fonts__sorting-options-name\">Published\r\n                            <span className=\"custom-fonts__sorting-options-count\">\r\n                                {fontsCount}\r\n                            </span>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"custom-fonts__search\">\r\n                        <input className=\"custom-fonts__search-input\" />\r\n                        <button onClick={this.props.getMetaName} className=\"custom-fonts__btn custom-fonts__btn_search\">\r\n                            Search Font\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"custom-fonts__const-part-of-table\">\r\n                    <div className=\"custom-fonts__possible-actions\">\r\n                        <select className=\"custom-fonts__possible-actions-drop-list\">\r\n                            <option>Bulk actions</option>\r\n                            <option>Edit</option>\r\n                            <option>Move To Trash</option>\r\n                        </select>\r\n                        <button onClick={this.props.test} className=\"custom-fonts__btn custom-fonts__btn_apply\">\r\n                            Apply\r\n                        </button>\r\n                    </div>\r\n                    <span className=\"custom-fonts__number-of-items\">\r\n                        {fontsCount} items\r\n                    </span>\r\n                </div>\r\n                <table className=\"custom-fonts__table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th className=\"custom-fonts__table-check\">\r\n                                <input type=\"checkbox\" />\r\n                            </th>\r\n                            <th className=\"custom-fonts__table-font-family\">Font Family</th>\r\n                            <th className=\"custom-fonts__table-preview\">Preview</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>{fonts}</tbody>\r\n                    <tfoot>\r\n                        <tr>\r\n                            <th className=\"custom-fonts__table-check\"><input type=\"checkbox\" /></th>\r\n                            <th className=\"custom-fonts__table-font-family\">Font Family</th>\r\n                            <th className=\"custom-fonts__table-preview\">Preview</th>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n                <div className=\"custom-fonts__const-part-of-table\">\r\n                    <div className=\"custom-fonts__possible-actions\">\r\n                        <select className=\"custom-fonts__possible-actions-drop-list\">\r\n                            <option>Bulk actions</option>\r\n                            <option>Edit</option>\r\n                            <option>Move To Trash</option>\r\n                        </select>\r\n                        <button className=\"custom-fonts__btn custom-fonts__btn_apply\">\r\n                            Apply\r\n                        </button>\r\n                    </div>\r\n                    <span className=\"custom-fonts__number-of-items\">\r\n                        {fontsCount} items\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(null, { getCustomFonts })\r\n)(CustomFonts);","import React from 'react';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\n\r\nexport class EditFontElementPublish extends React.Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"edit-font__content-publish-header\">\r\n                    <span className=\"edit-font__content-publish-title\">Publish</span>\r\n                    <div>\r\n                        <button onClick={this.props.changePublishSizeMin} className=\"edit-font__content-publish-arrow\"><KeyboardArrowUpIcon /></button>\r\n                        <button onClick={this.props.changePublishSizeMax} className=\"edit-font__content-publish-arrow\"><KeyboardArrowDownIcon /></button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"edit-font__content-publish-body\">\r\n                    <button type=\"submit\" className=\"edit-font__content-publish-btn\">Update</button>\r\n                    {this.props.pathName.indexOf(\"edit-font\") !== -1 && <span onClick={this.props.deleteFont} className=\"edit-font__content-publish-trash\">Move to Trash</span>}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from 'react-router-dom';\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { EditFontElementPublish } from './EditFontElementPublish';\r\nimport AltrpMeta from '../../../editor/src/js/classes/AltrpMeta';\r\nimport { getCustomFonts } from '../js/store/custom-fonts/actions';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { generateId } from '../js/helpers';\r\n\r\nconst fontWeightOptions = [100, 200, 300, 400, 500, 600, 700, 800, 900];\r\nconst fontStyleOptions = ['normal', 'italic', 'oblique'];\r\n\r\nclass EditFont extends Component {\r\n    state = {\r\n        fontFamily: '',\r\n        fontWeight: '',\r\n        fontStyle: '',\r\n        woffFile: '',\r\n        woff2File: '',\r\n        ttfFile: '',\r\n        svgFile: '',\r\n        eotFile: '',\r\n        fontsLibrary: [],\r\n        editFont: false,\r\n        publishMaxSize: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        new Resource({ route: `/admin/ajax/media?type=font` })\r\n            .getAll()\r\n            .then(fontsLibrary => this.setState({ fontsLibrary }));\r\n\r\n        this.initialFontName()\r\n    }\r\n\r\n    initialFontName() {\r\n        let fonts = this.props.metaValue\r\n        if (fonts !== null) {\r\n            const fontFamily = fonts[this.findIndexCurrentFont()].fontFamily\r\n            this.setState({\r\n                fontFamily,\r\n            })\r\n        }\r\n    }\r\n\r\n    changeHandler = ({ target: { value, name } }) => {\r\n        this.setState({ [name]: value });\r\n    };\r\n\r\n    postFont = e => {\r\n        e.persist();\r\n        new Resource({ route: '/admin/ajax/media' })\r\n            .postFiles(e.target.files)\r\n            .then(res => this.setState({ [e.target.name]: res[0].url, fontsLibrary: [...this.state.fontsLibrary, res[0]] }));\r\n    }\r\n\r\n    submitHandler = e => {\r\n        const { woffFile, woff2File, ttfFile, svgFile, eotFile } = this.state;\r\n\r\n        e.preventDefault();\r\n        // if (!woffFile && !woff2File && !ttfFile && !svgFile && !eotFile) {\r\n        //   return alert('Upload font file')\r\n        // }\r\n\r\n        const { fontsLibrary, ...restProps } = this.state;\r\n        const data = {};\r\n\r\n        for (const key in restProps) {\r\n            if (restProps[key]) {\r\n                data[key] = restProps[key];\r\n            }\r\n        }\r\n        // console.log(data)\r\n        this.addFontVariation(data)\r\n    }\r\n\r\n    addFontVariation = async (fontVariation) => {\r\n        let fonts = this.props.metaValue\r\n        let currentFont = fonts[this.findIndexCurrentFont()]\r\n        delete fontVariation.fontFamily\r\n        delete fontVariation.editFont\r\n        fontVariation.id = generateId()\r\n        currentFont.variations.push(fontVariation)\r\n        this.setNewMetaValue(fonts)\r\n    }\r\n\r\n    deleteFontVariation = async (id) => {\r\n        let fonts = this.props.metaValue\r\n        let currentFont = fonts[this.findIndexCurrentFont()]\r\n        const indexCurrentFontVariation = currentFont.variations.findIndex(item => item.id == id)\r\n        currentFont.variations.splice(indexCurrentFontVariation, 1)\r\n        this.setNewMetaValue(fonts)\r\n    }\r\n\r\n    deleteFont = async () => {\r\n        let fonts = this.props.metaValue\r\n        fonts.splice(this.findIndexCurrentFont(), 1)\r\n        this.setNewMetaValue(fonts)\r\n        this.setState({\r\n            fontFamily: '',\r\n        })\r\n    }\r\n\r\n    findIndexCurrentFont() {\r\n        const currentFontId = this.props.match.params.id\r\n        const indexCurrentFont = this.props.metaValue.findIndex(item => item.id == currentFontId)\r\n        return indexCurrentFont\r\n    }\r\n\r\n    setNewMetaValue = async (fonts) => {\r\n        let meta = await AltrpMeta.getMetaByName(\"custom_fonts\")\r\n        meta.setMetaValue(fonts)\r\n        await meta.save()\r\n        meta = await AltrpMeta.getMetaByName(\"custom_fonts\")\r\n        const metaValue = await meta.getMetaValue()\r\n        this.props.getCustomFonts(metaValue)\r\n    }\r\n\r\n    editFontOn = () => {\r\n        this.setState({\r\n            editFont: true,\r\n        })\r\n    }\r\n\r\n    editFontOff = () => {\r\n        this.setState({\r\n            editFont: false,\r\n        })\r\n    }\r\n\r\n    changePublishSizeMax = () => {\r\n        this.setState({\r\n            publishMaxSize: true,\r\n        })\r\n    }\r\n\r\n    changePublishSizeMin = () => {\r\n        this.setState({\r\n            publishMaxSize: false,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { fontFamily, fontWeight, fontStyle, woffFile, woff2File, ttfFile, svgFile, eotFile, fontsLibrary } = this.state;\r\n        let fontVariations = null;\r\n\r\n        if (this.props.metaValue !== null) {\r\n            const indexCurrentFont = this.props.metaValue.findIndex(item => item.id == this.props.match.params.id)\r\n            if (indexCurrentFont !== -1) {\r\n                const currentFont = this.props.metaValue[indexCurrentFont]\r\n                fontVariations = currentFont.variations.map(v => (\r\n                    <tr key={v.id} className=\"edit-font__content-font-editing-line\">\r\n                        <td className=\"edit-font__content-font-editing-line__element\"><span className=\"edit-font__content-font-editing-line__element_property\">Weight:</span>{v.fontWeight}</td>\r\n                        <td className=\"edit-font__content-font-editing-line__element\"><span className=\"edit-font__content-font-editing-line__element_property\">Style:</span>{v.fontStyle}</td>\r\n                        <td className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_description\">Elementor Is Making The Web Beautiful</td>\r\n                        <td className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_edit\"><EditIcon fontSize=\"small\" />Edit</td>\r\n                        <td onClick={() => this.deleteFontVariation(v.id)} className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_delete\"><DeleteIcon fontSize=\"small\" />Delete</td>\r\n                    </tr>\r\n                ))\r\n            }\r\n        }\r\n\r\n        return <div className=\"edit-font\">\r\n            <div className=\"custom-fonts__title\">Edit Font<Link to=\"/admin/assets/add-new-font\"><button className=\"custom-fonts__btn custom-fonts__btn_add-new\">Add new</button></Link></div>\r\n            <div className=\"edit-font__content\">\r\n                <div className=\"edit-font__content-main\">\r\n                    <div className=\"admin-content admin-content-fonts-form\">\r\n                        <form className=\"admin-form field-form\" onSubmit={this.submitHandler}>\r\n                            <input\r\n                                className=\"edit-font__content-input edit-font__content-input-add-font\"\r\n                                placeholder=\"Enter Font Family\"\r\n                                required\r\n                                type=\"text\"\r\n                                id=\"fontFamily\"\r\n                                name=\"fontFamily\"\r\n                                value={fontFamily}\r\n                                onChange={this.changeHandler} />\r\n                            {!this.state.publishMaxSize ? <div className=\"edit-font__content-publish edit-font__content-publish_min\">\r\n                                <EditFontElementPublish pathName={this.props.location.pathname} deleteFont={this.deleteFont} changePublishSizeMax={this.changePublishSizeMax} changePublishSizeMin={this.changePublishSizeMin} />\r\n                            </div> : null}\r\n                            {this.state.publishMaxSize ? <div className=\"edit-font__content-publish\">\r\n                                <EditFontElementPublish pathName={this.props.location.pathname} deleteFont={this.deleteFont} changePublishSizeMax={this.changePublishSizeMax} changePublishSizeMin={this.changePublishSizeMin} />\r\n                            </div> : null}\r\n                            <div className=\"edit-font__content-subtitle\">Manage Your Font Files</div>\r\n                            <table className=\"font-table\">\r\n                                <tbody>\r\n                                    {fontVariations}\r\n                                </tbody>\r\n                            </table>\r\n                            <div className={this.state.editFont ? \"add-variatons-open\" : \"add-variatons-close\"}>\r\n                                <table className=\"edit-font__content-main__variation-table\">\r\n                                    <tbody>\r\n                                        <tr className=\"edit-font__content-font-editing-line\">\r\n                                            <td className=\"edit-font__content-font-editing-line__element\"><span className=\"edit-font__content-font-editing-line__element_property\">Weight:</span>\r\n                                                <select\r\n                                                    id=\"fontWeight\"\r\n                                                    name=\"fontWeight\"\r\n                                                    value={fontWeight}\r\n                                                    onChange={this.changeHandler}\r\n                                                    className=\"edit-font__content-font-editing-line__element-value\"\r\n                                                >\r\n                                                    <option value=\"\"></option>\r\n                                                    {fontWeightOptions.map(value => <option value={value} key={value}>{value}</option>)}\r\n                                                </select></td>\r\n                                            <td className=\"edit-font__content-font-editing-line__element\"><span className=\"edit-font__content-font-editing-line__element_property\">Style:</span>\r\n                                                <select\r\n                                                    id=\"fontStyle\"\r\n                                                    name=\"fontStyle\"\r\n                                                    value={fontStyle}\r\n                                                    onChange={this.changeHandler}\r\n                                                    className=\"edit-font__content-font-editing-line__element-value\"\r\n                                                >\r\n                                                    <option value=\"\"></option>\r\n                                                    {fontStyleOptions.map(value => <option value={value} key={value}>{value}</option>)}\r\n                                                </select></td>\r\n                                            <td className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_description\">Elementor Is Making The Web Beautiful</td>\r\n                                            <td className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_edit\" onClick={this.editFontOff}>Close</td>\r\n                                            <td className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_delete\"><DeleteIcon fontSize=\"small\" />Delete</td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                                <div className=\"form-group-wrap\">\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">WOFF File</div>\r\n                                        <input className=\"showFontUrl\" value={woffFile} />\r\n                                        <select\r\n                                            name=\"woffFile\"\r\n                                            value={woffFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">The Web Open Font Format, Used by Modern Browsers</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".woff\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">WOFF2 File</div>\r\n                                        <input className=\"showFontUrl\" value={woff2File} />\r\n                                        <select\r\n                                            name=\"woff2File\"\r\n                                            value={woff2File}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">The Web Open Font Format 2, Used by Super Modern Browsers</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".woff2\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">TTF File</div>\r\n                                        <input className=\"showFontUrl\" value={ttfFile} />\r\n                                        <select\r\n                                            name=\"ttfFile\"\r\n                                            value={ttfFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">TrueType Fonts, Used for better supporting Safari, Android, iOS</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".ttf\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">SVG File</div>\r\n                                        <input className=\"showFontUrl\" value={svgFile} />\r\n                                        <select\r\n                                            name=\"svgFile\"\r\n                                            value={svgFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">SVG fonts allow SVG to be used as glyphs when displaying text, Used by Legacy iOS</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".svg\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">EOT File</div>\r\n                                        <input className=\"showFontUrl\" value={eotFile} />\r\n                                        <select\r\n                                            name=\"eotFile\"\r\n                                            value={eotFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">Embedded OpenType, Used by IE6-IE9 Browsers</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".eot\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                    <button onClick={this.editFontOn} className=\"edit-font__content-main-btn\">ADD FONT VARIATION</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(null, { getCustomFonts }),\r\n    withRouter\r\n)(EditFont);","import React, { Component } from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { withRouter } from \"react-router\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { EditFontElementPublish } from './EditFontElementPublish';\r\nimport AltrpMeta from '../../../editor/src/js/classes/AltrpMeta';\r\nimport { getCustomFonts } from '../js/store/custom-fonts/actions';\r\nimport { generateId } from '../js/helpers';\r\n\r\nconst fontWeightOptions = [100, 200, 300, 400, 500, 600, 700, 800, 900];\r\nconst fontStyleOptions = ['normal', 'italic', 'oblique'];\r\n\r\nclass AddNewFont extends Component {\r\n    state = {\r\n        fontFamily: '',\r\n        fontWeight: '',\r\n        fontStyle: '',\r\n        woffFile: '',\r\n        woff2File: '',\r\n        ttfFile: '',\r\n        svgFile: '',\r\n        eotFile: '',\r\n        fontsLibrary: [],\r\n        editFont: false,\r\n        publishMaxSize: false,\r\n        fontSavedSuccessfully: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        new Resource({ route: `/admin/ajax/media?type=font` })\r\n            .getAll()\r\n            .then(fontsLibrary => this.setState({ fontsLibrary }));\r\n    }\r\n\r\n    changeHandler = ({ target: { value, name } }) => {\r\n        this.setState({ [name]: value });\r\n    };\r\n\r\n    postFont = e => {\r\n        e.persist();\r\n        new Resource({ route: '/admin/ajax/media' })\r\n            .postFiles(e.target.files)\r\n            .then(res => this.setState({ [e.target.name]: res[0].url, fontsLibrary: [...this.state.fontsLibrary, res[0]] }));\r\n    }\r\n\r\n    submitHandler = e => {\r\n        const { woffFile, woff2File, ttfFile, svgFile, eotFile } = this.state;\r\n\r\n        e.preventDefault();\r\n        // if (!woffFile && !woff2File && !ttfFile && !svgFile && !eotFile) {\r\n        //   return alert('Upload font file')\r\n        // }\r\n\r\n        const { fontsLibrary, ...restProps } = this.state;\r\n        const data = {};\r\n\r\n        for (const key in restProps) {\r\n            if (restProps[key]) {\r\n                data[key] = restProps[key];\r\n            }\r\n        }\r\n        // console.log(data)\r\n        this.addNewFont(data)\r\n    }\r\n\r\n    addNewFont = async (newFont) => {\r\n        let meta = await AltrpMeta.getMetaByName(\"custom_fonts\")\r\n        let fonts = this.props.metaValue\r\n        if (fonts === null) {\r\n            fonts = []\r\n        }\r\n        const idCurrentFont = generateId()\r\n        let configNewFont = {\r\n            id: idCurrentFont,\r\n            fontFamily: newFont.fontFamily,\r\n            variations: [\r\n                {\r\n                    id: generateId(),\r\n                    fontStyle: newFont.fontStyle,\r\n                    fontWeight: newFont.fontWeight,\r\n                    woffFile: newFont.woffFile,\r\n                    woff2File: newFont.woff2File,\r\n                    ttfFile: newFont.ttfFile,\r\n                    svgFile: newFont.svgFile,\r\n                    eotFile: newFont.eotFile,\r\n                }\r\n            ]\r\n        }\r\n        fonts.push(configNewFont)\r\n        meta.setMetaValue(fonts)\r\n        await meta.save()\r\n        meta = await AltrpMeta.getMetaByName(\"custom_fonts\")\r\n        const metaValue = await meta.getMetaValue()\r\n        this.props.getCustomFonts(metaValue)\r\n        this.setState({\r\n            fontSavedSuccessfully: true,\r\n            idCurrentFontForRedirect: idCurrentFont,\r\n        })\r\n    }\r\n\r\n    editFontOn = () => {\r\n        this.setState({\r\n            editFont: true,\r\n        })\r\n    }\r\n\r\n    editFontOff = () => {\r\n        this.setState({\r\n            editFont: false,\r\n        })\r\n    }\r\n\r\n    changePublishSizeMax = () => {\r\n        this.setState({\r\n            publishMaxSize: true,\r\n        })\r\n    }\r\n\r\n    changePublishSizeMin = () => {\r\n        this.setState({\r\n            publishMaxSize: false,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { fontFamily, fontWeight, fontStyle, woffFile, woff2File, ttfFile, svgFile, eotFile, fontsLibrary } = this.state;\r\n\r\n        if (this.state.fontSavedSuccessfully) {\r\n            return <Redirect from=\"/admin/assets/add-new-font\" to={`/admin/assets/edit-font/${this.state.idCurrentFontForRedirect}`} />\r\n        }\r\n\r\n        return <div className=\"edit-font\">\r\n            <div className=\"custom-fonts__title\">Add New Font</div>\r\n            <div className=\"edit-font__content\">\r\n                <div className=\"edit-font__content-main\">\r\n                    <div className=\"admin-content admin-content-fonts-form\">\r\n                        <form className=\"admin-form field-form\" onSubmit={this.submitHandler}>\r\n                            <input\r\n                                className=\"edit-font__content-input edit-font__content-input-add-font\"\r\n                                placeholder=\"Enter Font Family\"\r\n                                required\r\n                                type=\"text\"\r\n                                id=\"fontFamily\"\r\n                                name=\"fontFamily\"\r\n                                value={fontFamily}\r\n                                onChange={this.changeHandler} />\r\n                            {!this.state.publishMaxSize ? <div className=\"edit-font__content-publish edit-font__content-publish_min\">\r\n                                <EditFontElementPublish pathName={this.props.location.pathname} changePublishSizeMax={this.changePublishSizeMax} changePublishSizeMin={this.changePublishSizeMin} />\r\n                            </div> : null}\r\n                            {this.state.publishMaxSize ? <div className=\"edit-font__content-publish\">\r\n                                <EditFontElementPublish pathName={this.props.location.pathname} changePublishSizeMax={this.changePublishSizeMax} changePublishSizeMin={this.changePublishSizeMin} />\r\n                            </div> : null}\r\n                            <div className=\"edit-font__content-subtitle\">Manage Your Font Files</div>\r\n                            <div className={this.state.editFont ? \"add-variatons-open\" : \"add-variatons-close\"}>\r\n                                <div className=\"edit-font__content-font-editing-line\">\r\n                                    <span className=\"edit-font__content-font-editing-line__element\"><span className=\"edit-font__content-font-editing-line__element_property\">Weight:</span><select\r\n                                        id=\"fontWeight\"\r\n                                        name=\"fontWeight\"\r\n                                        value={fontWeight}\r\n                                        onChange={this.changeHandler}\r\n                                        className=\"edit-font__content-font-editing-line__element-value\"\r\n                                    >\r\n                                        <option value=\"\"></option>\r\n                                        {fontWeightOptions.map(value => <option value={value} key={value}>{value}</option>)}\r\n                                    </select></span>\r\n                                    <span className=\"edit-font__content-font-editing-line__element\"><span className=\"edit-font__content-font-editing-line__element_property\">Style:</span><select\r\n                                        id=\"fontStyle\"\r\n                                        name=\"fontStyle\"\r\n                                        value={fontStyle}\r\n                                        onChange={this.changeHandler}\r\n                                        className=\"edit-font__content-font-editing-line__element-value\"\r\n                                    >\r\n                                        <option value=\"\"></option>\r\n                                        {fontStyleOptions.map(value => <option value={value} key={value}>{value}</option>)}\r\n                                    </select></span>\r\n                                    <span className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_description\">Elementor Is Making The Web Beautiful</span>\r\n                                    <span className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_edit\" onClick={this.editFontOff}>Close</span>\r\n                                    <span className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_delete\"><DeleteIcon fontSize=\"small\" />Delete</span>\r\n                                </div>\r\n                                <div className=\"form-group-wrap\">\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">WOFF File</div>\r\n                                        <input className=\"showFontUrl\" value={woffFile} />\r\n                                        <select\r\n                                            name=\"woffFile\"\r\n                                            value={woffFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">The Web Open Font Format, Used by Modern Browsers</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".woff\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">WOFF2 File</div>\r\n                                        <input className=\"showFontUrl\" value={woff2File} />\r\n                                        <select\r\n                                            name=\"woff2File\"\r\n                                            value={woff2File}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">The Web Open Font Format 2, Used by Super Modern Browsers</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".woff2\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">TTF File</div>\r\n                                        <input className=\"showFontUrl\" value={ttfFile} />\r\n                                        <select\r\n                                            name=\"ttfFile\"\r\n                                            value={ttfFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">TrueType Fonts, Used for better supporting Safari, Android, iOS</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".ttf\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">SVG File</div>\r\n                                        <input className=\"showFontUrl\" value={svgFile} />\r\n                                        <select\r\n                                            name=\"svgFile\"\r\n                                            value={svgFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">SVG fonts allow SVG to be used as glyphs when displaying text, Used by Legacy iOS</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".svg\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">EOT File</div>\r\n                                        <input className=\"showFontUrl\" value={eotFile} />\r\n                                        <select\r\n                                            name=\"eotFile\"\r\n                                            value={eotFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">Embedded OpenType, Used by IE6-IE9 Browsers</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".eot\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                    <button onClick={this.editFontOn} className=\"edit-font__content-main-btn\">ADD FONT VARIATION</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(null, { getCustomFonts }),\r\n    withRouter\r\n)(AddNewFont);","import React, {Component} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Times from \"../../../svgs/times.svg\";\r\nimport { assetsToggle } from \"../../store/assets-browser/actions\";\r\nimport Resource from \"../Resource\";\r\nimport '../../../sass/assets-browser.scss';\r\n\r\n\r\nclass AssetsBrowser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.tabClick = this.tabClick.bind(this);\r\n    this.toggleBrowser = this.toggleBrowser.bind(this);\r\n    this.selectAsset = this.selectAsset.bind(this);\r\n    this.chooseAsset = this.chooseAsset.bind(this);\r\n    this.state = {\r\n      // activeTab: 'icons',\r\n      activeTab: \"media\",\r\n      tabs: [\r\n        // {\r\n        //   name: 'upload',\r\n        //   title: 'Upload Media File',\r\n        // },\r\n        {\r\n          name: \"icons\",\r\n          title: \"Icons Library\"\r\n        },\r\n        {\r\n          name: \"media\",\r\n          title: \"Media Library\"\r\n        },\r\n        {\r\n          name: \"video\", //TODO: логично было бы эту вкладку назвать Media\r\n          title: \"Video Library\"\r\n        }\r\n      ],\r\n      svgAssets: [],\r\n      assets: this.getAssets(\"media\"),\r\n      // assets: this.getAssets('icons'),\r\n      selectedAsset: null,\r\n      mediaAssets: [],\r\n      videoAssets: []\r\n    };\r\n    this.mediaResource = new Resource({ route: \"/admin/ajax/media?type=image\" });\r\n    this.svgResource  =new Resource({ route: \"/admin/ajax/media?type=svg\" });\r\n    this.videoResource = new Resource({ route: \"/admin/ajax/media?type=media\" });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, nextContext) {\r\n    if(this.props.tabs && prevProps.tabs !== this.props.tabs) {\r\n      let tabs = [...this.state.tabs];\r\n      let activeTab;\r\n      tabs = tabs.filter(tab=>{\r\n        if(this.props.tabs.indexOf(tab.name) !== -1 && ! activeTab){\r\n          activeTab = tab.name;\r\n        }\r\n        return this.props.tabs.indexOf(tab.name) !== -1;\r\n      });\r\n      if(! activeTab){\r\n        activeTab = 'media';\r\n      }\r\n      this.setState(state=>({...state, tabs, activeTab }), ()=>{this.setActiveTab(activeTab)})\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      this.videoResource.getAll()\r\n        .then(videoAssets => this.setState({ videoAssets }));\r\n\r\n      let resSvg = await this.svgResource.getAll();\r\n      this.setState(state => {\r\n        return { ...state, svgAssets: resSvg };\r\n      });\r\n\r\n      let resMedia = await this.mediaResource.getAll();\r\n      this.setState(state => {\r\n        state = { ...state, mediaAssets: resMedia };\r\n        if (state.activeTab === \"media\") {\r\n          state.assets = resMedia;\r\n        }\r\n        return state;\r\n      });\r\n    } catch (error) {\r\n      console.log(\"error\", error);\r\n    }\r\n\r\n    document.addEventListener('keydown', (event) => {\r\n      if (event.key === \"Escape\") {\r\n          this.toggleBrowser();\r\n      }\r\n    });\r\n  }\r\n  getAssets(tab) {\r\n    if (! tab) {\r\n      tab = this.state.activeTab;\r\n    }\r\n\r\n    switch (tab) {\r\n      case \"icons\": {\r\n        return this.state.svgAssets\r\n        // return [ ...iconsManager().getIconsList(), ...this.state.svgAssets];\r\n      }\r\n      case \"media\": {\r\n        return this.state ? this.state.mediaAssets : [];\r\n      }\r\n    }\r\n    return [];\r\n  }\r\n\r\n  selectAsset(e) {\r\n    let selectedAsset = e.currentTarget.dataset.assetname;\r\n    this.setState(state => {\r\n      return { ...state, selectedAsset };\r\n    });\r\n  }\r\n\r\n  tabClick(e) {\r\n    this.setActiveTab(e.target.dataset.tab);\r\n  }\r\n\r\n  setActiveTab(tab) {\r\n    this.setState(state => {\r\n      return { ...state, activeTab: tab, assets: this.getAssets(tab) };\r\n    });\r\n  }\r\n\r\n  toggleBrowser() {\r\n    this.setState(state => {\r\n      return { ...state, selectedAsset: null };\r\n    });\r\n    this.props.dispatch(assetsToggle());\r\n  }\r\n\r\n  chooseAsset() {\r\n    let asset;\r\n    this.state.assets.forEach(item => {\r\n      if (item.name === this.state.selectedAsset) {\r\n        asset = item;\r\n      }\r\n    });\r\n    if (!asset) {\r\n      throw `Asset with name ${this.state.selectedAsset} not found in Assets Browser (${this.state.activeTab})!`;\r\n    }\r\n    this.props.onChoose(asset);\r\n    this.setState(state => {\r\n      return { ...state, selectedAsset: null };\r\n    });\r\n    this.props.dispatch(assetsToggle());\r\n  }\r\n\r\n  render() {\r\n    const { videoAssets, activeTab } = this.state;\r\n    let classes = \"assets-browser\";\r\n    if (this.props.active) {\r\n      classes += \" assets-browser_active\";\r\n    }\r\n    let buttonClasses = \"btn\";\r\n    if (!this.state.selectedAsset) {\r\n      buttonClasses += \" btn_disabled\";\r\n    } else {\r\n      buttonClasses += \" btn_success\";\r\n    }\r\n    if(! this.props.active){\r\n      return  '';\r\n    }\r\n    return (\r\n      <div className={classes}>\r\n        <div className=\"assets-browser__bg\" onClick={this.toggleBrowser} />\r\n        <div className=\"assets-browser-content\">\r\n          <div className=\"assets-browser-top\">\r\n            <div className=\"caption\">Append Media</div>\r\n            <button className=\"btn btn_bare assets-browser__close\" onClick={this.toggleBrowser} >\r\n              <Times className=\"icon\"/>\r\n            </button>\r\n            <div className=\"assets-browser-nav\">\r\n              {this.state.tabs.map(tab => {\r\n                let tabClasses = \"assets-browser__tab\";\r\n                if (this.state.activeTab === tab.name) {\r\n                  tabClasses += \" assets-browser__tab_active\";\r\n                }\r\n                return (\r\n                  <button\r\n                    className={tabClasses}\r\n                    onClick={this.tabClick}\r\n                    key={tab.name}\r\n                    data-tab={tab.name}\r\n                  >\r\n                    {tab.title}\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          {this.state.assets.length ? (\r\n            <div className=\"assets-browser-choose-frame\">\r\n              {this.state.assets.map(asset => {\r\n                let AssetContent;\r\n                let classes = \"asset-choose\";\r\n                let assetProps = {\r\n                  className: \"asset-choose__content\"\r\n                };\r\n                if (this.state.activeTab === \"icons\") {\r\n                  if(asset.iconComponent) {\r\n                    AssetContent = asset.iconComponent;\r\n                  } else {\r\n                    AssetContent = \"img\";\r\n                    asset.name = asset.filename;\r\n                    assetProps.src = asset.url;\r\n                  }\r\n\r\n                  classes += \" asset-choose_icon\";\r\n                  // assetProps.viewBox = '0 0 20 20';\r\n                  // assetProps.viewport = '0 0 10 10';\r\n                  assetProps.width = \"35\";\r\n                  assetProps.height = \"35\";\r\n                }\r\n                if (this.state.activeTab === \"media\") {\r\n                  AssetContent = \"img\";\r\n                  assetProps.src = asset.url;\r\n                  classes += \" asset-choose_media\";\r\n                  asset.name = asset.filename;\r\n                  asset.assetType = \"media\";\r\n                }\r\n                if (this.state.selectedAsset === asset.name) {\r\n                  classes += \" asset-choose_selected\";\r\n                }\r\n                return (\r\n                  <div\r\n                    className={classes}\r\n                    data-assetname={asset.name}\r\n                    key={asset.name}\r\n                    onClick={this.selectAsset}\r\n                  >\r\n                    <AssetContent {...assetProps} />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {activeTab === 'video' && <div className=\"assets-browser-choose-frame\">\r\n            {videoAssets.map(video => <div className=\"assets-list__item item col-1\" onClick={this.selectAsset}>\r\n              <svg width=\"43\" height=\"56\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"item__icon-background\">\r\n                <path d=\"M30.485 0H1.463C.655 0 0 .655 0 1.926V55c0 .345.655 1 1.463 1h40.074c.808 0 1.463-.655 1.463-1V12.978c0-.696-.093-.92-.257-1.085L31.107.257A.884.884 0 0030.485 0z\" fill=\"#F7F8F9\"></path><path d=\"M31 .151V12h11.849L31 .151z\" fill=\"#E0E1E6\"></path><path d=\"M41.537 56H1.463A1.463 1.463 0 010 54.537V39h43v15.537c0 .808-.655 1.463-1.463 1.463z\" fill=\"#7CA727\"></path><path d=\"M18.262 52h-1.86v-6.07L13.96 52h-.806l-2.444-6.07V52H8.863v-8.67h2.587l2.106 5.238 2.106-5.239h2.6V52zM21.83 52h-1.846v-8.67h4.056c.91 0 1.62.268 2.132.805.52.529.78 1.192.78 1.99 0 .788-.26 1.45-.78 1.988-.52.537-1.23.806-2.132.806h-2.21V52zm1.963-4.706c.373 0 .676-.104.91-.312.243-.217.364-.503.364-.858s-.121-.637-.364-.845c-.234-.217-.537-.325-.91-.325H21.83v2.34h1.963zM33.556 52H31.71v-1.794h-4.147V48.75l3.445-5.42h2.548v5.251h1.118v1.625h-1.118V52zm-1.846-3.419v-3.614l-2.34 3.614h2.34z\" fill=\"#fff\"></path><path d=\"M16.923 28a.964.964 0 01-.444-.108.87.87 0 01-.479-.767v-12.25a.87.87 0 01.48-.768.972.972 0 01.94.03l10.153 6.124c.265.161.427.44.427.739 0 .3-.162.577-.427.738l-10.154 6.125a.968.968 0 01-.496.137zm.923-11.532v9.063L25.357 21l-7.51-4.532z\" fill=\"#D5D7DE\"></path><path d=\"M21 35c-7.72 0-14-6.28-14-14S13.28 7 21 7s14 6.28 14 14-6.28 14-14 14zm0-26.133C14.31 8.867 8.867 14.31 8.867 21c0 6.69 5.443 12.133 12.133 12.133 6.69 0 12.133-5.443 12.133-12.133 0-6.69-5.443-12.133-12.133-12.133z\" fill=\"#D5D7DE\"></path>\r\n              </svg>\r\n            </div>)}\r\n          </div>}\r\n          <div className=\"assets-browser-bottom\">\r\n            <button className={buttonClasses} onClick={this.chooseAsset}>\r\n              Choose\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ...state.assetsManagerSettings\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AssetsBrowser);\r\n","export const SET_USER_DATA = 'SET_USER_DATA';\r\nexport const SET_USERS_ONLINE = 'SET_USERS_ONLINE';\r\n\r\nexport function setUserData(userData) {\r\n  return {\r\n    userData,\r\n    type: SET_USER_DATA,\r\n  }\r\n}\r\nexport function setUsersOnline(members){\r\n  return { type: SET_USERS_ONLINE, members }\r\n}\r\n","import React, {Component} from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport AdminTable from \"../AdminTable\";\r\nimport {Link} from \"react-router-dom\";\r\nimport CONSTANTS from '../../../../editor/src/js/consts'\r\n\r\nclass Areas extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      areas: [],\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.updateAreas();\r\n  }\r\n\r\n  updateAreas = async () => {\r\n    const resource = new Resource({route: '/admin/ajax/areas'});\r\n    let areas = await resource.getAll();\r\n    areas = areas.filter(area => CONSTANTS.DEFAULT_AREAS.indexOf(area.name) === -1)\r\n    this.setState(state => ({...state, areas}))\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <div className=\"admin-breadcrumbs__current\">Areas</div>\r\n        </div>\r\n        <Link className=\"btn\" to={`/admin/areas/add`}>Add New</Link>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AdminTable columns={[\r\n          {\r\n            name: 'title',\r\n            title: 'Title',\r\n            url: true,\r\n            editUrl: true,\r\n            tag: 'Link'\r\n          },\r\n        ]}\r\n                    quickActions={[\r\n                      {\r\n                        tag: \"button\",\r\n                        route: `/admin/ajax/areas/:id`,\r\n                        method: \"delete\",\r\n                        confirm: \"Are You Sure?\",\r\n                        after: ()=>{this.updateAreas()},\r\n                        className: \"quick-action-menu__item_danger\",\r\n                        title: \"Trash\"\r\n                      }\r\n                    ]}\r\n                    rows={this.state.areas.map(area => ({\r\n                      ...area,\r\n                      editUrl: '/admin/areas/' + area.id\r\n                    }))}/>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Areas\r\n","import React, {Component} from \"react\";\r\nimport AltrpCodeEditor from \"../altrp-editor/AltrpCodeEditor\";\r\nimport {titleToName} from \"../../js/helpers\";\r\n\r\nclass AreaForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let defaultValue = {\r\n      title: '',\r\n      name: '',\r\n      settings: {\r\n        area_type: 'sidebar',\r\n        sidebar_type: '',\r\n        sidebar_location: '',\r\n        sidebar_width: '',\r\n        custom_css: '',\r\n      },\r\n    };\r\n    this.state = {\r\n      value: props.value ? props.value : defaultValue,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * передадим значение\r\n   */\r\n  submitForm = (e) => {\r\n    e.preventDefault();\r\n    if (this.props.onSubmit) {\r\n      this.props.onSubmit(this.state.value);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Обновим значение\r\n   * @param {*} inputValue\r\n   * @param {string} valueName\r\n   */\r\n  changeValue = (inputValue, valueName) => {\r\n    const value = {...this.state.value};\r\n    if (valueName === 'title') {\r\n      value.name = titleToName(inputValue);\r\n    }\r\n    _.set(value, valueName, inputValue);\r\n    this.setState(state => ({...state, value}))\r\n  }\r\n\r\n  render() {\r\n    const {title, settings} = this.state.value;\r\n    return <form method=\"post\" action=\"/ajax/areas/add\" onSubmit={this.submitForm}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"title\">Title</label>\r\n        <input type=\"text\" id=\"title\" required\r\n               name=\"title\"\r\n               value={title}\r\n               onChange={e => {\r\n                 this.changeValue(e.target.value, 'title')\r\n               }}\r\n               className=\"form-control\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"settings.area_type\">Area Type</label>\r\n        <select\r\n          id=\"settings.area_type\"\r\n          required={true}\r\n          value={settings.area_type}\r\n          onChange={e => {\r\n            this.changeValue(e.target.value, 'settings.area_type');\r\n          }}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"sidebar\">Sidebar</option>\r\n        </select>\r\n      </div>\r\n      {settings.area_type === 'sidebar' &&\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"settings.sidebar_type\">Sidebar Type</label>\r\n        <select\r\n          id=\"settings.sidebar_type\"\r\n          required={true}\r\n          value={settings.sidebar_type}\r\n          onChange={e => {\r\n            this.changeValue(e.target.value, 'settings.sidebar_type');\r\n          }}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"\">Choose...</option>\r\n          <option value=\"content_sidebar\">Content Sidebar</option>\r\n          <option value=\"app_sidebar\">App Sidebar</option>\r\n        </select>\r\n      </div>}\r\n      {settings.area_type === 'sidebar' &&\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"settings.sidebar_location\">Sidebar Location</label>\r\n        <select\r\n          id=\"settings.sidebar_location\"\r\n          required={true}\r\n          value={settings.sidebar_location}\r\n          onChange={e => {\r\n            this.changeValue(e.target.value, 'settings.sidebar_location');\r\n          }}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"\">Choose...</option>\r\n          <option value=\"left\">Left</option>\r\n          <option value=\"right\">Right</option>\r\n        </select>\r\n      </div>}\r\n      {settings.area_type === 'sidebar' &&\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"settings.sidebar_width\">Sidebar Width</label>\r\n        <input type=\"text\" id=\"settings.sidebar_width\" required\r\n               name=\"title\"\r\n               value={settings.sidebar_width}\r\n               onChange={e => {\r\n                 this.changeValue(e.target.value, 'settings.sidebar_width')\r\n               }}\r\n               className=\"form-control\"\r\n        />\r\n      </div>}\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"settings.custom_css\">Custom CSS</label>\r\n        <AltrpCodeEditor value={settings.custom_css}\r\n                         id=\"settings.custom_css\"\r\n                         mode=\"css\"\r\n                         onChange={value => {\r\n                           this.changeValue(value, 'settings.custom_css')\r\n                         }}\r\n        />\r\n      </div>\r\n      <button className=\"btn btn_success\">{this.props.submitText || 'Add'}</button>\r\n    </form>\r\n  }\r\n}\r\n\r\nexport default AreaForm\r\n","import React, {Component} from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport AreaForm from \"./AreaForm\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass AreaAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {}\r\n    this.resource = new Resource({route: '/admin/ajax/areas'});\r\n  }\r\n\r\n\r\n  submitForm = value => {\r\n    try{\r\n      const res = this.resource.post(value);\r\n      alert('Success');\r\n      this.props.history.push('/admin/areas');\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link to=\"/admin/areas\" className=\"admin-breadcrumbs__link\">Areas</Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AreaForm onSubmit={this.submitForm}/>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(AreaAdd)\r\n","import {withRouter} from \"react-router\";\r\nimport React, {Component} from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport AreaForm from \"./AreaForm\";\r\n\r\n\r\nclass AreaEdit extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.resource = new Resource({route: '/admin/ajax/areas'});\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      let value = await this.resource.get(this.props.match.params.id)\r\n      this.setState(state=>({...state, value}))\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  submitForm = value => {\r\n    try{\r\n      const res = this.resource.put(this.props.match.params.id, value);\r\n      alert('Success');\r\n      this.props.history.push('/admin/areas');\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link to=\"/admin/areas\" className=\"admin-breadcrumbs__link\">Areas</Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        {this.state.value &&\r\n        <AreaForm onSubmit={this.submitForm}\r\n                  submitText={'Update'}\r\n                  value={this.state.value}/>}\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(AreaEdit)\r\n","import React, {Component} from \"react\";\r\nimport store from '../../js/store/store'\r\nimport {assetsShow} from \"../../../../editor/src/js/store/assets-browser/actions\";\r\nimport { iconsManager } from \"../../js/helpers\";\r\nimport styled from \"styled-components\";\r\n\r\nconst IconSelectWrapper = styled.div`\r\n  & svg{\r\n    max-width: ${({maxWidth}) => maxWidth || '200px'};\r\n    max-height: ${({maxHeight}) => maxHeight || '200px'};\r\n  }\r\n  & .altrp-icon-select__content{\r\n    padding: 20px;\r\n    background-color: #F7F8F9;\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\nclass IconSelect extends Component {\r\n  openAssetsBrowser = ()=>{\r\n    const assetsSettings = {\r\n      tabs: ['icons'],\r\n      onChoose: async (icon)=>{\r\n        let returnType = this.props.returnType;\r\n        if(! returnType){\r\n          returnType = 'object';\r\n        }\r\n        switch (returnType){\r\n          case 'object':{\r\n            this.props.onChange && this.props.onChange(icon)\r\n          }break;\r\n          case 'text':{\r\n            try {\r\n              fetch(icon.url).then(res => res.text()).then(res=>{\r\n                this.props.onChange && this.props.onChange(res)\r\n              });\r\n            }catch (e) {\r\n              console.error(e);\r\n              this.props.onChange && this.props.onChange('')\r\n            }\r\n          }break;\r\n        }\r\n      }\r\n    };\r\n    store.dispatch(assetsShow(assetsSettings))\r\n  }\r\n  render(){\r\n    return <IconSelectWrapper className=\"altrp-icon-select\" onClick={this.openAssetsBrowser} {...this.props}>\r\n      {this.props.value ?\r\n        <div className=\"altrp-icon-select__content \" dangerouslySetInnerHTML={{__html: this.props.value}}/>\r\n        : iconsManager().renderIcon('add')}\r\n    </IconSelectWrapper>\r\n  }\r\n}\r\n\r\nexport default IconSelect\r\n","import React, {Component} from \"react\";\r\nimport {ReactSortable} from \"react-sortablejs\";\r\nimport IconSelect from \"../icon-select/IconSelect\";\r\n\r\n\r\nclass MenuItem extends Component {\r\n  state = {\r\n    showContent: false,\r\n  };\r\n\r\n  render() {\r\n    const {showContent} = this.state;\r\n    return (\r\n      <div className=\"altrp-menu-item\">\r\n        <div\r\n          className=\"altrp-menu-item__handle\"\r\n          onDoubleClick={() => this.setState(state => ({...state, showContent: !this.state.showContent}))}>\r\n          <span className=\"altrp-menu-item__title\">{this.props.item.label || '(no Label)'}</span>\r\n        </div>\r\n        {showContent && <div className=\"altrp-menu-item-content p-3 \">\r\n          <label htmlFor={`${this.props.indexes.join('.')}.label`} className=\"form-label\">Label</label>\r\n          <input type=\"text\"\r\n                 className=\"form-control\"\r\n                 id={`${this.props.indexes.join('.')}.label`}\r\n                 onChange={(e) => {\r\n                   let value = e.target.value;\r\n                   let path = this.props.indexes.map(((index) => {\r\n                     return `children.${index}`;\r\n                   })).join('.') + '.label'\r\n                   this.props.updateValue(value, path)\r\n                 }}\r\n                 value={this.props.item.label}/>\r\n          <label htmlFor={`${this.props.indexes.join('.')}.url`} className=\"form-label\">URL</label>\r\n          <input type=\"text\"\r\n                 className=\"form-control\"\r\n                 id={`${this.props.indexes.join('.')}.url`}\r\n                 onChange={(e) => {\r\n                   let value = e.target.value;\r\n                   let path = this.props.indexes.map(((index) => {\r\n                     return `children.${index}`;\r\n                   })).join('.') + '.url'\r\n                   this.props.updateValue(value, path)\r\n                 }}\r\n                 value={this.props.item.url}/>\r\n          <label htmlFor={`${this.props.indexes.join('.')}.icon`} className=\"form-label\">Icon</label>\r\n          <button\r\n            onClick={() => {\r\n              let value = '';\r\n              let path = this.props.indexes.map(((index) => {\r\n                return `children.${index}`;\r\n              })).join('.') + '.icon'\r\n              this.props.updateValue(value, path)\r\n            }}\r\n            className=\"btn btn_link text-danger fs-2 altrp-menu-item__delete\">delete Icon\r\n          </button>\r\n          <IconSelect\r\n            value={this.props.item.icon}\r\n            returnType=\"text\"\r\n            onChange={(icon) => {\r\n              let value = icon;\r\n              let path = this.props.indexes.map(((index) => {\r\n                return `children.${index}`;\r\n              })).join('.') + '.icon'\r\n              this.props.updateValue(value, path)\r\n            }}/>\r\n          <button\r\n            onClick={() => {\r\n              this.props.deleteItem(this.props.indexes)\r\n            }}\r\n            className=\"btn btn_link text-danger fs-2 altrp-menu-item__delete\">delete\r\n          </button>\r\n        </div>}\r\n        <ReactSortable\r\n          className=\"altrp-menu-item-children\"\r\n          group=\"nested\"\r\n          setList={(newList) => this.props.updateChildren(newList, this.props.indexes)}\r\n          list={this.props.item.children}>\r\n          {this.props.item.children.map((item, idx) => {\r\n            return <MenuItem\r\n              item={item}\r\n              key={item.id}\r\n              indexes={[...this.props.indexes, idx]}\r\n              deleteItem={this.props.deleteItem}\r\n              updateChildren={this.props.updateChildren}\r\n              updateValue={this.props.updateValue}/>\r\n          })}\r\n        </ReactSortable>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MenuItem\r\n","import React, {Component} from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport styled from 'styled-components';\r\nimport {ReactSortable} from \"react-sortablejs\";\r\nimport {generateId} from \"../../js/helpers\";\r\nimport MenuItem from \"./MenuItem\";\r\nimport mutate from \"dot-prop-immutable\";\r\nimport {mbParseJSON} from \"../../../../front-app/src/js/helpers\";\r\nimport IconSelect from \"../icon-select/IconSelect\";\r\n\r\n\r\nconst defaultValue = {\r\n  name: '',\r\n  children: [],\r\n  settings: {\r\n    toggle_icon: ''\r\n  },\r\n};\r\nconst Wrapper = styled.div`\r\n  & {\r\n    border: 1px solid #dcdcde;\r\n  }\r\n\r\n  & .altrp-menu-item {\r\n    line-height: 1.5;\r\n    position: relative;\r\n  }\r\n\r\n  & .altrp-menu-item__handle {\r\n    border: 1px solid #dcdcde;\r\n    position: relative;\r\n    padding: 10px 15px;\r\n    height: auto;\r\n    min-height: 20px;\r\n    max-width: 382px;\r\n    line-height: 1.5;\r\n    overflow: hidden;\r\n    word-wrap: break-word;\r\n    cursor: move;\r\n    background-color: #F7F8F9;\r\n  }\r\n\r\n  & .altrp-menu-item-content {\r\n    border: 1px solid #dcdcde;\r\n    border-top: none;\r\n    max-width: 382px;\r\n  }\r\n\r\n  & .altrp-menu-builder-top {\r\n    border-bottom: 1px solid #dcdcde;\r\n\r\n    .form-control {\r\n      width: 400px;\r\n    }\r\n  }\r\n\r\n  & .altrp-menu-sortable {\r\n    width: calc(100% - 400px);\r\n    background-color: #fff;\r\n  }\r\n\r\n  & .altrp-menu-item-children {\r\n    padding-bottom: 6px;\r\n    padding-top: 6px;\r\n    padding-left: 20px;\r\n  }\r\n\r\n  & .altrp-menu-item-content .form-control:not(:first-child) {\r\n    margin-bottom: 13px;\r\n  }\r\n\r\n  & .altrp-menu-builder-add {\r\n    width: 400px;\r\n    border-right: 1px solid #dcdcde;\r\n\r\n    .form-label {\r\n      width: auto;\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  & .altrp-menu-item__delete {\r\n    font-size: 12px;\r\n  }\r\n\r\n  & .altrp-menu-builder-actions {\r\n    width: 100%;\r\n    border-top: 1px solid #dcdcde;\r\n    background-color: #fff;\r\n  }\r\n`;\r\n\r\n\r\nclass MenuBuilder extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: {...defaultValue},\r\n      new: {\r\n        label: '',\r\n        url: '',\r\n      }\r\n    };\r\n    this.resource = new Resource({route: '/admin/ajax/menus'})\r\n  }\r\n\r\n  async componentDidMount() {\r\n    if (!this.props.menuId) {\r\n      return;\r\n    }\r\n    try {\r\n      let menu = await this.resource.get(this.props.menuId);\r\n      menu.children = mbParseJSON(menu.children, []);\r\n      if(! menu.name){\r\n        menu.name = '';\r\n      }\r\n      if(! menu.settings){\r\n        menu.settings = {toggle_icon: ''};\r\n      } else {\r\n        menu.settings = mbParseJSON(menu.settings, {toggle_icon: ''});\r\n      }\r\n      this.setState(state => ({...state, value: menu}));\r\n    } catch (e) {\r\n      // console.error(e);\r\n      this.props.fetchError && this.props.fetchError();\r\n    }\r\n    this.setState(state => ({...state, show: true}))\r\n  }\r\n\r\n  addNew = () => {\r\n    const newItem = {\r\n      children: [],\r\n      label: this.state.new.label,\r\n      url: this.state.new.url,\r\n      id: generateId(),\r\n    }\r\n    let value = {...this.state.value};\r\n    value.children = [...value.children];\r\n    value.children.push(newItem)\r\n    this.setState(state => ({...state, new: {label: '', url: '',}, value}))\r\n  }\r\n  save = async () => {\r\n    try {\r\n      let value = {...this.state.value};\r\n      value.children = JSON.stringify(value.children);\r\n      value.settings = JSON.stringify(value.settings);\r\n      let res = await this.resource.put(this.props.menuId, value)\r\n      if (res.success) {\r\n        alert('Success');\r\n        this.props.afterSave && this.props.afterSave();\r\n      }\r\n    } catch (e) {\r\n      if (e.res instanceof Promise) {\r\n        e = await e.res.then();\r\n        e = mbParseJSON(e);\r\n      } else if (e instanceof Promise) {\r\n        e = await e.then();\r\n        e = mbParseJSON(e);\r\n      }\r\n      console.error(e);\r\n      alert('Error: ' + e.message);\r\n    }\r\n  }\r\n\r\n  delete = async () => {\r\n    let allow = confirm('Sure?');\r\n    if (!allow) {\r\n      return;\r\n    }\r\n    try {\r\n      let res = await this.resource.delete(this.props.menuId)\r\n      if (res.success) {\r\n        alert('Success');\r\n        this.props.afterDelete && this.props.afterDelete();\r\n      }\r\n    } catch (e) {\r\n      if (e.res instanceof Promise) {\r\n        e = await e.res.then();\r\n        e = mbParseJSON(e);\r\n      } else if (e instanceof Promise) {\r\n        e = await e.then();\r\n        e = mbParseJSON(e);\r\n      }\r\n      console.error(e);\r\n      alert('Error: ' + e.message);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if(! this.state.show){\r\n      return null;\r\n    }\r\n    const {value} = this.state;\r\n    return <Wrapper className=\"altrp-menu-builder d-flex flex-wrap\">\r\n      <div className=\"altrp-menu-builder-top p-3 d-flex align-items-center w-100\">\r\n        <label htmlFor=\"menu-name\" className=\"mb-0 mr-3\">Menu Name</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"menu-name\"\r\n          value={value.name}\r\n          onChange={(e)=>{\r\n            let inputValue = e.target.value;\r\n            let value = mutate.set(this.state.value, 'name', inputValue);\r\n            this.setState(state=>({...state, value}));\r\n          }}\r\n          className=\"form-control\"/>\r\n        <label htmlFor=\"toggle-icon\" className=\"mb-0 mr-3 ml-3\">Toggle Icon</label>\r\n        <IconSelect\r\n          id=\"toggle-icon\"\r\n          returnType=\"text\"\r\n          value={this.state.value.settings.toggle_icon}\r\n          maxWidth=\"50px\"\r\n          maxHeight=\"50px\"\r\n          onChange={(icon) => {\r\n            let value = mutate.set(this.state.value, 'settings.toggle_icon', icon);\r\n            this.setState(state=>({...state, value}));\r\n          }}/>\r\n      </div>\r\n\r\n      <div className=\"d-flex altrp-menu-builder-add align-items-center align-content-start p-3 flex-wrap\">\r\n        <label htmlFor={`label`} className=\"form-label \">Label</label>\r\n        <input type=\"text\"\r\n               className=\"form-control \"\r\n               id={`label`}\r\n               onChange={(e) => {\r\n                 let value = e.target.value;\r\n                 this.setState(state => ({...state, new: {...state.new, label: value}}));\r\n               }}\r\n               value={this.state.new.label}/>\r\n        <label htmlFor={`url`} className=\"form-label \">URL</label>\r\n        <input type=\"text\"\r\n               className=\"form-control \"\r\n               id={`url`}\r\n               onChange={(e) => {\r\n                 let value = e.target.value;\r\n                 this.setState(state => ({...state, new: {...state.new, url: value}}));\r\n               }}\r\n               value={this.state.new.url}/>\r\n        <button className=\"btn btn_success mt-3\" onClick={this.addNew}>Add new</button>\r\n      </div>\r\n      <ReactSortable\r\n        className=\"altrp-menu-sortable p-3\"\r\n        group=\"nested\"\r\n        handle=\".altrp-menu-item__handle\"\r\n        list={value.children}\r\n        setList={(newList) => this.setState(state => ({...state, value: {...state.value, children: newList}}))}>\r\n        {value.children.map((item, idx) => {\r\n          return <MenuItem\r\n            item={item}\r\n            key={item.id}\r\n            indexes={[idx]}\r\n            deleteItem={indexes => {\r\n              let value = this.state.value;\r\n              let path = indexes.map(((index) => {\r\n                return `children.${index}`;\r\n              })).join('.');\r\n              value = mutate.delete(value, path)\r\n              this.setState(state => ({...state, value}));\r\n            }}\r\n            updateValue={(value, path) => {\r\n              let thisValue = this.state.value;\r\n              thisValue = mutate.set(thisValue, path, value);\r\n              this.setState(state => ({...state, value: thisValue}));\r\n            }}\r\n            updateChildren={(newList, indexes) => {\r\n              let value = this.state.value;\r\n              let path = indexes.map(((index) => {\r\n                return `children.${index}`;\r\n              })).join('.') + '.children';\r\n              value = mutate.set(value, path, newList)\r\n              this.setState(state => ({...state, value}));\r\n            }}/>\r\n        })}\r\n      </ReactSortable>\r\n      <div className=\"altrp-menu-builder-actions d-flex p-3\">\r\n        <button className=\"btn btn_danger mr-3\" onClick={this.delete}>Delete</button>\r\n        <button className=\"btn btn_success\" onClick={this.save}>Save</button>\r\n      </div>\r\n    </Wrapper>;\r\n  }\r\n}\r\n\r\n\r\nexport default MenuBuilder\r\n","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport MenuBuilder from \"./MenuBuilder\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass MenuPage extends Component {\r\n  render() {\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link to=\"/admin/menus\" className=\"admin-breadcrumbs__link\">All Menus</Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <MenuBuilder\r\n          menuId={this.props.match.params?.id}\r\n          afterDelete={()=>{this.props.history.push('/admin/menus/')}}/>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(MenuPage)\r\n","import React, {Component} from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport AdminTable from \"../AdminTable\";\r\nimport CONSTANTS from \"../../../../editor/src/js/consts\";\r\nimport {mbParseJSON} from \"../../../../front-app/src/js/helpers\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass MenusList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menus: [],\r\n    }\r\n    this.resource = new Resource({route: '/admin/ajax/menus'})\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      let menus = await this.resource.getAll();\r\n      this.setState(state => ({...state, menus}));\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  addNew = async()=>{\r\n    try{\r\n      let res = await this.resource.post({name: '', children: '[]'});\r\n      res = res.data;\r\n      console.log(res);\r\n      this.props.history.push(`/admin/menus/${res.id}`)\r\n    }catch (e) {\r\n      if(e.res instanceof Promise){\r\n        e = await e.res.then();\r\n        e = mbParseJSON(e);\r\n      } else if (e instanceof Promise){\r\n        e = await e.then();\r\n        e = mbParseJSON(e);\r\n      }\r\n      console.error(e);\r\n      alert('Error: ' + e.message);\r\n    }\r\n  }\r\n\r\n  updateMenus = async () => {\r\n    this.resource = new Resource({route: '/admin/ajax/menus'});\r\n    let menus = await  this.resource.getAll();\r\n    this.setState(state => ({...state, menus}))\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <div className=\"admin-breadcrumbs__current\">Areas</div>\r\n        </div>\r\n        <button className=\"btn\" onClick={this.addNew} >Add New</button>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AdminTable\r\n          columns={[\r\n            {\r\n              name: 'name',\r\n              title: 'Name',\r\n              default: '(no Name)',\r\n              url: true,\r\n              editUrl: true,\r\n              tag: 'Link'\r\n            },\r\n          ]}\r\n\r\n          quickActions={[\r\n            {\r\n              tag: \"button\",\r\n              route: `/admin/ajax/menus/:id`,\r\n              method: \"delete\",\r\n              confirm: \"Are You Sure?\",\r\n              after: () => {\r\n                this.updateMenus()\r\n              },\r\n              className: \"quick-action-menu__item_danger\",\r\n              title: \"Trash\"\r\n            }\r\n          ]}\r\n          rows={this.state.menus.map(menu => ({\r\n            ...menu,\r\n            editUrl: '/admin/menus/' + menu.id\r\n          }))}/>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(MenusList)\r\n","import React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Bars from \"./svgs/bars.svg\";\r\nimport AssetSvg from \"./svgs/assets.svg\";\r\nimport DashboardSvg from \"./svgs/dashboard.svg\";\r\nimport PagesSvg from \"./svgs/pages.svg\";\r\nimport PluginSvg from \"./svgs/plugins.svg\";\r\nimport ReportSvg from \"./svgs/reports.svg\";\r\nimport SettingSvg from \"./svgs/settings.svg\";\r\nimport TableSvg from \"./svgs/tables.svg\";\r\nimport TemplateSvg from \"./svgs/templates.svg\";\r\nimport UserSvg from \"./svgs/users.svg\";\r\n\r\nimport AdminLogo from \"./components/AdminLogo\";\r\nimport AllPages from \"./components/AllPages\";\r\nimport AdminSettings from \"./components/AdminSettings\";\r\nimport Users from \"./components/users/Users\";\r\nimport Notifications from \"./components/users/Notifications/Notifications\";\r\nimport EditNotification from \"./components/users/Notifications/EditNotification\";\r\nimport AddUserPage from \"./components/users/AddUserPage\";\r\nimport UserPage from \"./components/users/UserPage\";\r\nimport UsersTools from \"./components/users/UsersTools\";\r\nimport Assets from \"./components/Assets\";\r\nimport Dashboard from \"./components/Dashboard\";\r\nimport Plugins from \"./components/Plugins\";\r\nimport Reports from \"./components/Reports\";\r\nimport Tables from \"./components/Tables\";\r\nimport Templates from \"./components/Templates\";\r\nimport Robots from \"./components/Robots\";\r\nimport AdminModal from \"./components/AdminModal\";\r\nimport AddPage from \"./components/AddPage\";\r\nimport AddReport from \"./components/AddReport\";\r\nimport UserTopPanel from \"./components/UserTopPanel\";\r\nimport Models from \"./components/Models\";\r\nimport EditModel from \"./components/models/EditModel\";\r\nimport EditField from \"./components/models/EditField\";\r\nimport AddRelation from \"./components/models/AddRelation\";\r\nimport AddAccessor from \"./components/models/AddAccessor\";\r\nimport AddDataSource from \"./components/models/AddDataSource\";\r\nimport SQLBuilder from \"./components/SQLBuilder\";\r\nimport SqlEditor from \"./components/models/SqlEditor\";\r\nimport AccessOptions from \"./components/AccessOptions\";\r\nimport RolePage from \"./components/access/RolePage\";\r\nimport PermissionPage from \"./components/access/PermissionPage\";\r\nimport AddTable from \"./components/tables/AddTable\";\r\nimport EditTable from \"./components/tables/EditTable\";\r\nimport SettingTable from \"./components/tables/SettingTable\";\r\nimport AddMigrationPage from \"./components/tables/AddMigrationPage\";\r\nimport AdminVersion from \"./components/AdminVersion\";\r\nimport SQLEditors from \"./components/SQLEditors\";\r\nimport ColorSchemes from \"./components/dashboard/ColorSchemes\";\r\nimport ModelPage from \"./components/models/ModelPage\";\r\nimport { WithRouterAdminAssetsDropList } from \"./components/AdminAssetsDropList\";\r\nimport CustomFonts from \"./components/CustomFonts\";\r\nimport EditFont from \"./components/EditFont\";\r\nimport AddNewFont from \"./components/AddNewFont\";\r\n\r\nimport AssetsBrowser from \"../../editor/src/js/classes/modules/AssetsBrowser\";\r\nimport Resource from \"../../editor/src/js/classes/Resource\";\r\nimport Echo from \"laravel-echo\"\r\n\r\nimport store from \"./js/store/store\";\r\nimport { setUserData, setUsersOnline } from \"./js/store/current-user/actions\";\r\nimport { getCustomFonts } from \"./js/store/custom-fonts/actions\";\r\n\r\nimport \"./sass/admin-style.scss\";\r\n\r\nimport { changeCurrentUser } from \"../../front-app/src/js/store/current-user/actions\";\r\nimport {\r\n  setWebsocketsEnabled,\r\n  setWebsocketsKey,\r\n  setWebsocketsPort\r\n} from \"./js/store/websockets-storage/actions\";\r\nimport AltrpMeta from '../../../modules/editor/src/js/classes/AltrpMeta';\r\nimport Areas from \"./components/areas/Areas\";\r\nimport AreaAdd from \"./components/areas/AreaAdd\";\r\nimport AreaEdit from \"./components/areas/AreaEdit\";\r\nimport MenuPage from \"./components/menu-builder/MenuPage\";\r\nimport MenusList from \"./components/menu-builder/MenusList\";\r\n\r\nwindow.React = React;\r\nwindow.ReactDOM = ReactDOM;\r\nwindow.Component = React.Component;\r\n\r\nclass Admin extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      adminState: {\r\n        adminEnable: true\r\n      },\r\n      pagesMenuShow: false,\r\n      models: [],\r\n    };\r\n    this.toggleMenu = this.toggleMenu.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    store.subscribe(this.updateAdminState.bind(this));\r\n    new Resource({ route: \"/admin/ajax/model_options\" })\r\n      .getAll()\r\n      .then(({ options }) => this.setState({ models: options }));\r\n\r\n    this.getConnect();\r\n    this.getMetaName();\r\n  }\r\n\r\n  // Подключение вебсокетов\r\n  async getConnect() {\r\n    // get current user\r\n    let currentUser = await new Resource({ route: \"/ajax/current-user\" }).getAll();\r\n    currentUser = currentUser.data;\r\n    store.dispatch(changeCurrentUser(currentUser));\r\n\r\n\r\n    let pusherKey = await new Resource({ route: \"/admin/ajax/settings\" }).get(\"pusher_app_key\");\r\n    let websocketsPort = await new Resource({ route: \"/admin/ajax/settings\" }).get(\"websockets_port\");\r\n    let websocketsHost = await new Resource({ route: \"/admin/ajax/settings\" }).get(\"pusher_host\");\r\n\r\n    pusherKey = pusherKey?.pusher_app_key;\r\n    websocketsPort = websocketsPort?.websockets_port;\r\n    websocketsHost = websocketsHost?.pusher_host;\r\n\r\n    // Проверка наличия ключа и порта\r\n    if (pusherKey && websocketsPort) {\r\n      try {\r\n        window.Pusher = require(\"pusher-js\");\r\n        window.Echo = new Echo({\r\n          broadcaster: \"pusher\",\r\n          key: pusherKey,\r\n          wsHost: websocketsHost,\r\n          wsPort: websocketsPort,\r\n          forceTLS: false,\r\n          disableStats: true,\r\n        });\r\n        console.log(\"Вебсокеты включены\");\r\n\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n\r\n      // Запись ключа и порта в store\r\n      store.dispatch(setWebsocketsKey(pusherKey));\r\n      store.dispatch(setWebsocketsPort(websocketsPort));\r\n\r\n      // Подключение слушателя канала\r\n      window.Echo.private(\"App.User.\" + currentUser.id)\r\n        .notification((notification) => {\r\n          console.log(notification);\r\n        });\r\n\r\n      // Подключение слушателя для получения users online\r\n      let presenceChannel = window.Echo.join(\"online\");\r\n      let activeUsers = [];\r\n      presenceChannel.here((users) => {\r\n        activeUsers = users;\r\n        store.dispatch(setUsersOnline(activeUsers));\r\n      })\r\n        .joining((user) => {\r\n          activeUsers.push(user);\r\n          store.dispatch(setUsersOnline(activeUsers));\r\n        })\r\n        .leaving((user) => {\r\n          activeUsers.splice(activeUsers.indexOf(user), 1);\r\n          store.dispatch(setUsersOnline(activeUsers));\r\n        });\r\n\r\n    } else {\r\n      console.log(\"Вебсокеты выключены\");\r\n    }\r\n\r\n    this.getPusherConnect();\r\n  }\r\n\r\n  // Запись в store в случае успешного соединения\r\n  getPusherConnect() {\r\n    window?.Echo?.connector?.pusher.connection.bind('connected', function () {\r\n      store.dispatch(setWebsocketsEnabled(true));\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Срабатвыает, когда меняется adminState в store\r\n   */\r\n  updateAdminState() {\r\n    let adminState = store.getState().adminState;\r\n    this.setState(state => {\r\n      return { ...state, adminState: { ...adminState } };\r\n    });\r\n  }\r\n\r\n  toggleMenu() {\r\n    this.setState(state => {\r\n      return { ...state, pagesMenuShow: !state.pagesMenuShow };\r\n    });\r\n  }\r\n\r\n  assetsActive = () => {\r\n    this.setState({\r\n      isAssetsActive: true,\r\n    })\r\n  }\r\n\r\n  getMetaName = async () => {\r\n    let meta = await AltrpMeta.getMetaByName(\"custom_fonts\")\r\n\r\n    const metaValue = await meta.getMetaValue()\r\n\r\n    store.dispatch(getCustomFonts(metaValue))\r\n  }\r\n\r\n  render() {\r\n    const { models } = this.state;\r\n    let adminClasses = [\"admin\"];\r\n    if (!this.state.adminState.adminEnable) {\r\n      adminClasses.push(\"pointer-event-none\");\r\n    }\r\n    if (this.state.pagesMenuShow) {\r\n      adminClasses.push(\"admin_pages-show\");\r\n    }\r\n    return (\r\n      <div className={adminClasses.join(\" \")}>\r\n        <Router>\r\n          <nav className=\"admin-nav\">\r\n            <div className=\"admin-nav-top\">\r\n              <AdminLogo />\r\n              <Bars className=\"admin__bars\" onClick={this.toggleMenu} />\r\n            </div>\r\n            <div className=\"admin-nav-main\">\r\n              {this.state.pagesMenuShow ? (\r\n                <Scrollbars\r\n                  autoHide\r\n                  autoHideTimeout={500}\r\n                  autoHideDuration={200}\r\n                >\r\n                  <ul className=\"admin-nav-list\">\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/pages\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <PagesSvg className=\"icon\" />\r\n                        <span>Pages</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/reports\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <ReportSvg className=\"icon\" />\r\n                        <span>Reports</span>\r\n                      </Link>\r\n                    </li>\r\n                      Models\r\n                      {models\r\n                      .sort((a, b) => {\r\n                        if (a.label.toUpperCase() < b.label.toUpperCase())\r\n                          return -1;\r\n                        if (a.label.toUpperCase() > b.label.toUpperCase())\r\n                          return 1;\r\n                        return 0;\r\n                      })\r\n                      .map(({ value: id, label }) => (\r\n                        <li key={id}>\r\n                          <Link\r\n                            to={{\r\n                              pathname: `/admin/model/${id}`,\r\n                              propsSearch: label,\r\n                            }}\r\n                            className=\"admin-nav-list__link admin-nav-list__link--models\"\r\n                          >\r\n                            {label}\r\n                          </Link>\r\n                        </li>\r\n                      ))}\r\n                  </ul>\r\n                </Scrollbars>\r\n              ) : (\r\n                <Scrollbars\r\n                  autoHide\r\n                  autoHideTimeout={500}\r\n                  autoHideDuration={200}\r\n                >\r\n                  <ul className=\"admin-nav-list\">\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/dashboard\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <DashboardSvg className=\"icon\" />\r\n                        <span>Dashboard</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/assets\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <AssetSvg className=\"icon\" />\r\n                        <span>Assets</span>\r\n                      </Link>\r\n                      <WithRouterAdminAssetsDropList />\r\n                    </li>\r\n                    <li>\r\n                      {/*<Link to=\"/admin/tables\" className=\"admin-nav-list__link\">*/}\r\n                      {/*<TableSvg className=\"icon\"/>*/}\r\n                      {/*<span>Tables</span>*/}\r\n                      {/*</Link>*/}\r\n\r\n                      <Link\r\n                        to=\"/admin/tables/models\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <TableSvg className=\"icon\" />\r\n                        <span>Tables</span>\r\n                      </Link>\r\n                      <ul className=\"admin-nav-sublist\">\r\n                        <li>\r\n                          <Link\r\n                            to=\"/admin/tables/sql_editors\"\r\n                            className=\"admin-nav-list__link\"\r\n                          >\r\n                            <TableSvg className=\"icon\" />\r\n                            <span>SQL Editors</span>\r\n                          </Link>\r\n                        </li>\r\n                      </ul>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/templates\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <TemplateSvg className=\"icon\" />\r\n                        <span>Templates</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/areas\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <TemplateSvg className=\"icon\" />\r\n                        <span>Custom Areas</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"/admin/robots\" className=\"admin-nav-list__link\">\r\n                        <TemplateSvg className=\"icon\" />\r\n                        <span>Robots</span>\r\n                      </Link>\r\n                    </li>\r\n                    {/* <li>\r\n                    <Link to=\"/admin/reports\" className=\"admin-nav-list__link\">\r\n                      <ReportSvg className=\"icon\" />\r\n                      <span>Reports</span>\r\n                    </Link>\r\n                  </li> */}\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/users\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <UserSvg className=\"icon\" />\r\n                        <span>Users</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/tools\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <span>Tools</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/access/roles\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <UserSvg className=\"icon\" />\r\n                        <span>Access</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/plugins\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <PluginSvg className=\"icon\" />\r\n                        <span>Plugins</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/settings\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <SettingSvg className=\"icon\" />\r\n                        <span>Settings</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/menus\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <SettingSvg className=\"icon\" />\r\n                        <span>Menus</span>\r\n                      </Link>\r\n                    </li>\r\n                  </ul>\r\n                </Scrollbars>\r\n              )}\r\n\r\n            </div>\r\n            <AdminVersion />\r\n          </nav>\r\n          <Switch>\r\n            <Route path=\"/admin/reports/add\">\r\n              <AddReport />\r\n            </Route>\r\n            <Route path=\"/admin/\" exact>\r\n              <Redirect to=\"/admin/dashboard\" />\r\n            </Route>\r\n            <Route path=\"/admin/settings\">\r\n              <AdminSettings />\r\n            </Route>\r\n            <Route path=\"/admin/users\" exact>\r\n              <Users />\r\n            </Route>\r\n            <Route path=\"/admin/users/new\" exact>\r\n              <AddUserPage />\r\n            </Route>\r\n            <Route path=\"/admin/users/user/:id\" exact>\r\n              <UserPage />\r\n            </Route>\r\n            <Route path=\"/admin/users/user/:id\" exact>\r\n              <Notifications />\r\n            </Route>\r\n            <Route path=\"/admin/users/user/:id/notification/:name\" exact>\r\n              <EditNotification />\r\n            </Route>\r\n            <Route path=\"/admin/users/user/:id/notification/new\" exact>\r\n              <EditNotification />\r\n            </Route>            <Route path=\"/admin/tools\">\r\n              <UsersTools />\r\n            </Route>\r\n            <Route path=\"/admin/assets/custom-fonts\">\r\n              <CustomFonts metaValue={(this.props.metaValue != '') ? this.props.metaValue : null} />\r\n            </Route>\r\n            <Route path=\"/admin/assets/add-new-font\">\r\n              <AddNewFont metaValue={(this.props.metaValue != '') ? this.props.metaValue : null} />\r\n            </Route>\r\n            <Route path=\"/admin/assets/edit-font/:id?\">\r\n              <EditFont metaValue={(this.props.metaValue != '') ? this.props.metaValue : null} />\r\n            </Route>\r\n            <Route path=\"/admin/assets\">\r\n              <Assets />\r\n            </Route>\r\n            <Route path=\"/admin/dashboard\">\r\n              <Dashboard />\r\n            </Route>\r\n            <Route path=\"/admin/dashboard/colors\">\r\n              <ColorSchemes />\r\n            </Route>\r\n            <Route path=\"/admin/plugins\">\r\n              <Plugins />\r\n            </Route>\r\n            <Route path=\"/admin/reports\">\r\n              <Reports />\r\n            </Route>\r\n            <Route path=\"/admin/tables\" exact>\r\n              <Tables />\r\n            </Route>\r\n            <Route path=\"/admin/tables/edit/:id\" component={EditTable} exact>\r\n              <EditTable />\r\n            </Route>\r\n            <Route\r\n              path=\"/admin/tables/edit/:id/setting\"\r\n              component={SettingTable}\r\n              exact\r\n            />\r\n            <Route\r\n              path=\"/admin/tables/edit/:id/setting/migrations/add\"\r\n              component={AddMigrationPage}\r\n            />\r\n            <Route path=\"/admin/tables/add\">\r\n              <AddTable />\r\n            </Route>\r\n            <Route path=\"/admin/templates\">\r\n              <Templates />\r\n            </Route>\r\n            <Route path=\"/admin/areas/add\">\r\n              <AreaAdd />\r\n            </Route>\r\n            <Route path=\"/admin/areas/:id\">\r\n              <AreaEdit />\r\n            </Route>\r\n            <Route path=\"/admin/areas\">\r\n              <Areas />\r\n            </Route>\r\n            <Route path=\"/admin/menus/:id\">\r\n              <MenuPage />\r\n            </Route>\r\n            <Route path=\"/admin/menus\">\r\n              <MenusList />\r\n            </Route>\r\n            <Route path=\"/admin/robots\">\r\n              <Robots />\r\n            </Route>\r\n            <Route path=\"/admin/pages\" exact>\r\n              <AllPages />\r\n            </Route>\r\n            <Route path=\"/admin/pages/edit/:id\">\r\n              <AddPage />\r\n            </Route>\r\n            <Route path=\"/admin/pages/add\">\r\n              <AddPage />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models\" exact>\r\n              <Models />\r\n            </Route>\r\n            <Route path=\"/admin/tables/sql_editors\" exact>\r\n              <SQLEditors />\r\n            </Route>\r\n            <Route path=\"/admin/tables/sql_editors/add\">\r\n              <SqlEditor />\r\n            </Route>\r\n            <Route path=\"/admin/tables/sql_editors/edit/:id\">\r\n              <SqlEditor />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/add\">\r\n              <EditModel />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/edit/:id\" exact>\r\n              <EditModel />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/fields/add\">\r\n              <EditField />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/fields/edit/:id\">\r\n              <EditField />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/remote-fields/add\">\r\n              <EditField />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/remote-fields/edit/:id\">\r\n              <EditField />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/relations/add\">\r\n              <AddRelation />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/relations/edit/:id\">\r\n              <AddRelation />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/accessors/add\">\r\n              <AddAccessor />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/accessors/edit/:id\">\r\n              <AddAccessor />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/queries/add\">\r\n              <SQLBuilder />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/queries/edit/:id\">\r\n              <SQLBuilder />\r\n            </Route>\r\n            <Route path=\"/admin/tables/data-sources/add\">\r\n              <AddDataSource />\r\n            </Route>\r\n            <Route path=\"/admin/tables/data-sources/edit/:id\">\r\n              <AddDataSource />\r\n            </Route>\r\n            <Route path=\"/admin/access/roles/add\">\r\n              <RolePage />\r\n            </Route>\r\n            <Route path=\"/admin/access/roles/edit/:id\">\r\n              <RolePage />\r\n            </Route>\r\n            <Route path=\"/admin/access/permissions/add\">\r\n              <PermissionPage />\r\n            </Route>\r\n            <Route path=\"/admin/access/permissions/edit/:id\">\r\n              <PermissionPage />\r\n            </Route>\r\n            <Route path=\"/admin/access\">\r\n              <AccessOptions />\r\n            </Route>\r\n            <Route path=\"/admin/model/:id\">\r\n              <ModelPage />\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n        <AdminModal />\r\n        <UserTopPanel />\r\n        <AssetsBrowser />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nlet _export;\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    metaValue: state.customFonts.metaValue,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setUserData: user => dispatch(setUserData(user)),\r\n    getCustomFonts: metaValue => dispatch(getCustomFonts(metaValue))\r\n  }\r\n};\r\n\r\nAdmin = connect(mapStateToProps, mapDispatchToProps)(Admin)\r\nif (process.env.NODE_ENV === \"production\") {\r\n  _export = Admin;\r\n} else {\r\n  _export = hot(module)(Admin);\r\n}\r\n\r\nexport default _export;\r\n","import {connect} from \"react-redux\";\r\nclass AltrpCodeEditor extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: this.prepareIncomingValue(this.props.value) || '',\r\n    };\r\n\r\n    this.editorProps = {...this.props};\r\n\r\n    this.editorProps.theme = this.props.theme || 'textmate';\r\n    this.editorProps.mode = this.props.mode || 'css';\r\n    if(this.props.mode === 'wrapped json'){\r\n      this.editorProps.mode = 'json';\r\n    }\r\n    // this.editorProps.onChange = this.props.onChange || this.onChange;\r\n    this.editorProps.height = this.props.height || '15em';\r\n    this.editorProps.enableLiveAutocompletion = _.get(this.props, 'enableLiveAutocompletion', true) ;\r\n    this.editorProps.onChange = (value) => {\r\n      value = this.prepareOutgoingValue(value);\r\n      if(_.isFunction(this.props.onChange)){\r\n        this.props.onChange(value);\r\n      } else {\r\n        this.onChange(value);\r\n      }\r\n    };\r\n  }\r\n  /**\r\n   * Обработка смены значения по умолчанию\r\n   */\r\n  onChange = (e) =>{\r\n    console.log(e);\r\n  };\r\n  componentDidUpdate(prevProps){\r\n    if(this.props.value !== prevProps.value){\r\n      // console.log(this.props);\r\n      // console.log(prevProps);\r\n      let value = this.prepareIncomingValue(this.props.value);\r\n      this.setState(state =>({...state, value}));\r\n      this.editor = <this.props.AceEditor\r\n          {...this.editorProps}\r\n          // mode=\"json\"\r\n          // theme=\"textmate\"\r\n          // onChange={this.onChange}\r\n          //\r\n          // name=\"aceEditor\"\r\n          // height=\"15em\"\r\n          value={value}\r\n          // setOptions={{\r\n          //   value: this.state.value || ''\r\n          // }}\r\n          // enableLiveAutocompletion={true}\r\n      />\r\n    }\r\n    if(this.props.AceEditor && ! prevProps.AceEditor){\r\n      this.setState(state =>({...state, value: this.props.value}));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * обрабатвыаем значение перед отрисовкой\r\n   */\r\n  prepareIncomingValue(value){\r\n    if(! value){\r\n      return value;\r\n    }\r\n    if(this.props.mode === 'wrapped json'){\r\n      if(value[0] === \"'\" ){\r\n        value = value.substr(1);\r\n      }\r\n      if(value[value.length - 1] === \"'\" ){\r\n        value = value.slice(0, -1);\r\n      }\r\n    }\r\n    return value;\r\n  }\r\n  /**\r\n   * обрабатвыаем значение перед отправкой\r\n   */\r\n  prepareOutgoingValue(value){\r\n    if(! value){\r\n      return value;\r\n    }\r\n    if(this.props.mode === 'wrapped json'){\r\n      if(value[0] !== \"'\" ){\r\n        value = `'${value}`;\r\n      }\r\n      if(value[value.length - 1] !== \"'\" ){\r\n        value = `${value}'`;\r\n      }\r\n    }\r\n    // console.log(value);\r\n    return value;\r\n  }\r\n  render() {\r\n    let {value} = this.state;\r\n    // const editorProps = {...this.props};\r\n    //\r\n    // editorProps.theme = this.props.theme || 'textmate';\r\n    // editorProps.mode = this.props.mode || 'css';\r\n    // editorProps.onChange = this.props.onChange || this.onChange;\r\n    // editorProps.height = this.props.height || '15em';\r\n    // editorProps.enableLiveAutocompletion = _.get(this.props, 'enableLiveAutocompletion', true) ;\r\n    return<div className=\"altrp-code-editor\">\r\n     {this.props.AceEditor && (this.editor = (this.editor ||\r\n       <this.props.AceEditor\r\n           {...this.editorProps}\r\n          // mode=\"json\"\r\n          // theme=\"textmate\"\r\n          // onChange={this.onChange}\r\n          //\r\n          // name=\"aceEditor\"\r\n          // height=\"15em\"\r\n           value={value}\r\n          // setOptions={{\r\n          //   value: this.state.value || ''\r\n          // }}\r\n        // enableLiveAutocompletion={true}\r\n     />))}</div>\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    AceEditor: state.aceEditorReducer.AceEditor,\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(AltrpCodeEditor);","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".wrapper{width:100%}.wrapper a{cursor:pointer}.wrapper a:hover{text-decoration:none}.wrapper .disabled{color:grey}.wrapper .admin-notice--heading{display:flex;align-items:center;padding:10px 20px 10px 25px}.wrapper .admin-notice--heading a{text-decoration:none;color:grey}.wrapper .admin-notice--heading a:hover{color:#315EFB;text-decoration:underline}.wrapper .admin-notice-box-parent{display:block;padding:10px 20px 10px 25px}.wrapper .admin-notice-box-parent .admin-notice-general{display:flex}.wrapper .admin-notice-box-parent .admin-notice-general .form-group{margin-right:20px;min-width:25%;max-width:65%}.wrapper .admin-notice-box-parent .admin-notice-general .form-group #source{min-width:400px}.wrapper .react-tabs{padding:10px 20px 10px 25px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box{display:flex}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .btn{margin:25px 0}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .condition-box{width:35%;padding-right:10px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child{width:65%}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box{width:100%}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .condition-box-general{display:flex;min-width:400px;max-width:100%;padding-top:10px;padding-right:10px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .condition-box-general .form-group{display:flex;align-items:center;margin-right:20px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .condition-box-general .form-group label{padding:0;margin:0 10px 0 0}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .condition-box-general .form-group #condition-input{width:250px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .condition-box-general .form-group #condition-select{width:80px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .admin-notice-compare-box{display:flex;justify-content:flex-start}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .admin-notice-compare-box .compare-box{width:60%;padding-right:10px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .admin-notice-compare-box .admin-notice-box-child-compare{width:40%;margin-top:55px;margin-right:50px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .admin-notice-compare-box .admin-notice-box-child-compare #value{height:60px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .btn-box{display:flex;justify-content:flex-end;margin-right:50px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .btn-box button{margin-left:15px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .btn-box .btn_save{background-color:#91d11b}.wrapper .list-box{position:relative;height:50px}.wrapper .list-box .list-item a{margin-right:10px}.wrapper .list-box .quick-action-menu{display:none;position:absolute;bottom:4px;left:0}.wrapper .list-box .quick-action-menu.quick-action-menu--li{position:relative;bottom:0;left:10px}.wrapper .list-box .quick-action-menu__item_wrapper::after{content:\\\" | \\\";color:grey}.wrapper .list-box .quick-action-menu__item_wrapper:last-child::after{content:\\\"\\\"}.wrapper .list-box:hover .quick-action-menu{display:inline-block}.wrapper .list-box:hover .quick-action-menu.quick-action-menu--li{display:none}.wrapper .list-box:hover .quick-action-menu .quick-action-menu__item{font-size:12px;color:grey;padding:0;background-color:transparent}.wrapper .list-box:hover .quick-action-menu .quick-action-menu__item.quick-action-menu__item_danger{color:#cf0025}.wrapper .list-box:hover .quick-action-menu .quick-action-menu__item:hover{text-decoration:underline}.wrapper .list-box li:hover .quick-action-menu.quick-action-menu--li{display:inline-block}.admin-users-notice .admin-breadcrumbs{margin:25px 10px}.admin-users-notice .admin-breadcrumbs a{text-decoration:none;color:grey}.admin-users-notice .admin-breadcrumbs a:hover{color:#315EFB;text-decoration:underline}.send-checkbox-box label{margin-right:40px;margin-left:10px}\\n\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.i(require(\"-!../../../../../node_modules/css-loader/index.js!bootstrap/dist/css/bootstrap.css\"), \"\");\nexports.i(require(\"-!../../../../../node_modules/css-loader/index.js!bootstrap/dist/css/bootstrap-grid.min.css\"), \"\");\nexports.i(require(\"-!../../../../../node_modules/css-loader/index.js!react-datepicker/dist/react-datepicker.css\"), \"\");\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Roboto:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic&subset=cyrillic);\", \"\"]);\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic&subset=cyrillic);\", \"\"]);\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Open+Sans:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic&subset=cyrillic);\", \"\"]);\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=PT+Sans:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic&subset=cyrillic);\", \"\"]);\n\n// module\nexports.push([module.id, \"html{height:100%}body,*,*:focus,*::before,*::after{box-sizing:border-box;outline:none}body{font-family:Roboto, sans-serif;margin:0;overflow-x:hidden;color:#242424;display:flex;flex-direction:column;height:100%}a,button,svg,path{-webkit-transition-duration:0.2s;-moz-transition-duration:0.2s;-ms-transition-duration:0.2s;-o-transition-duration:0.2s;transition-duration:0.2s;font-family:Roboto, sans-serif}.btn:active,.btn:focus,a:active,a:focus,button:active,button:focus{outline:none;box-shadow:none}button{cursor:pointer}.btn_grey{background-color:#8E94AA}.btn_disabled{background-color:#8E94AA;cursor:default;font-weight:bold;color:#fff;pointer-events:none}.btn,button{padding:10px 15px;border:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}iframe{display:block;border:none}input[type=\\\"checkbox\\\"]{cursor:pointer}.no-transition{-webkit-transition-duration:0s !important;-moz-transition-duration:0s !important;-ms-transition-duration:0s !important;-o-transition-duration:0s !important;transition-duration:0s !important}.caption{margin-bottom:15px;font-weight:600;font-size:18px}.btn_bare{border:none;background-color:transparent}.btn_success{background-color:#87CA00;color:#fff;font-weight:bold}.btn_failure{background-color:#FF4E6E;color:#fff;font-weight:bold}.text_bold{font-weight:bold}.altrp-scroll__vertical-track{bottom:2px;top:2px;right:2px;z-index:1000;border-radius:3px}.clickable{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cursor-pointer{cursor:pointer}.rotate-180{transform:rotatex(180deg)}.altrp-label{display:block}#editor-content .fixed-section,.fixed-section,.fixed-section .altrp-section{position:fixed;z-index:55;width:auto}.position-relative{position:relative}.ck.ck-balloon-panel{z-index:99999999999 !important}#ckf-modal{z-index:999999999999 !important}.export-panel{position:relative;z-index:99999999999}@media print{.export-panel{display:none}}.hidden{display:none}.admin-heading{display:flex;align-items:center;padding:10px 20px 10px 25px}.admin-breadcrumbs{margin-right:20px;font-size:28px;font-family:Montserrat, Arial, sans-serif}.admin-breadcrumbs__link{font-weight:500;font-size:28px;text-decoration:none;color:#8E94AA}.admin-breadcrumbs__link:hover{color:#315EFB}.admin-breadcrumbs__separator{font-weight:bold;font-size:28px;margin-left:5px;margin-right:5px}.admin-breadcrumbs__current{font-weight:bold;font-size:28px}.admin-filters{margin-left:20px;margin-right:20px;font-size:15px;font-family:Roboto, Arial, sans-serif}.admin-filters__link{text-decoration:none;color:#8E94AA}.admin-filters__link:hover{color:#315EFB}.admin-filters__separator{margin-left:5px;margin-right:5px}.admin-filters__current{font-size:15px}.btn{display:inline-block;padding:6px 12px;background:#E9E9EB;border:1.5px solid #3C455B;border-radius:2px;font-family:Roboto, Arial, sans-serif;font-weight:500;font-size:15px;line-height:18px;text-decoration:none;color:#3C455B}.btn:hover{background:#3C455B;color:white}.btn_success{background-color:#87CA00;border-color:#87CA00}.btn_success:hover{border-color:#343B4C}.btn_link{padding:0;border:none;background-color:transparent}.btn_link:hover{background-color:transparent;text-decoration:underline}.btn_disable{background-color:#cccccc;color:#666666;border-color:#666666}.btn_disable:hover{background-color:#cccccc;color:#666666}.btn_danger{border-color:#FF4E6E;color:#fff;background-color:#FF4E6E}.btn_danger:hover{background-color:#fff;color:#FF4E6E}.form-bottom{display:flex;justify-content:flex-end}.form-label{position:relative;margin-bottom:13px;font-size:13px;display:block;width:100%}.form-label select.form__input,.form-label .form__input[type=\\\"text\\\"]{margin-top:5px;font-size:13px;border:1px solid #D5D7DE}.form-label__error{position:absolute;left:0;top:100%;font-size:12px;line-height:13px;color:#FF4E6E}select.form__input,input[type=\\\"number\\\"].form__input,input[type=\\\"text\\\"].form__input{width:100%;padding:10px;line-height:16px;font-size:14px}.admin-pills .nav-item{background-color:transparent}.admin-pills .nav-link{border:1px solid #D5D7DE;border-radius:3px 3px 0 0;margin-bottom:-1px;background-color:#E6E9EC;font-family:Montserrat, sans-serif;font-size:16px;font-weight:bold;color:#8E94AA}.admin-pills .nav-link.active{background-color:#fff;border-bottom-color:#fff;color:#343B4C}.admin-user-top-panel{position:absolute;top:0;right:0;height:62px;padding-right:27px}.top-panel-notification{margin-right:19px}.top-panel__portrait{margin-right:7px}.top-panel__greeting{margin-right:14px;font-size:15px;color:#8E94AA}.top-panel-logout{background-color:transparent;border:none;padding:0}.custom-tab__tabs{bottom:-1px;position:relative}.custom-tab__tab{display:inline-block;margin-right:16px;padding:.5rem 1rem;border:1px solid #D5D7DE;border-radius:3px 3px 0 0;background-color:#e6e9ec;font-family:Montserrat,sans-serif;font-size:16px;font-weight:bold;color:#8e94aa;cursor:pointer}.custom-tab__tab:hover{background-color:#f1f3f5;color:#8992b4;text-decoration:none}.custom-tab__tab--selected{display:inline-block;background-color:#fff;border-bottom-color:#fff;color:#343b4c}.custom-tab__tab--selected:hover{background-color:#fff;color:#343b4c}.custom-tab__tab-panel{padding:0 10px;background-color:#fff;border:1px solid #D5D7DE}.admin-table{width:100%;border:1px solid #D5D7DE;border-radius:3px;overflow:hidden}.admin-table .admin-table__td{height:65px;position:relative}.admin-table .admin-table__td_check{width:45px;text-align:center}.admin-table table{border-collapse:collapse;width:100%}.admin-table-head{background-color:#fff;border-bottom:1px solid #D5D7DE}.admin-table-head .admin-table__td{height:45px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;color:#343B4C}.admin-table-body .admin-table-row:nth-child(2n){background-color:#F7F8F9}.admin-table-body .admin-table-row:nth-child(2n+1){background-color:#fff}.admin-table-body .admin-table-row .quick-action-menu{display:none;position:absolute;bottom:4px;left:0}.admin-table-body .admin-table-row .quick-action-menu.quick-action-menu--li{position:relative;bottom:0;left:10px}.admin-table-body .admin-table-row .quick-action-menu__item_wrapper::after{content:\\\" | \\\";color:#8E94AA}.admin-table-body .admin-table-row .quick-action-menu__item_wrapper:last-child::after{content:\\\"\\\"}.admin-table-body .admin-table-row:hover .quick-action-menu{display:inline-block}.admin-table-body .admin-table-row:hover .quick-action-menu.quick-action-menu--li{display:none}.admin-table-body .admin-table-row:hover .quick-action-menu .quick-action-menu__item{font-size:12px;color:#8E94AA;padding:0;background-color:transparent}.admin-table-body .admin-table-row:hover .quick-action-menu .quick-action-menu__item.quick-action-menu__item_danger{color:#cf0025}.admin-table-body .admin-table-row:hover .quick-action-menu .quick-action-menu__item:hover{text-decoration:underline}.admin-table-body .admin-table-row li:hover .quick-action-menu.quick-action-menu--li{display:inline-block}.admin-modal{display:flex;opacity:0;z-index:-1000;position:fixed;top:0;bottom:0;right:0;left:0;align-items:center;justify-content:center}.admin-modal_active{display:flex;opacity:1;z-index:1000;background-color:rgba(52,59,76,0.2)}.admin-modal_active .admin-modal-content{transform:translate(0, 0vh)}.admin-modal-content{width:470px;max-height:70vh;overflow:auto;position:relative;padding:25px;background-color:#fff;border:1px solid #D5D7DE;-webkit-box-shadow:0px 4px 5px rgba(0,0,0,0.04);-moz-box-shadow:0px 4px 5px rgba(0,0,0,0.04);box-shadow:0px 4px 5px rgba(0,0,0,0.04);border-radius:3px;z-index:100;transform:translate(0, -50vh);transition-duration:.5s}.admin-modal__close{position:absolute;top:0;right:0;padding:10px;border:none;background-color:transparent}.admin-modal__close .icon{width:auto;height:auto;margin:0;display:block}.admin-modal__bg{position:absolute;top:0;bottom:0;left:0;right:0;z-index:50}.uploader{padding:48px;background-color:#fff;border:1px solid #D5D7DE;border-radius:5px;-webkit-transition-duration:.5s;-moz-transition-duration:.5s;-ms-transition-duration:.5s;-o-transition-duration:.5s;transition-duration:.5s;color:#8E94AA}.uploader .icon{width:auto;height:auto;fill:#8E94AA;margin:0;transition-duration:inherit}.uploader__input{display:none}.uploader_drag-over{padding:44px;border:5px solid #71d7f7;color:#71d7f7}.uploader_drag-over .icon{fill:#71d7f7}.item{position:relative}.item__delete{position:absolute;top:0;right:0;padding:8px 15px;border:none;background-color:transparent}.item__delete-icon{transform:scale(1.2)}.item__background{position:absolute;top:5px;bottom:5px;left:5px;right:5px;background-position:center;-webkit-background-size:contain;background-size:contain;background-repeat:no-repeat;background-color:#F7F8F9}.item__icon-background{position:absolute;top:17px;right:27px;transform:scale(1.5)}.assets-list{background-color:#fff}.assets-list__item{padding-top:8.333333%}.admin-settings{width:100%;border:1px solid #D5D7DE;border-radius:3px;overflow:hidden}.admin-settings .nav{margin-bottom:-1px}.admin-settings .admin-settings-table__td{height:65px;padding:8px 16px}.admin-settings .admin-settings-table__td_check{width:45px;text-align:center}.admin-settings .header-text{text-transform:uppercase;font-weight:600;font-size:16px;line-height:20px}.admin-settings .row-text{font-family:Roboto;font-style:normal;font-weight:bold;font-size:15px;line-height:18px}.admin-settings .admin-settings-button{line-height:5px;width:163px;height:30px;left:315px;top:448px;background:#87CA00;border:1.5px solid #87CA00;box-sizing:border-box;border-radius:2px}.admin-settings table{border-collapse:collapse;width:100%}.admin-settings table .admin-table__td_check{margin-right:10px}.admin-settings-head{background-color:#fff;border-bottom:1px solid #D5D7DE}.admin-settings-head .admin-settings-table__td{height:45px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;color:#343B4C}.admin-settings-body .admin-settings-table-row:nth-child(2n){background-color:#F7F8F9}.admin-settings-body .admin-settings-table-row:nth-child(2n+1){background-color:#fff}.admin_input_key,.admin_input_port,.admin_input_host{width:150px}.admin_settings_telegram{display:flex;margin-top:20px}.admin_settings_telegram .admin_input__label{font-weight:bold;margin-right:15px}.admin_settings_telegram .admin_input_key{min-width:500px}.admin_switcher{display:flex;margin-right:50px}.admin_switcher .control-switcher{display:flex;align-items:center;justify-content:center;padding-right:7px;padding-left:7px;font-size:8px;line-height:9px;width:49px;height:22px;border-radius:11px;position:relative;-webkit-transition-duration:0.2s;-moz-transition-duration:0.2s;-ms-transition-duration:0.2s;-o-transition-duration:0.2s;transition-duration:0.2s;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-weight:bold}.admin_switcher .control-switcher_off{background:#E6E9EC;box-shadow:inset 1px 1px 2px rgba(0,0,0,0.15),inset -1px -1px 2px rgba(0,0,0,0.15);color:rgba(0,0,0,0.3)}.admin_switcher .control-switcher_off .control-switcher__on-text{opacity:0}.admin_switcher .control-switcher_on{background:#87CA00;box-shadow:inset 1px 1px 2px rgba(0,0,0,0.15),inset -1px -1px 2px rgba(0,0,0,0.15);color:#ffffff}.admin_switcher .control-switcher_on .control-switcher__off-text{opacity:0}.admin_switcher .control-switcher_on .control-switcher__caret{left:30px}.admin_switcher .control-switcher__caret{position:absolute;width:16px;height:16px;top:3px;left:3px;border-radius:50%;background:#ffffff;box-shadow:-1px 1px 2px rgba(0,0,0,0.25);-webkit-transition-duration:0.2s;-moz-transition-duration:0.2s;-ms-transition-duration:0.2s;-o-transition-duration:0.2s;transition-duration:0.2s}.admin_switcher .admin_switcher__label{font-weight:bold;font-size:15px;margin-right:10px}.admin_settings_websockets .admin_settings_websockets_box{display:flex;margin-top:20px}.admin_settings_websockets .admin_input__label{margin-right:15px}.admin_settings_websockets .admin_input{margin-right:30px}.react-tabs__tab-panel{width:100%;padding:10px;border:1px solid #D5D7DE;border-radius:3px;overflow:hidden;background-color:#fff}.nav-pills .react-tabs__tab{margin-right:16px;padding:0.5rem 1rem;border:1px solid #D5D7DE;border-radius:3px 3px 0 0;background-color:#E6E9EC;font-family:Montserrat, sans-serif;font-size:16px;font-weight:bold;color:#8E94AA}.nav-pills .react-tabs__tab--selected{background-color:#fff;border-bottom-color:#fff;color:#343B4C}.admin-users{width:100%}.admin-users .wrapper{margin:15px}.admin-users .admin-heading-users{padding:10px 0;display:flex;align-items:center}.admin-users .admin-panel{display:flex}.admin-users .admin-users-form{display:flex}.admin-users .admin-users-form .admin-users-button{margin-left:8px;flex:none}.admin-users .form-bulk-left{width:unset}.admin-users .form-bulk-right{margin-left:24px}.admin-users .form-bulk-search{margin-left:auto}.admin-users .form-control{border:1px solid #343B4C;box-sizing:border-box;box-shadow:0px 0px 0px #007CBA;border-radius:2px;max-height:35px}.admin-users .admin-users-table{margin-top:10px;border:1px solid #D5D7DE;height:75vh;border-radius:3px}.admin-users .table{border-bottom:1px solid #D5D7DE;font-family:Roboto;font-style:normal;font-size:15px;line-height:15px}.admin-users .table thead{text-transform:uppercase;font-weight:600;font-family:Montserrat}.admin-users .table td{vertical-align:middle}.admin-users .table td a{font-family:Roboto;color:#274BC8;cursor:pointer}.admin-users .table .input-users{margin-right:10px}.admin-users .table .users-svg{position:relative;margin-right:5px;max-width:36px;max-height:36px;display:inline-block;align-items:center}.vector-svg{position:relative;margin-left:8px;width:16px;height:16px;display:inline-block;align-items:center;fill:red}.vector-svg.vector-svg--active{border:1px solid red;border-radius:100%}.role-svg{transform:rotate(180deg)}#content{width:100%;height:100vh;margin:12px}.admin-heading{display:flex;align-items:center;padding:10px 20px 10px 25px}.admin-breadcrumbs{margin-right:20px;font-size:28px;font-family:Montserrat, Arial, sans-serif}.admin-breadcrumbs__link{font-weight:500;font-size:28px;text-decoration:none;color:grey}.admin-breadcrumbs__separator{font-weight:bold;font-size:28px}.admin-breadcrumbs__current{font-weight:bold;font-size:28px}.nav{margin-top:10px}.nav-item a{font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;text-transform:uppercase}.change-role{line-height:50px;padding:35px 8px 8px 8px;align-items:center}.form-control-sm{margin:0 35px 0 20px;background:#FFFFFF;border:1px solid #343B4C !important;box-sizing:border-box;box-shadow:0px 0px 0px #007CBA;border-radius:2px}.form-control-sm:focus{box-shadow:none}.form-check{padding-left:1.2rem !important}.form-check-inline{margin-right:0 !important}.form-check-label{font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343B4C}.form-check-label:hover{color:#007bff}.col-3{align-self:center}.col-6{padding-bottom:8px;padding-top:10px;border-top:0;border-bottom:0;margin:0 !important}.form-group{margin-top:14px !important}fieldset{padding-top:12px}.treeview{margin-top:-50px;padding:0;clear:both;font-family:Arial, sans-serif;width:100%;height:70vh}.treeview *{font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#8E94AA}.treeview ul{overflow:hidden;width:100%;margin:0;padding:0 0 1.5em 0;list-style-type:none}.treeview ul ul{overflow:visible;width:auto;margin:0 0 0 0;padding:0 0 0 1.5em}.treeview ul.l{border-left:1px solid;margin-left:-1px}ul{overflow:hidden}.treeview li{position:relative;padding-left:1.2em}.treeview+ul{margin-left:30px;padding-top:10px}.treeview li{margin-bottom:.8em}.treeview li{margin:0;padding:0}.treeview li li{margin:0 0 0 0.5em;border-left:1px solid;padding:0}.treeview li div{position:relative;height:1.5em;min-height:16px;height:1.9em}.treeview li li div{border-bottom:1px solid}.treeview li p{position:absolute;z-index:1;top:0.8em;top:1.2em;left:.95em;width:100%;margin:0;border-bottom:1px dashed;padding:0}.treeview li p.form-group-p{margin-left:7.8rem}.treeview a{padding:0.1em 0.2em;white-space:nowrap;height:1px}.treeview a:hover{padding:0.1em 0.2em;white-space:nowrap;height:1px;text-decoration:none}.treeview img.i{border-right:2px solid;border-bottom:0.5em solid;margin-bottom:-0.5em;vertical-align:middle}.treeview a.sc{position:absolute;top:0.06em;margin-left:-1em;padding:0;text-decoration:none}.treeview li p,.treeview img.i,.treeview .sc{background:#ffffff}.treeview ul.l,.treeview li p,.treeview img.i{border-color:#ffffff}.treeview ul li li,.treeview ul li li div{border-color:#999999}.treeview a,.treeview a.sc,.treeview a.sc:hover{color:#8E94AA}.treeview a.core{color:#343B4C}.treeview a:hover{color:#f97c13}.group-table{height:50px;align-items:center}.group-table .text-group{margin:0 0 0 15px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;text-transform:uppercase;color:#343B4C}.group-table .text-total{font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343B4C}.col input .search-tools{height:30px;border:1px solid #ced4da}.form-tools button{min-width:-webkit-fill-available;min-height:-webkit-fill-available;border-bottom:none;border-right:none;border-top:none;border-left:1px solid #ced4da;background:#87CA00;font-family:Montserrat;font-style:normal;font-weight:bold;font-size:18px;line-height:22px;text-transform:uppercase;color:#3C455B}.form-tools button:hover{min-width:-webkit-fill-available;min-height:-webkit-fill-available;border-bottom:none;border-right:none;border-top:none;border-left:1px solid #ced4da;background:#b5ea49;font-family:Montserrat;font-style:normal;font-weight:bold;font-size:18px;line-height:22px;text-transform:uppercase;color:#3C455B}.group-table-trees{height:75vh}.form-check-group{margin-top:16px}.form-group-p{margin:0;margin-left:10px;display:inline-block}.form-group-p a{font-family:Roboto;font-style:normal;font-weight:normal;font-size:11px;line-height:14px;color:#8E94AA;text-decoration:none !important}.form-group-p span{margin:0;font-size:12px;line-height:14px;color:#8E94AA}.form-group-p a:last-child{color:#fc394d}.form-group-p a:last-child:hover{color:#fa011a}.group-vertical{display:grid;width:80%;margin:25px auto}.group-vertical button{margin-top:5px;font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;text-align:center;color:#3C455B}.dangerous{display:grid;width:80%;justify-content:center;margin:350px auto auto auto}.dangerous span{width:195px;font-family:Roboto;font-style:normal;font-weight:bold;font-size:12px;line-height:14px;margin:0 19px;color:#8E94AA}.dangerous button{margin:5px auto;width:195px;height:40px;left:1651px;top:889px;background:#FF4E6E;border:1px solid #FF4E6E;box-sizing:border-box;border-radius:2px;font-family:Montserrat;font-style:normal;font-weight:bold;font-size:18px;line-height:22px;text-align:center;color:#FFFFFF}.admin-logo{width:100%;height:41px;background-color:#2A2D36}.logo{margin:8px 15px}.admin-users{width:100%}.admin-users .wrapper{margin:15px}.admin-users .admin-heading-users{padding:10px 0;display:flex;align-items:center}.admin-users .admin-panel{display:flex}.admin-users .admin-users-form{display:flex}.admin-users .admin-users-form .admin-users-button{margin-left:8px;flex:none}.admin-users .form-bulk-left{width:unset}.admin-users .form-bulk-right{margin-left:24px}.admin-users .form-bulk-search{margin-left:auto}.admin-users .form-control{border:1px solid #343B4C;box-sizing:border-box;box-shadow:0px 0px 0px #007CBA;border-radius:2px;max-height:35px}.admin-users .admin-users-table{margin-top:10px;border:1px solid #D5D7DE;height:75vh;border-radius:3px}.admin-users .table{border-bottom:1px solid #D5D7DE;font-family:Roboto;font-style:normal;font-size:15px;line-height:15px}.admin-users .table thead{text-transform:uppercase;font-weight:600;font-family:Montserrat}.admin-users .table td{vertical-align:middle}.admin-users .table td a{font-family:Roboto;color:#274BC8;cursor:pointer}.admin-users .table .input-users{margin-right:10px}.admin-users .table .users-svg{position:relative;margin-right:5px;max-width:36px;max-height:36px;display:inline-block;align-items:center}.vector-svg{position:relative;margin-left:8px;width:16px;height:16px;display:inline-block;align-items:center;fill:red}.vector-svg.vector-svg--active{border:1px solid red;border-radius:100%}.role-svg{transform:rotate(180deg)}.btn__wrapper .btn{margin-right:20px}.btn_add{margin-top:20px}.form-group__inline-wrapper{display:flex;justify-content:space-between}.form-group__inline-wrapper__divider,.form-group__inline-wrapper .form-group_checkbox{align-self:flex-end}.form-group.form-group_width30{flex-basis:30%}.form-group.form-group_width65{flex-basis:65%}.form-group.form-group_width47{flex-basis:47.5%}.form-group.form-group_width30{flex-basis:30%}.form-group.form-group_width15{flex-basis:15%}.sub-header{margin:30px 0;font-weight:600;font-size:16px;line-height:20px;text-transform:uppercase;color:#343B4C}.field-form p,.admin-form p{color:#242424;display:block;font-family:inherit}.field-form .checkbox-group,.admin-form .checkbox-group{display:flex}.field-form .checkbox-group .form-group,.admin-form .checkbox-group .form-group{flex-grow:1}.centred{text-align:center}.checkbox-label{margin-left:10px}.flex-container{display:flex;justify-content:space-between;align-items:baseline}.label_checkbox{margin-bottom:0;cursor:pointer}.disabling-radio{margin-left:15px}.charts{display:flex;flex-wrap:wrap}.charts .card{margin-right:10px;margin-bottom:10px;min-height:300px;min-width:450px;padding:20px;border:0}.charts .card-body{padding:0}.charts .card-body .spinner-container{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.charts .card-body .widget-table{overflow:auto;width:100%;height:100%}.charts .card-body .widget-table table{width:100%;font-size:0.8rem}.charts .card-body .widget-table table.vertical-table tbody td:first-child{background-color:#f0f0f0;color:#666666;width:50%;font-weight:600}.charts .card-body .widget-table table thead th,.charts .card-body .widget-table table tbody td{border-collapse:collapse;border:1px solid rgba(0,0,0,0.125);padding:0.3rem 0.5rem}.charts .card-body .widget-table table thead{background-color:#f0f0f0;color:#666666;font-weight:600}.charts .card-header{display:flex;justify-content:space-between;align-items:center;padding:0.5rem 0.7rem;border-bottom:none;background-color:transparent;margin-bottom:10px}.charts .card-header__name{width:80%;font-size:1.2rem;color:#2a2d36;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.charts .card-header__buttons button{border:0;background:transparent;padding:0 7px}.widget-placeholder{width:100%;height:420px;border:1px solid #dedede;overflow:hidden;border-radius:2px;margin-right:15px;padding:20px}.widget-placeholder .widget-table{overflow:auto;width:100%;height:100%}.widget-placeholder .widget-table table{width:100%;font-size:0.8rem}.widget-placeholder .widget-table table.vertical-table tbody td:first-child{background-color:#f0f0f0;color:#666666;width:50%;font-weight:600}.widget-placeholder .widget-table table thead th,.widget-placeholder .widget-table table tbody td{border-collapse:collapse;border:1px solid rgba(0,0,0,0.125);padding:0.3rem 0.5rem}.widget-placeholder .widget-table table thead{background-color:#f0f0f0;color:#666666;font-weight:600}.form-group .react-datepicker-wrapper{width:100%}.hide-blocks .react-datepicker__header{display:none}.form-segment .form-group label{width:100%}.from-segment .form-group_checkbox{margin-bottom:25px}.document-detail_opacity-background{background-color:#000;opacity:0.7;z-index:1;position:absolute;top:0;bottom:0;right:0;left:0}.document-detail{position:absolute;top:30px;left:0;right:0;margin:auto;overflow-y:hidden;height:91.6%;width:96%;background:#fff;z-index:2}.document-detail_header{display:flex;justify-content:space-between;border-bottom:1px solid #dcdcde}.document-detail__title{font-size:22px;font-weight:bold;line-height:2.3;margin-left:16px;letter-spacing:0.8px}.document-detail__btn-nav-group{display:flex}.document-detail__btn-nav{color:#787c82;background-color:white;border:1px solid #dcdcde;border-bottom:none;padding:13px 15px}.document-detail__btn-nav:hover{border-left-color:#c3c4c7;color:#000;background-color:#dcdcde}.document-detail__btn-nav:disabled{color:#dcdcde}.document-detail__btn-nav:disabled:hover{background-color:#fff;cursor:default}.document-detail__content{display:flex;justify-content:space-between;width:100%;height:91%}.document-detail__display{display:flex;flex-direction:column;width:66%;margin:0 auto;padding:20px 30px 20px 30px}.document-detail__image{margin:20px auto;object-fit:scale-down;max-width:100%;max-height:87%}.document-detail__btn{background-color:#f6f7f7;font-size:13px;border:1px solid #1a74af;border-radius:4px;color:#1a74af;padding:5px 10px}.document-detail__btn:hover{color:#0a4b78;border-color:#0a4b78;background-color:#f0f0f1}.document-detail__btn-edit-image{width:84px;margin:0 auto}.document-detail__editing-section{width:367px;height:100%;border-left:1px solid #dcdcde;padding:11px 16px 11px 16px;font-size:12px;color:#646970;overflow-y:auto}.document-detail__data-wrap{padding-right:34px}.document-detail__data{font-weight:600;padding-bottom:15px;margin-bottom:16px;border-bottom:1px solid #dcdcde}.document-detail__data-result{font-weight:normal;word-wrap:break-word}.document-detail__line-to-change{text-align:right;margin-bottom:12px}.document-detail__line-to-change_uploated-by{margin:18px 0px 18px 36px}.document-detail__name-of-changes{margin-right:18px;vertical-align:top}.document-detail__name-of-changes__uploated-by{margin-left:18px}.document-detail__input{width:65%;border-radius:4px;height:30px;border:1px solid #8c8f94;padding:0px 8px;font-size:14px}.document-detail__textarea{width:65%;border:1px solid #8c8f94;border-radius:4px;height:62px;font-size:14px;padding:4px 8px}.document-detail__btn-copy-url{font-size:11px;margin-left:117px}.document-detail__btn-delete-wrap{border-top:1px solid #dcdcde;margin-top:24px;padding-top:15px}.document-detail__btn-delete{padding:0;background-color:#fff;color:#e55a43}.document-detail__save-notification{color:#646970;font-size:12px;position:absolute;top:62px;right:30px}.custom-fonts{width:100%;padding:17px 17px 15px 22px;background-color:#f0f0f1}.custom-fonts a{color:#1a74af;text-decoration:none;position:relative}.custom-fonts a:hover{text-decoration:none;color:#0a4b78}.custom-fonts__title{display:flex;font-size:21px;letter-spacing:1px}.custom-fonts__table-header{display:flex;justify-content:space-between;font-size:13px;margin-top:16px;margin-left:4px}.custom-fonts__sorting-options-count{color:#646970}.custom-fonts__sorting-options-count_line{border-right:2px solid #646970;padding-right:4px;margin-right:4px}.custom-fonts__btn{border:1px solid #1a74af;color:#1a74af;background:white;padding:0px 11px;border-radius:3px;line-height:2px;font-size:13px;background-color:#fff}.custom-fonts__btn:hover{color:#0a4b78;border-color:#0a4b78;background-color:#f0f0f1}.custom-fonts__btn_add-new{margin-left:8px;font-weight:800;height:25px;margin-top:3px;letter-spacing:0.8px;padding:0px 8px 0px 8px}.custom-fonts__search{display:flex}.custom-fonts__search-input{height:31px;width:221px;border-radius:4px;border:1px solid #8c8f94;margin-right:4px;background-color:#fff}.custom-fonts__const-part-of-table{display:flex;justify-content:space-between}.custom-fonts__possible-actions{display:flex}.custom-fonts__possible-actions-drop-list{width:126px;margin-right:6px;font-size:14px;padding:5px 4px 5px 4px;color:#2c3338;cursor:pointer;background-color:#fff}.custom-fonts__possible-actions-drop-list:hover{color:#1a74af}.custom-fonts__number-of-items{font-size:12px;margin-top:11px}.custom-fonts__table{border:1px solid #c3c4c7;margin:6px 0px 10px 0px;width:100%;font-size:14px;background-color:#fff}.custom-fonts__table thead{border-bottom:1px solid #c3c4c7}.custom-fonts__table thead tr{height:36px}.custom-fonts__table thead .custom-fonts__table-font-family:hover{cursor:pointer}.custom-fonts__table tbody .custom-fonts__table-font-family{position:relative;font-weight:bold}.custom-fonts__table tbody .custom-fonts__table-font-family_hover{opacity:0}.custom-fonts__table tbody .custom-fonts__table-font-family_hover:hover{opacity:1}.custom-fonts__table tbody .custom-fonts__table-font-family_hover_edit{position:absolute;left:1px;bottom:11px;font-size:13px;font-weight:normal;border-right:1px solid #cecece;height:11px;line-height:10px;padding-right:5px;cursor:pointer}.custom-fonts__table tbody .custom-fonts__table-font-family_hover_trash{position:absolute;left:33px;bottom:8px;color:#e55a43;font-size:13px;font-weight:normal;cursor:pointer}.custom-fonts__table tbody .custom-fonts__table-preview{color:#50575e}.custom-fonts__table tbody tr{height:60px;vertical-align:initial}.custom-fonts__table tfoot{border-top:1px solid #c3c4c7}.custom-fonts__table tfoot tr{height:36px}.custom-fonts__table tfoot .custom-fonts__table-font-family:hover{cursor:pointer}.custom-fonts__table-check{width:3.5%;padding:10px 0px 0px 11px}.custom-fonts__table-font-family{width:36.3%;font-weight:normal;color:#1a74af}.custom-fonts__table-font-family:hover{color:#0a4b78}.custom-fonts__table-font-family__count{position:absolute;top:-3px;right:-22px;width:17px;height:16px;background-color:#d4dffb;border-radius:9px;font-size:9px;text-align:center;padding-top:1px}.custom-fonts__table-preview{font-weight:normal}.custom-fonts__table input{width:16px;height:16px}.edit-font{width:100%;padding:17px 17px 15px 22px;background-color:#f0f0f1}.edit-font__content{display:flex;justify-content:space-between;margin-top:15px}.edit-font__content-main{width:74.9%}.edit-font__content-main-btn{background-color:#a4afb7;color:#fff;font-size:13px;padding:7px 20px;letter-spacing:0.5px;margin-top:19px;border-radius:5px}.edit-font__content-main-btn:hover{background-color:#767e83}.edit-font__content-main__variation-table{width:100%}.edit-font__content-main__variation-table .add-variations{width:200px}.edit-font__content-input{font-size:22px;padding:2px 5px 0px 7px;width:100%;color:#2c3338;border-radius:5px;border:1px solid #8c8f94}.edit-font__content-input-add-font{color:#787c82}.edit-font__content-subtitle{font-size:14px;font-weight:bold;letter-spacing:0.4px;margin-top:24px;margin-bottom:6px;border-bottom:1px solid #c3c4c7}.edit-font__content-font-editing-line{border-radius:5px;background-color:#fff;font-size:13px;letter-spacing:0.6px;padding:18px 35px 21px 20px;color:#6d7882;border-bottom:4px solid #f0f0f1}.edit-font__content-font-editing-line td{padding:8px 20px}.edit-font__content-font-editing-line__element{margin-right:76px}.edit-font__content-font-editing-line__element_property{font-weight:bold;margin-right:8px}.edit-font__content-font-editing-line__element_description{margin-left:15px;font-size:14px;letter-spacing:0.4px;margin-right:73px}.edit-font__content-font-editing-line__element_edit{opacity:0.6;margin-right:0px;letter-spacing:0px}.edit-font__content-font-editing-line__element_edit:hover{cursor:pointer;opacity:1}.edit-font__content-font-editing-line__element_delete{opacity:0.6;margin-right:0px;margin-left:56px;letter-spacing:0px}.edit-font__content-font-editing-line__element_delete:hover{cursor:pointer;opacity:1;color:#b32d2e}.edit-font__content-font-editing-line__element-value{height:31px;width:81px}.edit-font__content-publish{border:1px solid #c3c4c7;margin-top:26px;background-color:#fff;height:93px}.edit-font__content-publish_min{position:absolute;right:22px;top:37px;width:18%}.edit-font__content-publish-header{border-bottom:1px solid #c3c4c7;padding:9px 3px 5px 12px;font-size:15px;font-weight:bold;display:flex;justify-content:space-between}.edit-font__content-publish-body{padding:11px;display:flex;justify-content:space-between;flex-direction:row-reverse}.edit-font__content-publish-trash{color:#b32d2e;font-size:13px;text-decoration:underline;line-height:28px}.edit-font__content-publish-trash:hover{cursor:pointer}.edit-font__content-publish-btn{font-size:13px;background-color:#2271b1;padding:7px 15px 6px 15px;color:#fff;border-radius:4px}.edit-font__content-publish-btn:hover{background-color:#0a4b78}.edit-font__content-publish-arrow{background-color:white;color:#787c82;padding:0}.admin-content.admin-content-fonts-form{padding:0px}.admin-content .edit-font__content-font-editing-line__element{margin-right:41px;width:200px}.admin-content .edit-font__content-font-editing-line__element_description{margin-right:52px;padding-left:0px}.admin-content .edit-font__content-font-editing-line__element_edit{margin-left:32px;margin-right:0}.admin-content .edit-font__content-font-editing-line__element_delete{margin-right:0}.form-group-wrap{padding:8px 40px 10px 40px;background-color:#fff}.form-group-wrap .form-group{padding-right:20px;padding-left:20px;padding-bottom:9px;border-bottom:4px solid #f0f0f1}.form-group-wrap .form-group-input-label{font-size:12px;letter-spacing:0.8px;margin-top:0px;width:125px;padding-top:12px;padding-left:10px;color:#6d7882;font-weight:600}.form-group-wrap .form-group select{color:#495157;font-size:12px;padding:5px 5px;height:37px}.add-variatons-open{display:block}.add-variatons-close{display:none}.font-table{width:100%;background-color:#f0f0f1}.showFontUrl{width:37%;color:#495157;font-size:12px;padding:5px;border-radius:5px;border:1px solid #d5dadf}.admin{display:flex;min-height:100vh;padding-left:271px}.admin__logo{width:120px;height:44px;padding-left:12px;display:flex;align-items:center;justify-content:center}.admin__logo img{max-width:100%;max-height:100%}.admin-nav{position:fixed;z-index:1;top:0;left:0;bottom:0;overflow:hidden;height:100vh;background-color:#2A2D36;width:271px;flex-shrink:0}.admin-nav-main{height:100%}.admin-nav-top{display:flex;justify-content:space-between;align-items:center;width:271px;padding-right:5px}.admin-nav-top .nav-logo{background-color:#2a2d36}.admin-nav-list{margin-top:10px}.admin-nav-list__link{position:relative;display:flex;padding:6px;color:#fff;font-size:17px;font-weight:500}.admin-nav-list__link.admin-nav-list__link--models{margin-left:40px}.admin-nav-list__link:hover{color:#87CA00}.admin-nav-list__link:hover path{fill:#87CA00}.admin-nav-list__link:hover::before{content:\\\"\\\";position:absolute;left:1px;top:3px;border-left:4px solid #7eb223;height:28px}.admin-nav-list__link svg{position:relative;top:1px;margin:3px 16px 0 7px}.admin-nav-list_pages{position:absolute;top:44px;left:0;right:0;background-color:#2A2D36;transform:translate(100%, 0);transition-duration:0.3s}.admin-nav-list .admin-nav-list--sublist_active::after{content:\\\"\\\";position:absolute;right:0;top:62px;border:8px solid transparent;border-right:8px solid #f7f8f9;display:block;width:0;height:0}.admin-nav-list .admin-nav-list--sublist_active li{background-color:#677289;position:relative}.admin-nav-list .admin-nav-list--sublist_active li:hover{background-color:#677289}.admin-nav-list .admin-nav-list--sublist_active .admin-nav-list__link{font-size:13px;text-decoration:none;padding:8px 12px 8px 12px}.admin-nav-list.admin-nav-list--sublist{display:none;position:fixed;left:271px;top:81px}.admin-nav-list.admin-nav-list--sublist::before{content:\\\"\\\";position:fixed;left:255px;top:102px;border:8px solid transparent;border-right:8px solid #677289;display:block;width:0;height:0}.admin-nav-list.admin-nav-list--sublist li{background-color:#677289;position:relative}.admin-nav-list.admin-nav-list--sublist li:hover{background-color:#677289}.admin-nav-list.admin-nav-list--sublist .admin-nav-list__link{font-size:13px;padding:8px 67px 8px 19px;text-decoration:none}.admin-nav-list li:hover .admin-nav-list.admin-nav-list--sublist{display:block}.admin-content{width:100%}.admin-caption{margin-bottom:15px;font-weight:600;font-size:18px}.admin__bars{margin:12px 12px;float:right;cursor:pointer}.admin_pages-show .admin-nav-list_pages{transform:translate(0, 0)}.admin__version{position:absolute;bottom:0;left:0;right:0;padding:5px;text-align:center;font-size:13px;color:#fff}.admin-form__subheader{text-transform:uppercase;margin-top:25px;font-weight:600;font-size:16px;line-height:20px}.icon{width:16px;height:16px;fill:white;margin-right:15px;display:inline-block;align-items:center}.admin-nav li{list-style-type:none;background:#343b4c}.admin-nav li:hover{background:#495267}ul{margin-left:0;padding-left:0}p{display:inline-block;color:white;font-weight:500;font-family:Montserrat, Arial, sans-serif}a{text-decoration:none}.admin-page{width:100%;display:flex;flex-direction:column}.admin-content{background-color:#F7F8F9;flex-grow:1;padding:13px 25px}.ace_editor{font-family:SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace}.admin-skeleton .altrp-skeleton{width:220px;height:240px}\\n\", \"\"]);\n\n// exports\n","var escape = require(\"../../../../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".pagination{display:flex;align-items:center;padding:20px 0}.pagination__version{font-family:Roboto;font-style:italic;font-weight:normal;font-size:13px;line-height:15px;color:#8E94AA;margin-right:437px}.pagination__link{text-decoration:none;font-weight:400;font-family:Roboto;font-style:italic;font-size:13px;line-height:15px;color:#673daa}.pagination__text{margin:0 9px;font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343B4C}.pagination__move{width:30px;height:30px;padding:0;display:flex;justify-content:center;align-items:center;border:1px solid #8E94AA;box-sizing:border-box;cursor:pointer;border-radius:2px}.pagination__buttons{display:flex;align-items:center}.pagination__indicator{display:flex;justify-content:center;align-items:center;width:43px;height:30px;background:#FFFFFF;border:1px solid #343B4C;box-sizing:border-box;box-shadow:0px 0px 0px #007CBA;border-radius:2px}.pagination__prev{background-image:url(\" + escape(require(\"../../svgs/left.svg\")) + \");background-size:7.5px 4px;margin:0 7px}.pagination__map{margin:0 9px;font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343B4C}.pagination__next{margin-right:7.5px}.pagination__disabled{opacity:.5;cursor:auto}.right__arrow{transform:rotate(-180deg)}\\n\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.i(require(\"-!../../../../../node_modules/css-loader/index.js!bootstrap/dist/css/bootstrap-grid.min.css\"), \"\");\n\n// module\nexports.push([module.id, \"html{height:100%}body,*,*:focus,*::before,*::after{box-sizing:border-box;outline:none}body{font-family:Roboto, sans-serif;margin:0;overflow-x:hidden;color:#242424;display:flex;flex-direction:column;height:100%}a,button,svg,path{-webkit-transition-duration:0.2s;-moz-transition-duration:0.2s;-ms-transition-duration:0.2s;-o-transition-duration:0.2s;transition-duration:0.2s;font-family:Roboto, sans-serif}.btn:active,.btn:focus,a:active,a:focus,button:active,button:focus{outline:none;box-shadow:none}button{cursor:pointer}.btn_grey{background-color:#8E94AA}.btn_disabled{background-color:#8E94AA;cursor:default;font-weight:bold;color:#fff;pointer-events:none}.btn,button{padding:10px 15px;border:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}iframe{display:block;border:none}input[type=\\\"checkbox\\\"]{cursor:pointer}.no-transition{-webkit-transition-duration:0s !important;-moz-transition-duration:0s !important;-ms-transition-duration:0s !important;-o-transition-duration:0s !important;transition-duration:0s !important}.caption{margin-bottom:15px;font-weight:600;font-size:18px}.btn_bare{border:none;background-color:transparent}.btn_success{background-color:#87CA00;color:#fff;font-weight:bold}.btn_failure{background-color:#FF4E6E;color:#fff;font-weight:bold}.text_bold{font-weight:bold}.altrp-scroll__vertical-track{bottom:2px;top:2px;right:2px;z-index:1000;border-radius:3px}.clickable{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cursor-pointer{cursor:pointer}.rotate-180{transform:rotatex(180deg)}.altrp-label{display:block}#editor-content .fixed-section,.fixed-section,.fixed-section .altrp-section{position:fixed;z-index:55;width:auto}.position-relative{position:relative}.ck.ck-balloon-panel{z-index:99999999999 !important}#ckf-modal{z-index:999999999999 !important}.export-panel{position:relative;z-index:99999999999}@media print{.export-panel{display:none}}.hidden{display:none}.assets-browser{display:none}.assets-browser_active{position:fixed;display:flex;top:0;bottom:0;right:0;left:0;z-index:1000}.assets-browser__bg{position:absolute;top:0;left:0;bottom:0;right:0;background-color:rgba(52,59,76,0.2);z-index:50}.assets-browser-content{position:absolute;top:5%;bottom:5%;left:5%;right:5%;padding-bottom:60px;z-index:100;border:1px solid #D5D7DE;border-radius:3px;background-color:#fff}.assets-browser__close.btn{position:absolute;top:0;right:0;padding:10px;-webkit-transform:scale(2);-moz-transform:scale(2);-ms-transform:scale(2);-o-transform:scale(2);transform:scale(2);background-color:transparent}.assets-browser__close.btn .icon{margin:0;width:auto;height:auto}.assets-browser-top{padding:20px 20px 0;background-color:#F7F8F9}.assets-browser-top .caption{font-size:22px}.assets-browser-nav{margin-left:-20px;margin-right:-20px;padding-left:5px;padding-right:5px;border-bottom:1px solid #D5D7DE}.assets-browser__tab{margin-bottom:-1px;background-color:transparent;border-top:1px solid transparent;border-left:1px solid transparent;border-right:1px solid transparent}.assets-browser__tab_active{border-top:1px solid #D5D7DE;border-left:1px solid #D5D7DE;border-right:1px solid #D5D7DE;background-color:#fff}.assets-browser-bottom{position:absolute;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:flex-end;height:60px;padding-right:20px;border-top:1px solid #D5D7DE}.assets-browser-choose-frame{display:flex;align-content:flex-start;align-items:flex-start;flex-wrap:wrap;padding:20px 20px 20px 10px;height:calc( 100% - 96.5px);overflow:auto}.asset-choose{position:relative;cursor:pointer;margin-bottom:10px;margin-left:10px;border:1px solid #D5D7DE}.asset-choose__content{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}.asset-choose_selected{background:#71d7f7}.asset-choose_icon{width:calc(5% - 10px);padding-top:calc(5% - 10px)}.asset-choose_media{width:calc(10% - 10px);padding-top:calc(10% - 10px)}.asset-choose_media .asset-choose__content{top:10px;left:10px;width:calc(100% - 20px);height:calc(100% - 20px);transform:none;object-fit:contain;object-position:center;background-color:#F7F8F9}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-notifications.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-notifications.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-notifications.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./admin-style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./admin-style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./admin-style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-pagination.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-pagination.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-pagination.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./assets-browser.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./assets-browser.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./assets-browser.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}