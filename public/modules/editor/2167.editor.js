(self.webpackChunk=self.webpackChunk||[]).push([[2167],{79782:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(87329),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96156),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(92137),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5991),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(10379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(46070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(77608),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87757),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_editor_src_js_classes_AltrpModel__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(71743),_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(35713),_store_popup_trigger_actions__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(54534),_helpers_sendEmail__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(24946),_helpers_plugins__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9713);function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var _=0,n=function(){};return{s:n,n:function(){return _>=e.length?{done:!0}:{done:!1,value:e[_++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,_=new Array(t);r<t;r++)_[r]=e[r];return _}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(e);t&&(_=_.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,_)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,_=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__.Z)(e);if(t){var n=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__.Z)(this).constructor;r=Reflect.construct(_,arguments,n)}else r=_.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.Z)(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var AltrpAction=function(_AltrpModel){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__.Z)(AltrpAction,_AltrpModel);var _super=_createSuper(AltrpAction),_doActionVIToggle,_doActionCondition,_doActionPlaySound,_doActionDelay,_doActionEmail,_doActionTrigger,_doActionUpdateCurrentDatasources,_doActionSetData,_doActionLogout,_doActionLogin,_doActionTableToXLS,_doActionTableToCSV,_doActionDataToCSV,_doActionElementsToPDF,_doActionPageToPDF,_doActionScrollToBottom,_doActionScrollToTop,_doActionScrollToElement,_doActionPrintElements,_doActionPrintPage,_doActionTogglePopup,_doActionToggleElements,_doActionRedirect,_doActionForm,_doAction,_init;function AltrpAction(e,t,r){var _;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_9__.Z)(this,AltrpAction),(_=_super.call(this,e)).setProperty("_widgetId",t),_.setProperty("_element",r),_.init(),_}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_10__.Z)(AltrpAction,[{key:"getElementId",value:function(){return this.getProperty("_element").getId()}},{key:"getFormId",value:function(){var e=this.getProperty("form_id");return e?(-1!==e.indexOf("{{")&&(e=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(e,this.getCurrentModel().getData())),e):e}},{key:"getFormURL",value:function(){var e=this.getProperty("form_url");return e?(-1!==e.indexOf("{{")&&(e=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(e,this.getCurrentModel().getData())),e):e}},{key:"getWrapperComponent",value:function(){return(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getComponentByElementId)(this.getElementId())}},{key:"getElement",value:function(){return this.getProperty("_element")}},{key:"getCurrentModel",value:function(){return this.getElement().getCurrentModel()}},{key:"getReplacedProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.getProperty(e,t);return _.isString(r)&&(r=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(r,this.getCurrentModel().getData())),r}},{key:"init",value:(_init=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.getType(),e.next="form"===e.t0?3:"login"===e.t0?7:9;break;case 3:if(this.getFormURL()){e.next=6;break}return this.setProperty("_form",null),e.abrupt("return");case 6:return e.abrupt("return");case 7:t=formsManager.registerForm(this.getFormId(),"login","POST"),this.setProperty("_form",t);case 9:case"end":return e.stop()}}),e,this)}))),function(){return _init.apply(this,arguments)})},{key:"getType",value:function(){return this.getProperty("type")}},{key:"setType",value:function(e){return this.setProperty("type",e)}},{key:"doAction",value:(_doAction=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r,_;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={success:!1},!(r=this.getProperty("confirm"))||confirm(r)){e.next=4;break}return e.abrupt("return",{success:!1,message:"User not Confirm"});case 4:e.t0=this.getType(),e.next="form"===e.t0?7:"delay"===e.t0?11:"email"===e.t0?15:"redirect"===e.t0?19:"toggle_element"===e.t0?23:"toggle_popup"===e.t0?27:"print_page"===e.t0?31:"print_elements"===e.t0?35:"scroll_to_element"===e.t0?39:"scroll_to_top"===e.t0?43:"scroll_to_bottom"===e.t0?47:"trigger"===e.t0?51:"page_to_pdf"===e.t0?55:"elements_to_pdf"===e.t0?59:"data_to_csv"===e.t0?63:"table_to_csv"===e.t0?67:"table_to_xls"===e.t0?71:"login"===e.t0?75:"logout"===e.t0?79:"set_data"===e.t0?83:"update_current_datasources"===e.t0?87:"forms_manipulate"===e.t0?91:"custom_code"===e.t0?95:"play_sound"===e.t0?99:"condition"===e.t0?103:"vi_toggle"===e.t0?107:111;break;case 7:return e.next=9,this.doActionForm();case 9:return t=e.sent,e.abrupt("break",111);case 11:return e.next=13,this.doActionDelay();case 13:return t=e.sent,e.abrupt("break",111);case 15:return e.next=17,this.doActionEmail();case 17:return t=e.sent,e.abrupt("break",111);case 19:return e.next=21,this.doActionRedirect();case 21:return t=e.sent,e.abrupt("break",111);case 23:return e.next=25,this.doActionToggleElements();case 25:return t=e.sent,e.abrupt("break",111);case 27:return e.next=29,this.doActionTogglePopup();case 29:return t=e.sent,e.abrupt("break",111);case 31:return e.next=33,this.doActionPrintPage();case 33:return t=e.sent,e.abrupt("break",111);case 35:return e.next=37,this.doActionPrintElements();case 37:return t=e.sent,e.abrupt("break",111);case 39:return e.next=41,this.doActionScrollToElement();case 41:return t=e.sent,e.abrupt("break",111);case 43:return e.next=45,this.doActionScrollToTop();case 45:return t=e.sent,e.abrupt("break",111);case 47:return e.next=49,this.doActionScrollToBottom();case 49:return t=e.sent,e.abrupt("break",111);case 51:return e.next=53,this.doActionTrigger();case 53:return t=e.sent,e.abrupt("break",111);case 55:return e.next=57,this.doActionPageToPDF();case 57:return t=e.sent,e.abrupt("break",111);case 59:return e.next=61,this.doActionElementsToPDF();case 61:return t=e.sent,e.abrupt("break",111);case 63:return e.next=65,this.doActionDataToCSV();case 65:return t=e.sent,e.abrupt("break",111);case 67:return e.next=69,this.doActionTableToCSV();case 69:return t=e.sent,e.abrupt("break",111);case 71:return e.next=73,this.doActionTableToXLS();case 73:return t=e.sent,e.abrupt("break",111);case 75:return e.next=77,this.doActionLogin();case 77:return t=e.sent,e.abrupt("break",111);case 79:return e.next=81,this.doActionLogout();case 81:return t=e.sent,e.abrupt("break",111);case 83:return e.next=85,this.doActionSetData();case 85:return t=e.sent,e.abrupt("break",111);case 87:return e.next=89,this.doActionUpdateCurrentDatasources();case 89:return t=e.sent,e.abrupt("break",111);case 91:return e.next=93,this.doActionFormsManipulate();case 93:return t=e.sent,e.abrupt("break",111);case 95:return e.next=97,this.doActionCustomCode();case 97:return t=e.sent,e.abrupt("break",111);case 99:return e.next=101,this.doActionPlaySound();case 101:return t=e.sent,e.abrupt("break",111);case 103:return e.next=105,this.doActionCondition();case 105:return t=e.sent,e.abrupt("break",111);case 107:return e.next=109,this.doActionVIToggle();case 109:return t=e.sent,e.abrupt("break",111);case 111:return _="",(_=t.success?this.getProperty("alert"):this.getProperty("reject"))&&(_=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(_),alert(_)),e.abrupt("return",t);case 115:case"end":return e.stop()}}),e,this)}))),function(){return _doAction.apply(this,arguments)})},{key:"doActionForm",value:(_doActionForm=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r,n,a,o,s,u,c,i,l,p,E=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.e(955).then(__webpack_require__.bind(__webpack_require__,80955));case 2:if(t=e.sent.default,r=null,n=null,this.getProperty("custom_headers")&&(n=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.parseParamsFromString)(this.getProperty("custom_headers"),this.getCurrentModel())),this.getProperty("data")&&(r=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.parseParamsFromString)(this.getProperty("data"),(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getAppContext)(this.getCurrentModel()),!0)),!this.getProperty("forms_bulk")){e.next=26;break}if(!_.isArray((0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(this.getProperty("bulk_path")))||!_.get((0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(this.getProperty("bulk_path")),"length")){e.next=25;break}return a=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(this.getProperty("bulk_path")),o=t.registerForm(this.getFormId(),"",this.getProperty("form_method"),{customRoute:""}),r=_.assign(o.getData(),r),s=a.map(function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(_,a){var o,s;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.getProperty("data")&&(r=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.parseParamsFromString)(E.getProperty("data"),(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getAppContext)(_),!0)),o=E.getProperty("form_url"),o=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(o,_),s=t.registerForm(E.getFormId()+a,"",E.getProperty("form_method"),{customRoute:o}),e.next=6,s.submit("","",r,n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),e.prev=13,e.next=16,Promise.all(s);case 16:e.sent,e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(13),console.error(e.t0),a.forEach((function(e,r){t.deleteFormById(E.getFormId()+r)})),e.abrupt("return",{success:!1});case 24:a.forEach((function(e,r){t.deleteFormById(E.getFormId()+r)}));case 25:return e.abrupt("return",{success:!0});case 26:if(this.getProperty("path")&&(u=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(this.getProperty("path"),{}),_.isEmpty(u)||(r=_.assign(u,r))),this.getFormURL()){e.next=30;break}return this.setProperty("_form",null),e.abrupt("return",{success:!1});case 30:return c={dynamicURL:!0,customRoute:this.getFormURL()},i=t.registerForm(this.getFormId(),"",this.getProperty("form_method"),c),l={success:!0},e.prev=33,e.next=36,i.submit("","",r,n);case 36:p=e.sent,l=_.assign(l,p),e.next=45;break;case 40:e.prev=40,e.t1=e.catch(33),console.log(e.t1),l.error=e.t1,l.success=!1;case 45:return e.abrupt("return",l);case 46:case"end":return e.stop()}}),e,this,[[13,19],[33,40]])}))),function(){return _doActionForm.apply(this,arguments)})},{key:"doActionRedirect",value:(_doActionRedirect=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getFormURL(),frontAppRouter&&(this.getProperty("back")?frontAppRouter.history.goBack():this.getProperty("outer")?window.location.assign(t):frontAppRouter.history.push(t)),e.abrupt("return",{success:!0});case 3:case"end":return e.stop()}}),e,this)}))),function(){return _doActionRedirect.apply(this,arguments)})},{key:"doActionToggleElements",value:(_doActionToggleElements=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getProperty("elements_ids")){e.next=3;break}return e.abrupt("return",{success:!0});case 3:return(t=t.split(",")).forEach((function(e){var t=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getComponentByElementId)(e);(t||t.toggleElementDisplay)&&t.toggleElementDisplay()})),e.abrupt("return",{success:!0});case 6:case"end":return e.stop()}}),e,this)}))),function(){return _doActionToggleElements.apply(this,arguments)})},{key:"doActionTogglePopup",value:(_doActionTogglePopup=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getProperty("popup_id")){e.next=3;break}return e.abrupt("return",{success:!0});case 3:return appStore.dispatch((0,_store_popup_trigger_actions__WEBPACK_IMPORTED_MODULE_12__.z)(t)),e.abrupt("return",{success:!0});case 5:case"end":return e.stop()}}),e,this)}))),function(){return _doActionTogglePopup.apply(this,arguments)})},{key:"doActionPrintPage",value:(_doActionPrintPage=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.print(),e.abrupt("return",{success:!0});case 2:case"end":return e.stop()}}),e)}))),function(){return _doActionPrintPage.apply(this,arguments)})},{key:"doActionPrintElements",value:(_doActionPrintElements=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getProperty("elements_ids")){e.next=3;break}return e.abrupt("return",{success:!0});case 3:return t=t.split(","),r=[],t.forEach((function(e){var t;if(e&&e.trim()&&((0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getHTMLElementById)(e.trim())&&r.push((0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getHTMLElementById)(e)),null!==(t=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getComponentByElementId)(e.trim()))&&void 0!==t&&t.getStylesHTMLElement)){var _=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getComponentByElementId)(e.trim()).getStylesHTMLElement();_&&r.push(_)}})),_.get(window,"stylesModule.stylesContainer.current")&&r.push(_.get(window,"stylesModule.stylesContainer.current")),r.push(document.head),(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.printElements)(r),e.abrupt("return",{success:!0});case 10:case"end":return e.stop()}}),e,this)}))),function(){return _doActionPrintElements.apply(this,arguments)})},{key:"doActionScrollToElement",value:(_doActionScrollToElement=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r,_;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getProperty("element_id")){e.next=3;break}return e.abrupt("return",{success:!0});case 3:return t=t.trim(),r=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getHTMLElementById)(t),(_=mainScrollbars)||(_=document.querySelector(".front-app-content")),r&&(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.scrollToElement)(_,r),e.abrupt("return",{success:!0});case 9:case"end":return e.stop()}}),e,this)}))),function(){return _doActionScrollToElement.apply(this,arguments)})},{key:"doActionScrollToTop",value:(_doActionScrollToTop=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mainScrollbars.scrollTop(0),e.abrupt("return",{success:!0});case 2:case"end":return e.stop()}}),e)}))),function(){return _doActionScrollToTop.apply(this,arguments)})},{key:"doActionScrollToBottom",value:(_doActionScrollToBottom=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementById("route-content")){e.next=3;break}return e.abrupt("return",{success:!0});case 3:return mainScrollbars.scrollTop(t.offsetHeight),e.abrupt("return",{success:!0});case 5:case"end":return e.stop()}}),e)}))),function(){return _doActionScrollToBottom.apply(this,arguments)})},{key:"doActionPageToPDF",value:(_doActionPageToPDF=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(this.getProperty("name","file")),(r=[]).push(document.getElementById("route-content")),e.next=5,(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.elementsToPdf)(r,t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return _doActionPageToPDF.apply(this,arguments)})},{key:"doActionElementsToPDF",value:(_doActionElementsToPDF=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r,_;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(this.getProperty("name","file")),r=[],_=this.getProperty("elements_ids")){e.next=5;break}return e.abrupt("return",{success:!0});case 5:return(_=_.split(",")).forEach((function(e){e&&e.trim()&&(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getHTMLElementById)(e.trim())&&r.push((0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getHTMLElementById)(e))})),e.next=9,(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.elementsToPdf)(r,t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)}))),function(){return _doActionElementsToPDF.apply(this,arguments)})},{key:"doActionDataToCSV",value:(_doActionDataToCSV=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(this.getProperty("path")),r=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(this.getProperty("name","file")),e.prev=2,e.next=5,(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.dataToCSV)(t,r);case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return _doActionDataToCSV.apply(this,arguments)})},{key:"doActionTableToCSV",value:(_doActionTableToCSV=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r,n,a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getProperty("element_id")){e.next=3;break}return e.abrupt("return",{success:!0});case 3:if(t=t.trim(),r=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getHTMLElementById)(t)){e.next=7;break}return e.abrupt("return",{success:!0});case 7:e.prev=7,n=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.dataFromTable)(r),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(7),console.error(e.t0),e.abrupt("return",{success:!1});case 15:if(!_.isEmpty(n)){e.next=17;break}return e.abrupt("return",{success:!0});case 17:return a=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(this.getProperty("name","file")),e.prev=18,e.next=21,(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.dataToCSV)(n,a);case 21:return e.abrupt("return",e.sent);case 24:return e.prev=24,e.t1=e.catch(18),console.error(e.t1),e.abrupt("return",{success:!1});case 28:case"end":return e.stop()}}),e,this,[[7,11],[18,24]])}))),function(){return _doActionTableToCSV.apply(this,arguments)})},{key:"doActionTableToXLS",value:(_doActionTableToXLS=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r,n,a,o,s,u,c,i,l;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getProperty("element_id").trim()){e.next=4;break}return console.error("Element ID is not set"),e.abrupt("return",{success:!0});case 4:if(r=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getHTMLElementById)(t)){e.next=8;break}return console.error("Table with provided ID is not found"),e.abrupt("return",{success:!0});case 8:return n=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.dataFromTable)(r),a=[],_.each(n,(function(e){return a.push(Object.values(e))})),o=this.getProperty("template_name"),s=this.getProperty("template_data"),u=s.split("\n").reduce((function(e,t){var r=t.split("=");return e[r[0]]=r[1],e}),{}),n=_objectSpread(_objectSpread({},u),{},{dataArray:a}),c=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(this.getProperty("name","file")),e.prev=16,e.next=19,(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.dataToXLS)(n,c,o);case 19:return i=e.sent,(l=document.createElement("a")).setAttribute("href",window.URL.createObjectURL(i)),l.setAttribute("download",c+".xls"),document.body.appendChild(l),l.click(),document.body.removeChild(l),e.abrupt("return",{success:!0});case 29:return e.prev=29,e.t0=e.catch(16),console.error(e.t0),e.abrupt("return",{success:!1});case 33:case"end":return e.stop()}}),e,this,[[16,29]])}))),function(){return _doActionTableToXLS.apply(this,arguments)})},{key:"doActionLogin",value:(_doActionLogin=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getProperty("_form"),r=!0,t.fields.forEach((function(e){e.fieldValidate()||(r=!1)})),r){e.next=5;break}return e.abrupt("return",{success:!1});case 5:return e.next=7,(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.altrpLogin)(t.getData(),this.getFormId());case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return _doActionLogin.apply(this,arguments)})},{key:"doActionLogout",value:(_doActionLogout=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.altrpLogout)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return _doActionLogout.apply(this,arguments)})},{key:"doActionSetData",value:(_doActionSetData=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r,n,a,o,s,u,c,i,l,p,E,P,b,d=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getProperty("path"),r={success:!0},t){e.next=4;break}return e.abrupt("return",r);case 4:t=-1!==t.indexOf(",")?t.split(",").map((function(e){return e.trim()})):[t],n=_createForOfIteratorHelper(t),e.prev=6,n.s();case 8:if((a=n.n()).done){e.next=60;break}o=a.value,o=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(o,this.getCurrentModel().getData()),s=(s=this.getProperty("value")||"").trim(),u=this.getProperty("set_type"),c=this.getProperty("count"),e.t0=u,e.next="toggle"===e.t0?18:"set"===e.t0?21:"toggle_set"===e.t0?24:"increment"===e.t0?32:"decrement"===e.t0?38:"push_items"===e.t0?44:"remove_items"===e.t0?54:58;break;case 18:return s=!(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(o),r.success=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.setDataByPath)(o,s),e.abrupt("break",58);case 21:return 1===s.split(/\r?\n/).length&&0===s.indexOf("{{")&&s.indexOf("}}")===s.length-2&&(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(s.replace("{{","").replace("}}",""),null,this.getCurrentModel())?s=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(s.replace("{{","").replace("}}",""),null,this.getCurrentModel()):-1!==s.indexOf("|")&&(s=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.parseParamsFromString)(s,this.getCurrentModel(),!0)),r.success=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.setDataByPath)(o,s),e.abrupt("break",58);case 24:return i=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(o),1===(s=s.split("\n").map((function(e){return e.trim()}))).length&&s.push(""),(l=s.indexOf(i)+1)>=s.length&&(l=0),s=s[l]||"",r.success=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.setDataByPath)(o,s),e.abrupt("break",58);case 32:return p=(p=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(o))?_.isNaN(Number(p))?1:Number(p):Number(!!p),c=Number(c)||1,p+=c,r.success=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.setDataByPath)(o,p),e.abrupt("break",58);case 38:return E=(E=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(o))?_.isNaN(Number(E))?1:Number(E):Number(!!E),c=Number(c)||1,E-=c,r.success=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.setDataByPath)(o,E),e.abrupt("break",58);case 44:for(P=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(o),b={},_.isArray(P)||(P=[]),P=(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__.Z)(P),_.isObject((0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(s))&&(b=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(s)),(c=Number(c)||1)<0&&(c=1);c;)_.isArray(b)?P.push((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__.Z)(b)):P.push(_objectSpread({},b)),--c;return r.success=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.setDataByPath)(o,P),e.abrupt("break",58);case 54:return o.split(/\r?\n/).forEach((function(e){if(e&&(e=e.trim())){-1!==e.indexOf("{{")&&(e=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(e,d.getCurrentModel().getData()));var t=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(e);if(t){var r=e.replace(/.\d+$/,"").trim();if(r){var n=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(r);_.isArray(n)&&(n=(n=(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__.Z)(n)).filter((function(e){return e!==t})),(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.setDataByPath)(r,n))}}}})),r.success=!0,e.abrupt("break",58);case 58:e.next=8;break;case 60:e.next=65;break;case 62:e.prev=62,e.t1=e.catch(6),n.e(e.t1);case 65:return e.prev=65,n.f(),e.finish(65);case 68:return e.abrupt("return",r);case 69:case"end":return e.stop()}}),e,this,[[6,62,65,68]])}))),function(){return _doActionSetData.apply(this,arguments)})},{key:"doActionFormsManipulate",value:function(){var e=this.getProperty("elements_ids");if(!e)return{success:!0};e=e.split(",");var t=this.getProperty("forms_change");return e.forEach((function(e){var r=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getComponentByElementId)(e);switch(t){case"select_all":_.get(r,"elementRef.current.selectAll")&&r.elementRef.current.selectAll();break;case"clear":_.get(r,"elementRef.current.clearValue")&&r.elementRef.current.clearValue()}})),{success:!0}}},{key:"doActionCustomCode",value:function doActionCustomCode(){var code=this.getProperty("code");try{return eval(code),{success:!0}}catch(e){return console.error("Evaluate error in doActionCustomCode"+e.message),{success:!1}}}},{key:"doActionUpdateCurrentDatasources",value:(_doActionUpdateCurrentDatasources=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r,_;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(t=this.getProperty("aliases")||"").split(",").map((function(e){return e.trim()})).filter((function(e){return e})),r=window.dataStorageUpdater.getProperty("currentDataSources"),_=r.filter((function(e){return-1!==t.indexOf(e.getProperty("alias"))})),e.next=6,window.dataStorageUpdater.updateCurrent(_,!1);case 6:return e.abrupt("return",{success:!0});case 7:case"end":return e.stop()}}),e,this)}))),function(){return _doActionUpdateCurrentDatasources.apply(this,arguments)})},{key:"doActionTrigger",value:(_doActionTrigger=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r,n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getProperty("element_id"),r=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getComponentByElementId)(t),n=this.getProperty("action"),!_.isFunction(r[n])){e.next=6;break}return r[n](),e.abrupt("return",{success:!0});case 6:return e.prev=6,r.elementRef.current.fireAction(n),e.abrupt("return",{success:!0});case 11:return e.prev=11,e.t0=e.catch(6),console.error(e.t0),e.abrupt("return",{success:!1});case 15:case"end":return e.stop()}}),e,this,[[6,11]])}))),function(){return _doActionTrigger.apply(this,arguments)})},{key:"doActionEmail",value:(_doActionEmail=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getProperty("email_template")){e.next=3;break}return e.abrupt("return",{success:!0});case 3:return r={success:!1},e.prev=4,e.next=7,(0,_helpers_sendEmail__WEBPACK_IMPORTED_MODULE_6__.C)(t,this.getReplacedProperty("subject"),this.getReplacedProperty("from"),this.getReplacedProperty("to"),this.getReplacedProperty("attachments"));case 7:r=e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",{success:!1});case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return _doActionEmail.apply(this,arguments)})},{key:"doActionDelay",value:(_doActionDelay=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.delay)(this.getProperty("milliseconds")||0);case 2:return e.abrupt("return",{success:!0});case 3:case"end":return e.stop()}}),e,this)}))),function(){return _doActionDelay.apply(this,arguments)})},{key:"doActionPlaySound",value:(_doActionPlaySound=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r,_;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getProperty("milliseconds")||0,r=this.getProperty("media_url"),_=this.getProperty("loop"),!r){e.next=11;break}return e.next=6,__webpack_require__.e(8937).then(__webpack_require__.bind(__webpack_require__,48937));case 6:return(0,e.sent.playSound)(r,_,t),e.next=11,(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.delay)(20);case 11:return e.abrupt("return",{success:!0});case 12:case"end":return e.stop()}}),e,this)}))),function(){return _doActionPlaySound.apply(this,arguments)})},{key:"doActionCondition",value:(_doActionCondition=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r,_,n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getProperty("compare"),r=this.getProperty("condition_left"),_=this.getProperty("condition_right"),r=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataByPath)(r),_=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(_),n=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.altrpCompare)(r,_,t),e.abrupt("return",{success:n});case 7:case"end":return e.stop()}}),e,this)}))),function(){return _doActionCondition.apply(this,arguments)})},{key:"doActionVIToggle",value:(_doActionVIToggle=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,_helpers_plugins__WEBPACK_IMPORTED_MODULE_7__.X4)();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 8:return(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getWrapperHTMLElementByElement)(this.getElement()),e.abrupt("return",{success:!0});case 10:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return _doActionVIToggle.apply(this,arguments)})}]),AltrpAction}(_editor_src_js_classes_AltrpModel__WEBPACK_IMPORTED_MODULE_4__.Z);const __WEBPACK_DEFAULT_EXPORT__=AltrpAction},2167:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var _=r(92137),n=r(6610),a=r(5991),o=r(10379),s=r(46070),u=r(77608),c=r(87757),i=r.n(c),l=r(79782),p=r(71743),E=r(35713);function P(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var _=0,n=function(){};return{s:n,n:function(){return _>=e.length?{done:!0}:{done:!1,value:e[_++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,_=new Array(t);r<t;r++)_[r]=e[r];return _}var d=function(e){(0,o.Z)(b,e);var t,r,c,p=(r=b,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,u.Z)(r);if(c){var _=(0,u.Z)(this).constructor;e=Reflect.construct(t,arguments,_)}else e=t.apply(this,arguments);return(0,s.Z)(this,e)});function b(){return(0,n.Z)(this,b),p.apply(this,arguments)}return(0,a.Z)(b,[{key:"registerWidgetActions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click",_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t&&t.length?(t=t.filter((function(e){return e.type})).map((function(t){return new l.Z(t,e,_)})),this.setProperty("actions.".concat(e,".").concat(r),t)):null}},{key:"unregisterWidgetActions",value:function(e){return this.unsetProperty("actions.".concat(e))}},{key:"callAllWidgetActions",value:(t=(0,_.Z)(i().mark((function e(t){var r,_,n,a,o,s,u,c,l,p=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>1&&void 0!==p[1]?p[1]:"click",_=p.length>2?p[2]:void 0,n=p.length>3?p[3]:void 0,!(0,E.isEditor)()){e.next=5;break}return e.abrupt("return");case 5:_=_||[],a=this.getProperty("actions.".concat(t,".").concat(r),[]),o=[],!a.length&&_.length&&n&&(this.registerWidgetActions(t,_,r,n),a=this.getProperty("actions.".concat(t,".").concat(r),[])),s=P(a),e.prev=10,s.s();case 12:if((u=s.n()).done){e.next=29;break}return c=u.value,e.prev=14,e.next=17,c.doAction();case 17:if((l=e.sent).success){e.next=21;break}return l.error&&(console.error(l.error),o.push(l.error)),e.abrupt("break",29);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(14),o.push(e.t0),console.error(e.t0);case 27:e.next=12;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(10),s.e(e.t1);case 34:return e.prev=34,s.f(),e.finish(34);case 37:if(!o.length){e.next=39;break}return e.abrupt("return",{success:!1,errors:o});case 39:return e.abrupt("return",{success:!0});case 40:case"end":return e.stop()}}),e,this,[[10,31,34,37],[14,23]])}))),function(e){return t.apply(this,arguments)})}]),b}(p.Z);window.actionsManager=new d;const h=window.actionsManager},9713:(e,t,r)=>{"use strict";r.d(t,{X4:()=>s});var _=r(92137),n=r(87757),a=r.n(n);function o(){if(!document.getElementsByClassName("bvi-body").length){var e=document.body.appendChild(document.createElement("a"));e.classList.add("altrp-bvi-open"),$.bvi({bvi_target:".altrp-bvi-open"}),e.click(),e.remove()}}function s(){return u.apply(this,arguments)}function u(){return(u=(0,_.Z)(a().mark((function e(){var t,r,_,n,s,u,i,l,p,E,P=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(P.length>0&&void 0!==P[0])||P[0],e.next=3,c();case 3:if(!document.querySelector('link[href="/plugins/button-visually-impaired-javascript/css/bvi.min.css"]')||!document.querySelector('script[src="/plugins/button-visually-impaired-javascript/js/bvi.min.js"]')){e.next=6;break}return t&&o(),e.abrupt("return");case 6:return(r=document.head.appendChild(document.createElement("link"))).setAttribute("href","/plugins/button-visually-impaired-javascript/css/bvi.min.css"),r.setAttribute("rel","stylesheet"),(_=document.head.appendChild(document.createElement("style"))).setAttribute("type","text/css"),n="\n  .bvi-body{\n    height: 100%;\n  }\n  .bvi-link-copy{\n    display: none!important;\n  }\n  .bvi-hide.admin-bar,\n  .bvi-hide.altrp-element{\n    display: flex;\n  }\n  ",_.styleSheet?_.styleSheet.cssText=n:_.appendChild(document.createTextNode(n)),(s=document.head.appendChild(document.createElement("script"))).setAttribute("src","/plugins/button-visually-impaired-javascript/js/bvi.min.js"),l=new Promise((function(e,t){u=e,i=t})),p=0,E=function(){++p<2||(t&&o(),u&&u())},r.onload=E,s.onload=E,r.onerror=function(){i&&i()},s.onerror=function(){i&&i()},e.abrupt("return",l);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return i.apply(this,arguments)}function i(){return(i=(0,_.Z)(a().mark((function e(){var t,r,_,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!document.querySelector('script[src="/plugins/jquery.js"]')){e.next=2;break}return e.abrupt("return");case 2:return(t=document.head.appendChild(document.createElement("script"))).setAttribute("src","/plugins/jquery.js"),n=new Promise((function(e,t){r=e,_=t})),t.onload=function(){r&&r()},t.onerror=function(){_&&_()},e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},24946:(e,t,r)=>{"use strict";r.d(t,{C:()=>i});var n=r(92137),a=r(87757),o=r.n(a),s=r(86094),u=r(35713),c=r(38773);function i(){return l.apply(this,arguments)}function l(){return(l=(0,n.Z)(o().mark((function e(){var t,n,a,i,l,p,E,P,b,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:null,n=d.length>1&&void 0!==d[1]?d[1]:"Message",a=d.length>2&&void 0!==d[2]?d[2]:"",i=d.length>3&&void 0!==d[3]?d[3]:"",l=d.length>4&&void 0!==d[4]?d[4]:"",t){e.next=7;break}return e.abrupt("return",{success:!0});case 7:return e.next=9,r.e(1352).then(r.bind(r,81352));case 9:return p=e.sent.default,e.next=12,p.loadTemplate(t);case 12:E=e.sent,appStore.dispatch((0,s.f)(E)),P="";case 15:return e.next=17,(0,u.delay)(1500);case 17:_.get(window,"emailTemplatesRenderer.emailTemplate.current")&&((P=window.emailTemplatesRenderer.emailTemplate.current.cloneNode(!0)).style.display="table",P=P.outerHTML);case 18:if(!P){e.next=15;break}case 19:return b=new c.default({route:"/ajax/feedback-html"}),e.next=22,b.post({subject:n,to:i,from:a,html:P,attachments:l});case 22:return e.sent,e.abrupt("return",{success:!0});case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=2167.editor.js.map