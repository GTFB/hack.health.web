(self.webpackChunk=self.webpackChunk||[]).push([[8510],{38510:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O});var r=n(87329),s=n(96156),o=n(34699),l=n(6610),a=n(5991),c=n(63349),i=n(10379),u=n(46070),f=n(77608),y=n(67294),p=n(40747),d=n(14494);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){(0,i.Z)(d,e);var t,n,s=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(t);if(n){var s=(0,f.Z)(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function d(e){var t;return(0,l.Z)(this,d),(t=s.call(this,e)).state={elementStyles:t.props.elementStyles||[],fonts:[]},t.stylesContainer=y.createRef(),window.stylesModule=(0,c.Z)(t),window.stylesModuleResolve((0,c.Z)(t)),t}return(0,a.Z)(d,[{key:"componentDidUpdate",value:function(e,t){if((0,p.isEditor)()){var n=new Set;_.toPairs(this.props.altrpFonts.getData()).forEach((function(e){var t=(0,o.Z)(e,2),r=(t[0],t[1]);n.add(r)})),n=_.toArray(n),_.isEqual(n,this.state.fonts)||this.setState((function(e){return h(h({},e),{},{fonts:n})}))}}},{key:"addElementStyles",value:function(e,t){if("_wla0hknmd"==e&&(console.log("===================================="),console.log(t),console.log("====================================")),t){var n=!1,r=this.state.elementStyles,s=!1;r.forEach((function(r){r.elementId===e&&(n=!0,r.styles!==t&&(r.styles=t,s=!0))})),n||(s=!0,r.push({elementId:e,styles:t})),s&&this.setState(h(h({},this.state),{},{elementStyles:r}))}}},{key:"removeStyleById",value:function(e){var t=(0,r.Z)(this.state.elementStyles);t.map((function(n,r){n.elementId===e&&t.splice(r,1)})),this.setState({elementStyles:t,fonts:[]})}},{key:"render",value:function(){var e=_.uniqBy(this.state.elementStyles,"elementId");return y.createElement("div",{className:"styles-container",id:"styles-container",ref:this.stylesContainer},(0,p.isEditor)()?null:y.createElement("link",{rel:"stylesheet",href:"/modules/front-app/front-app.css?"+altrp.version}),e.map((function(e){return y.createElement("style",{"data-styles-id":e.elementId,id:"altrp-styles".concat(e.elementId),className:"altrp-styles".concat(e.elementId),key:e.elementId},e.styles)})),(0,p.isEditor)()?this.state.fonts.map(p.renderFontLink):null)}}]),d}(y.Component);const O=(0,d.$j)((function(e){return(0,p.isEditor)()?{altrpFonts:e.altrpFonts}:{}}))(v)}}]);