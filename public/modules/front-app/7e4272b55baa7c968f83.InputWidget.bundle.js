/*! For license information please see 7e4272b55baa7c968f83.InputWidget.bundle.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[2017,9198,9466,6156],{63349:(e,t,r)=>{"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:()=>n})},96156:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>n})},77608:(e,t,r)=>{"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,{Z:()=>n})},10379:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(14665);function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,n.Z)(e,t)}},41788:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(14665);function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.Z)(e,t)}},81253:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(19756);function a(e,t){if(null==e)return{};var r,a,_=(0,n.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(_[r]=e[r])}return _}},46070:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n=r(90484),a=r(63349);function _(e,t){return!t||"object"!==(0,n.Z)(t)&&"function"!=typeof t?(0,a.Z)(e):t}},14665:(e,t,r)=>{"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{Z:()=>n})},90484:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{Z:()=>n})},4916:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(96156),a=r(92137),o=r(6610),s=r(5991),i=r(10379),l=r(46070),c=r(77608),p=r(87757),u=r.n(p),f=r(67294),d=r(75429),h=r(38773),m=r(91902),E=r(31298);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(40747);var O=function(e){return f.createElement(E.$B,{autoHeight:!0},e.children)};const v=function(e){(0,i.Z)(E,e);var t,r,n,p=(r=E,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,c.Z)(r);if(n){var a=(0,c.Z)(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return(0,l.Z)(this,e)});function E(e){var t;return(0,o.Z)(this,E),(t=p.call(this,e)).loadOptions=function(){var e=(0,a.Z)(u().mark((function e(r,n){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],!t.optionsResource){e.next=5;break}return e.next=4,t.optionsResource.search(r);case 4:a=e.sent;case 5:return t.setState((function(e){return b(b({},e),{},{options:a})})),e.abrupt("return",n(a));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.state={options:e.options||[]},e.optionsRoute&&(t.optionsResource=new h.Z({route:e.optionsRoute})),t.selectRef=f.createRef(),t}return(0,s.Z)(E,[{key:"componentDidMount",value:(t=(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"onChange",value:function(){}},{key:"render",value:function(){var e={control:function(e,t){return b(b({},e),{},{boxShadow:"none",borderColor:(t.isFocused,"hsl(0,0%,80%)"),"&:hover":{borderColor:"hsl(0,0%,80%)"}})},menuPortal:function(e){return b(b({},e),{},{zIndex:99999})}},t={onChange:this.onChange,options:this.state.options||[],placeholder:this.props.placeholder,loadOptions:this.loadOptions,noOptionsMessage:this.props.noOptionsMessage||function(){return"not found"},styles:e,menuPortalTarget:document.body,menuPlacement:"auto",menuPosition:"absolute",onKeyDown:this.onKeyDown,components:{MenusList:O},captureMenuScroll:!1,isDisabled:this.state.isDisabled,ref:this.selectRef};return _.assign(t,this.props),_.isArray(t.value)&&(t.value=t.value.map((function(e){var r={label:"",value:""};if(_.isString(e)||_.isNumber(e))r.value=e,r.label=e;else if(_.isObject(e))return e;return _.isArray(t.options)&&t.options.forEach((function(e){e.value===r.value&&(r=b({},e))})),r}))),t.value&&!_.isObject(t.value)&&(t.value=t.options.find((function(e){return e.value==t.value}))),this.optionsResource?f.createElement(d.ZP,t):f.createElement(m.ZP,t)}}]),E}(f.Component)},98356:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(87329),a=r(6610),_=r(5991),o=r(10379),s=r(46070),i=r(77608),l=r(67294);const c=function(e){(0,o.Z)(p,e);var t,r,c=(t=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,i.Z)(t);if(r){var a=(0,i.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function p(){return(0,a.Z)(this,p),c.apply(this,arguments)}return(0,_.Z)(p,[{key:"render",value:function(){var e=this.props,t=e.options,r=e.changeHandler,a=e.isMultiple,_=e.value;return l.createElement("div",{className:"altrp-image-select"},t.map((function(e){return l.createElement("div",{key:e.id,className:"altrp-field altrp-field-container \n          ".concat(a&&_.includes(e.value)||_===e.value?"active":""),onClick:function(){return r(a?_.includes(e.value)?_.filter((function(t){return t!==e.value})):[].concat((0,n.Z)(_),[e.value]):e.value)}},e.image&&l.createElement("img",{src:e.image.url,width:"100%"}),l.createElement("div",{className:"altrp-image-select__label"},e.label))})))}}]),p}(l.Component)},30259:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(87329),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96156),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(92137),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(63349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(10379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(46070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(77608),_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(32465),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87757),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(67294),_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(40747),_classes_Resource__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(38773),_admin_src_components_altrp_select_AltrpSelect__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4916),_front_app_src_js_store_forms_data_storage_actions__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(48379),_classes_AltrpModel__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(71743),moment__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(30381),moment__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__),_altrp_image_select_AltrpImageSelect__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(98356),styled_components__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(71893),_templateObject;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__.Z)(e);if(t){var a=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.Z)(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var CKeditor=react__WEBPACK_IMPORTED_MODULE_4__.lazy((function(){return Promise.all([__webpack_require__.e(5316),__webpack_require__.e(4114)]).then(__webpack_require__.bind(__webpack_require__,14114))})),AltrpInput=react__WEBPACK_IMPORTED_MODULE_4__.lazy((function(){return Promise.all([__webpack_require__.e(7895),__webpack_require__.e(4011)]).then(__webpack_require__.bind(__webpack_require__,4011))})),AltrpFieldContainer=styled_components__WEBPACK_IMPORTED_MODULE_11__.ZP.div(_templateObject||(_templateObject=(0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_12__.Z)(["\n  ","\n"])),(function(e){switch(e.settings.content_label_position_type){case"left":return"display: flex";case"right":return"display:flex;flex-direction:row-reverse;justify-content:flex-end;"}return""})),InputWidget=function(_Component){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_13__.Z)(InputWidget,_Component);var _super=_createSuper(InputWidget),_updateOptions,_componentDidUpdate2,_componentDidMount2;function InputWidget(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_14__.Z)(this,InputWidget),(t=_super.call(this,e)).timeInput=null,t.handleEnter=function(e){if(13===e.keyCode){e.preventDefault();var r=Array.from(document.querySelectorAll("input,select")),n=r.indexOf(e.target);if(void 0===n)return;r[n+1]&&r[n+1].focus();var a=t.props.element.getSettings(),_=a.create_allowed,o=a.create_label,s=a.create_url;_&&o&&s&&t.createItem(e)}},t.debounceDispatch=_.debounce((function(e){return t.dispatchFieldValueToStore(e,!0)}),150),t.onFocus=function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(r){var n,a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.props.element.getSettings("focus_actions"))||(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.isEditor)()){e.next=7;break}return e.next=4,__webpack_require__.e(2167).then(__webpack_require__.bind(__webpack_require__,2167));case 4:return a=e.sent.default,e.next=7,a.callAllWidgetActions(t.props.element.getIdForAction(),"focus",n,t.props.element);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.onBlur=function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(r){var n,a,o=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:null,-1!==["text","email","phone","tel","number","password"].indexOf(t.state.settings.content_type)&&t.dispatchFieldValueToStore(r.target.value,!0),_.get(n,"getData")&&t.dispatchFieldValueToStore(n.getData(),!0),!t.props.element.getSettings("actions",[])||(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.isEditor)()){e.next=9;break}return e.next=6,__webpack_require__.e(2167).then(__webpack_require__.bind(__webpack_require__,2167));case 6:return a=e.sent.default,e.next=9,a.callAllWidgetActions(t.props.element.getIdForAction(),"blur",t.props.element.getSettings("actions",[]),t.props.element);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.dispatchFieldValueToStore=function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(r){var n,a,o,s,i,l=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]&&l[1],a=t.props.element.getFormId(),-1!==(o=t.props.element.getFieldId()).indexOf("{{")&&(o=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(o)),!(_.isObject(t.props.appStore)&&o&&a)){e.next=14;break}if(t.props.appStore.dispatch((0,_front_app_src_js_store_forms_data_storage_actions__WEBPACK_IMPORTED_MODULE_16__.Az)(o,r,a,n)),!n){e.next=14;break}if(!(s=t.props.element.getSettings("change_actions"))||(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.isEditor)()){e.next=14;break}return e.next=11,__webpack_require__.e(2167).then(__webpack_require__.bind(__webpack_require__,2167));case 11:return i=e.sent.default,e.next=14,i.callAllWidgetActions(t.props.element.getIdForAction(),"change",s,t.props.element);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.createItem=function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(r){var n,a,o,s,i,l,c,p,u,f,d,h,m;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.keyCode,a=r.target.value,13===n&&a){e.next=4;break}return e.abrupt("return");case 4:if(o=t.props.element.getSettings(),s=o.create_url,i=o.create_label,l=o.create_data,c=o.select2_multiple,i||s){e.next=7;break}return e.abrupt("return");case 7:return p=t.props.element.getCurrentModel(),(u=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.parseParamsFromString)(l,p,!0))[i]=a,f=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.parseURLTemplate)(s,p.getData()),t.setState((function(e){return _objectSpread(_objectSpread({},e),{},{isDisabled:!0})})),e.prev=12,d=new _classes_Resource__WEBPACK_IMPORTED_MODULE_6__.Z({route:f}),e.next=16,d.post(u);case 16:(h=e.sent).success&&_.get(h,"data.id")&&(m={label:a,value:_.get(h,"data.id")},t.setState((function(e){return _objectSpread(_objectSpread({},e),{},{isDisabled:!1})}),(function(){var e=(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_17__.Z)(t.state.options);e.unshift(m);var r=t.state.value;c?(r=r?(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_17__.Z)(r):[]).push(_.get(h,"data.id")):r=_.get(h,"data.id"),t.setState((function(t){return _objectSpread(_objectSpread({},t),{},{options:e,value:r})}),(function(){var e=_.get((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_18__.Z)(t),"altrpSelectRef.current.selectRef.current");e&&e.setState({menuIsOpen:!1,inputValue:""})}))}))),t.setState((function(e){return _objectSpread(_objectSpread({},e),{},{isDisabled:!1})})),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(12),console.error(e.t0),t.setState((function(e){return _objectSpread(_objectSpread({},e),{},{isDisabled:!1})}));case 25:case"end":return e.stop()}}),e,null,[[12,21]])})));return function(t){return e.apply(this,arguments)}}(),e.element.component=(0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_18__.Z)(t),window.elementDecorator&&window.elementDecorator((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_18__.Z)(t)),t.onChange=t.onChange.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_18__.Z)(t)),t.debounceDispatch=t.debounceDispatch.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_18__.Z)(t)),t.defaultValue=t.getContent("content_default_value")||(t.valueMustArray()?[]:""),t.valueMustArray()&&!_.isArray(t.defaultValue)&&(t.defaultValue=[]),t.state={settings:_objectSpread({},e.element.getSettings()),value:t.defaultValue,options:(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.parseOptionsFromSettings)(e.element.getSettings("content_options")),paramsForUpdate:null},t.altrpSelectRef=react__WEBPACK_IMPORTED_MODULE_4__.createRef(),t.getContent("content_default_value")&&t.dispatchFieldValueToStore(t.getContent("content_default_value")),t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_19__.Z)(InputWidget,[{key:"valueMustArray",value:function(){return-1!==["file","image_select","checkbox"].indexOf(this.props.element.getSettings("content_type"))||!("select2"!==this.props.element.getSettings("content_type")||!this.props.element.getSettings("select2_multiple"))}},{key:"clearValue",value:function(){var e="";("checkbox"===this.props.element.getSettings("content_type")||["select2","image_select"].indexOf(this.props.element.getSettings("content_type"))>=0&&this.props.element.getSettings("select2_multiple"))&&(e=[]),this.onChange(e),this.dispatchFieldValueToStore(e,!0)}},{key:"selectAll",value:function(){var e=this.props.element.getDynamicSetting("content_options");if("checkbox"===this.props.element.getSettings("content_type")){var t=(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_17__.Z)(this.state.options);e&&(t=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.convertData)(e,t)),t=t.map((function(e){return e.value})),this.onChange(t)}if(["select2","image_select"].indexOf(this.props.element.getSettings("content_type"))>=0&&this.props.element.getSettings("select2_multiple")){var r=(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_17__.Z)(this.state.options);_.isArray(r)?e&&(r=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.convertData)(e,r)):r=[],this.onChange(r)}}},{key:"_componentDidMount",value:(_componentDidMount2=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,r){var n,a,o,s=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.element.getSettings("content_options")){e.next=5;break}n=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.parseOptionsFromSettings)(this.props.element.getSettings("content_options")),this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{options:n})})),e.next=12;break;case 5:if(!(["select","select2"].indexOf(this.state.settings.content_type)>=0&&this.state.settings.model_for_options)){e.next=12;break}return e.next=8,new _classes_Resource__WEBPACK_IMPORTED_MODULE_6__.Z({route:this.getRoute()}).getAll();case 8:a=e.sent,a=_.isArray(a)?a:a.data,a=_.isArray(a)?a:[],this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{options:a})}));case 12:if(o=this.state.value,_.get(o,"dynamic")&&this.props.currentModel.getProperty("altrpModelUpdated")&&(o=this.getContent("content_default_value")),!t||t.currentModel.getProperty("altrpModelUpdated")||!this.props.currentModel.getProperty("altrpModelUpdated")){e.next=18;break}return o=this.getContent("content_default_value"),this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:o,contentLoaded:!0})}),(function(){s.dispatchFieldValueToStore(o)})),e.abrupt("return");case 18:if(!this.props.currentModel.getProperty("altrpModelUpdated")||!this.props.currentDataStorage.getProperty("currentDataStorageLoaded")||this.state.contentLoaded){e.next=22;break}return o=this.getContent("content_default_value"),this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:o,contentLoaded:!0})}),(function(){s.dispatchFieldValueToStore(o)})),e.abrupt("return");case 22:this.state.value!==o&&this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:o})}),(function(){s.dispatchFieldValueToStore(o)}));case 23:case"end":return e.stop()}}),e,this)}))),function(e,t){return _componentDidMount2.apply(this,arguments)})},{key:"getRoute",value:function(){var e=this.props.element.getSettings("model_for_options");return-1===e.indexOf("/")?"/ajax/models/".concat(e,"_options"):(-1!==e.indexOf("{{")&&(e=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.replaceContentWithData)(e)),e)}},{key:"_componentDidUpdate",value:(_componentDidUpdate2=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,r){var n,a,o,s,i,l,c,p=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.settings,a=n.content_options,o=n.model_for_options,t&&!t.currentDataStorage.getProperty("currentDataStorageLoaded")&&this.props.currentDataStorage.getProperty("currentDataStorageLoaded")&&(s=this.getContent("content_default_value",this.props.element.getSettings("select2_multiple")),this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:s,contentLoaded:!0})}),(function(){p.dispatchFieldValueToStore(s)}))),"select"!==this.props.element.getSettings("content_type")||!this.props.element.getSettings("model_for_options")){e.next=11;break}if(this.state.settings.model_for_options===t.element.getSettings("model_for_options")){e.next=11;break}return i=t.element.getSettings("model_for_options"),e.next=7,new _classes_Resource__WEBPACK_IMPORTED_MODULE_6__.Z({route:this.getRoute()}).getAll();case 7:l=e.sent,l=_.isArray(l)?l:l.data,l=_.isArray(l)?l:[],this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{options:l,model_for_options:i})}));case 11:!_.isEqual(this.props.currentModel,t.currentModel)&&this.state.value&&this.state.value.dynamic&&this.dispatchFieldValueToStore(this.getContent("content_default_value")),this.props.formsStore===t.formsStore&&this.props.currentModel===t.currentModel&&this.props.currentDataStorage===t.currentDataStorage||this.updateOptions(),a&&!o&&(c=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.parseOptionsFromSettings)(a),_.isEqual(c,this.state.options)||this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{options:c})}))),this.updateValue(t);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return _componentDidUpdate2.apply(this,arguments)})},{key:"updateValue",value:function updateValue(prevProps){var _this4=this;if(!(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.isEditor)()){var content_calculation=this.props.element.getSettings("content_calculation"),altrpforms=this.props.formsStore,fieldName=this.props.element.getFieldId(),formId=this.props.element.getFormId();if(content_calculation){var prevContext={},altrpdata=this.props.currentDataStorage.getData(),altrpmodel=this.props.currentModel.getData(),altrpuser=this.props.currentUser.getData(),altrppagestate=this.props.altrpPageState.getData(),altrpresponses=this.props.altrpresponses.getData(),altrpmeta=this.props.altrpMeta.getData(),context=this.props.element.getCurrentModel().getData();if(-1!==content_calculation.indexOf("altrpdata")&&(context.altrpdata=altrpdata,altrpdata.currentDataStorageLoaded?prevContext.altrpdata=prevProps.currentDataStorage.getData():prevContext.altrpdata=altrpdata),-1!==content_calculation.indexOf("altrpforms")&&(context.altrpforms=altrpforms,"".concat(formId,".").concat(fieldName)===altrpforms.changedField?prevContext.altrpforms=altrpforms:prevContext.altrpforms=prevProps.formsStore),-1!==content_calculation.indexOf("altrpmodel")&&(context.altrpmodel=altrpmodel,prevContext.altrpmodel=prevProps.currentModel.getData()),-1!==content_calculation.indexOf("altrpuser")&&(context.altrpuser=altrpuser,prevContext.altrpuser=prevProps.currentUser.getData()),-1!==content_calculation.indexOf("altrpuser")&&(context.altrpuser=altrpuser,prevContext.altrpuser=prevProps.currentUser.getData()),-1!==content_calculation.indexOf("altrppagestate")&&(context.altrppagestate=altrppagestate,prevContext.altrppagestate=prevProps.altrpPageState.getData()),-1!==content_calculation.indexOf("altrpmeta")&&(context.altrpmeta=altrpmeta,prevContext.altrpmeta=prevProps.altrpMeta.getData()),-1!==content_calculation.indexOf("altrpresponses")&&(context.altrpresponses=altrpresponses,prevContext.altrpresponses=prevProps.altrpresponses.getData()),-1!==content_calculation.indexOf("altrpstorage")&&(context.altrpstorage=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.getDataFromLocalStorage)("altrpstorage",{})),!(_.isEqual(prevProps.currentDataStorage,this.props.currentDataStorage)&&_.isEqual(prevProps.currentUser,this.props.currentUser)&&_.isEqual(prevProps.formsStore,this.props.formsStore)&&_.isEqual(prevProps.altrpPageState,this.props.altrpPageState)&&_.isEqual(prevProps.altrpMeta,this.props.altrpMeta)&&_.isEqual(prevProps.altrpresponses,this.props.altrpresponses)&&_.isEqual(prevProps.currentModel,this.props.currentModel))&&(_.isEqual(prevProps.formsStore,this.props.formsStore)||"".concat(formId,".").concat(fieldName)!==altrpforms.changedField)){var value="";try{if(content_calculation=content_calculation.replace(/}}/g,"')").replace(/{{/g,"_.get(context, '"),value=eval(content_calculation),value===this.state.value)return;this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value})}),(function(){_this4.dispatchFieldValueToStore(value)}))}catch(e){console.error("Evaluate error in Input"+e.message,this.props.element.getId())}}}else{var path="".concat(formId,".").concat(fieldName);this.props.formsStore!==prevProps.formsStore&&_.get(altrpforms,path)!==this.state.value&&this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:_.get(altrpforms,path)})}))}}}},{key:"updateOptions",value:(_updateOptions=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,r,n,a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.element.getFormId(),r=this.props.element.getSettings("params_for_update"),n=_.get(this.props.formsStore,[t],{}),r=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.parseParamsFromString)(r,new _classes_AltrpModel__WEBPACK_IMPORTED_MODULE_8__.Z(n)),a=(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_17__.Z)(this.state.options),_.isEqual(r,this.state.paramsForUpdate)){e.next=28;break}if(_.isEmpty(r)){e.next=21;break}if(!this.props.element.getSettings("params_as_filters",!1)){e.next=14;break}return r=JSON.stringify(r),e.next=11,new _classes_Resource__WEBPACK_IMPORTED_MODULE_6__.Z({route:this.getRoute()}).getQueried({filters:r});case 11:a=e.sent,e.next=17;break;case 14:return e.next=16,new _classes_Resource__WEBPACK_IMPORTED_MODULE_6__.Z({route:this.getRoute()}).getQueried(r);case 16:a=e.sent;case 17:a=_.isArray(a)?a:a.data,a=_.isArray(a)?a:[],e.next=27;break;case 21:if(!this.state.paramsForUpdate){e.next=27;break}return e.next=24,new _classes_Resource__WEBPACK_IMPORTED_MODULE_6__.Z({route:this.getRoute()}).getAll();case 24:a=e.sent,a=_.isArray(a)?a:a.data,a=_.isArray(a)?a:[];case 27:this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{paramsForUpdate:r,options:a})}));case 28:case"end":return e.stop()}}),e,this)}))),function(){return _updateOptions.apply(this,arguments)})},{key:"onChange",value:function(e){var t,r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="",o=this.props.element.getSettings();if(e&&e.target)if("checkbox"===this.props.element.getSettings("content_type")){var s=document.getElementsByName(e.target.name);a=[],s.forEach((function(e){e.checked&&a.push(e.value)}))}else if("accept"===o.content_type){var i=e.target.checked,l=this.props.element.getSettings("accept_checked")||!0,c=this.props.element.getSettings("accept_unchecked")||!1;c=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.valueReplacement)(c),l=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.valueReplacement)(l),t=i?l:c}else a=e.target.value;e&&e.value&&(a=e.value),_.get(n,"getData")&&(a='<div class="ck ck-content" style="width:100%">'.concat(n.getData(),"</div>")),_.isArray(e)&&(a=_.cloneDeep(e)),"select2"===this.props.element.getSettings("content_type")&&(this.props.element.getSettings("select2_multiple",!1)&&!e&&(a=[]),this.props.element.getSettings("select2_multiple",!1)&&(a=a.map((function(e){return e.value})))),this.props.element.getSettings("content_options_nullable")&&e&&"<null>"===e.value&&(a=null);var p=this.props.element.getSettings("content_timestamp"),u="date"===this.state.settings.content_type;u&&p&&""!=a&&(a=new Date(a).getTime()),this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:a})}),(function(){var e=r.props.element.getSettings("change_actions"),n=r.props.element.getSettings("change_change_end"),_=r.props.element.getSettings("change_change_end_delay");-1===["text","email","phone","tel","number","password"].indexOf(r.state.settings.content_type)&&r.dispatchFieldValueToStore(void 0!==t?t:a,!0),!e||n||(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.isEditor)()||r.debounceDispatch(void 0!==t?t:a),e&&n&&!(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.isEditor)()&&(r.timeInput&&clearTimeout(r.timeInput),r.timeInput=setTimeout((function(){r.debounceDispatch(void 0!==t?t:a)}),_))}))}},{key:"getOptions",value:function(){var e=(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_17__.Z)(this.state.options),t=this.props.element.getDynamicSetting("content_options");return t&&(e=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.convertData)(t,e)),this.props.element.getSettings("sort_default")||(e=_.sortBy(e,(function(e){return e&&(e.label?e.label.toString():e)}))),e}},{key:"getName",value:function(){return"".concat(this.props.element.getFormId(),"[").concat(this.props.element.getFieldId(),"]")}},{key:"render",value:function(){var e,t=this,r=this.props.element.getSettings(),n=r.options_sorting,a=r.content_readonly,o=r.image_select_options,s=r.select2_multiple,i=r.label_icon,l=this.state.value;_.get(l,"dynamic")&&this.props.currentModel.getProperty("altrpModelUpdated")&&(l=this.getContent("content_default_value")),l&&l.dynamic&&(l="");var c="",p={},u=this.props.element.getResponsiveSetting("content_label_position_type");switch(u){case"top":p={marginBottom:this.state.settings.label_style_spacing?this.state.settings.label_style_spacing.size+this.state.settings.label_style_spacing.unit:"2px"},c="";break;case"bottom":p={marginTop:this.state.settings.label_style_spacing?this.state.settings.label_style_spacing.size+this.state.settings.label_style_spacing.unit:"2px"},c="";break;case"left":p={marginRight:this.state.settings.label_style_spacing?this.state.settings.label_style_spacing.size+this.state.settings.label_style_spacing.unit:"2px"},c="altrp-field-label-container-left";break;case"absolute":p={position:"absolute",zIndex:2},c=""}e=this.state.settings.content_label?react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"altrp-field-label-container "+c,style:p},react__WEBPACK_IMPORTED_MODULE_4__.createElement("label",{className:"altrp-field-label ".concat(this.state.settings.content_required?"altrp-field-label--required":"")},this.state.settings.content_label),i&&i.assetType&&react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{className:"altrp-label-icon"},(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.renderAssetIcon)(i))):null;var f;f=this.state.settings.content_autocomplete?"on":"off";var d=null;switch(this.state.settings.content_type){case"select":var h=this.getOptions();d=react__WEBPACK_IMPORTED_MODULE_4__.createElement("select",{value:l||"",onFocus:this.onFocus,name:this.getName(),onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.handleEnter,id:this.state.settings.position_css_id,className:"altrp-field "+this.state.settings.position_css_classes},this.state.settings.content_options_nullable?react__WEBPACK_IMPORTED_MODULE_4__.createElement("option",{value:""}):"",(n?(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.sortOptions)(h,n):h).map((function(e){return react__WEBPACK_IMPORTED_MODULE_4__.createElement("option",{value:e.value,key:e.value},e.label)})));break;case"select2":d=this.renderSelect2();break;case"radio":case"checkbox":d=this.renderRepeatedInput();break;case"wysiwyg":d=this.renderWysiwyg();break;case"textarea":d=react__WEBPACK_IMPORTED_MODULE_4__.createElement("textarea",{value:l||"",readOnly:a,autoComplete:f,placeholder:this.state.settings.content_placeholder,className:"altrp-field "+this.state.settings.position_css_classes,onChange:this.onChange,onBlur:this.onBlur,id:this.state.settings.position_css_id});break;case"image_select":d=react__WEBPACK_IMPORTED_MODULE_4__.createElement(_altrp_image_select_AltrpImageSelect__WEBPACK_IMPORTED_MODULE_10__.Z,{options:o,value:this.state.value,changeHandler:function(e){return t.setState({value:e})},isMultiple:s});break;case"accept":d=this.renderAcceptInput();break;default:var m=this.state.settings.content_clearable,E="date"===this.state.settings.content_type,g=this.props.element.getSettings("content_timestamp");if(E&&g&&moment__WEBPACK_IMPORTED_MODULE_9___default().unix(l).isValid())try{l=moment__WEBPACK_IMPORTED_MODULE_9___default().unix(l/1e3).format("YYYY-MM-DD")}catch(e){console.log(e)}d=react__WEBPACK_IMPORTED_MODULE_4__.createElement(react__WEBPACK_IMPORTED_MODULE_4__.Suspense,{fallback:""},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"altrp-input-wrapper"},react__WEBPACK_IMPORTED_MODULE_4__.createElement(AltrpInput,{type:this.state.settings.content_type,name:this.getName(),value:l||"",element:this.props.element,readOnly:a,autoComplete:f,placeholder:this.state.settings.content_placeholder,className:"altrp-field "+this.state.settings.position_css_classes,settings:this.props.element.getSettings(),onKeyDown:this.handleEnter,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,id:this.state.settings.position_css_id}),m&&react__WEBPACK_IMPORTED_MODULE_4__.createElement("button",{className:"input-clear-btn",onClick:function(){return t.setState({value:t.defaultValue})}},"✖")))}return react__WEBPACK_IMPORTED_MODULE_4__.createElement(AltrpFieldContainer,{settings:r,className:"image_select"!==this.state.settings.content_type?"altrp-field-container ":""+c},"top"===u?e:"","left"===u?e:"","right"===u?e:"","absolute"===u?e:"",d,"bottom"===u?e:"")}},{key:"renderAcceptInput",value:function(){this.props.element.getSettings();var e=this.state.value,t=this.props.element.getSettings("accept_checked")||!0,r=this.props.element.getSettings("accept_unchecked")||!1;return e===t?e=!0:e===r&&(e=!1),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"altrp-field-option ".concat(e?"active":"")},react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{className:"altrp-field-option-span"},react__WEBPACK_IMPORTED_MODULE_4__.createElement("input",{type:"checkbox",name:"".concat(this.props.element.getFormId(),"[").concat(this.props.element.getFieldId(),"]"),className:"altrp-field-option__input ".concat(e?"active":""),onChange:this.onChange,checked:!!e,id:"".concat(this.props.element.getFormId(),"[").concat(this.props.element.getFieldId(),"]")})))}},{key:"renderRepeatedInput",value:function(){var e=this,t=this.state.options,r=void 0===t?[]:t,n=this.state.value,a=void 0===n?"":n,o=this.props.element.getFieldId()||Math.random().toString(36).substr(2,9),s=this.props.element.getFormId()||Math.random().toString(36).substr(2,9),i=this.props.element.getSettings("content_type","radio");return react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"altrp-field-subgroup"},r.map((function(t,r){var n=!1;return"radio"===i?n=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.altrpCompare)(a,t.value,"=="):(a=_.isArray(a)?a:a?[a]:[],n=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_5__.altrpCompare)(t.value,a,"in")),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"altrp-field-option ".concat(n?"active":""),key:"".concat(o,"-").concat(r)},react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{className:"altrp-field-option-span"},react__WEBPACK_IMPORTED_MODULE_4__.createElement("input",{type:i,value:t.value,name:"".concat(s,"-").concat(o),className:"altrp-field-option__input ".concat(n?"active":""),onChange:e.onChange,checked:n,id:"".concat(s,"-").concat(o,"-").concat(r)})),react__WEBPACK_IMPORTED_MODULE_4__.createElement("label",{htmlFor:"".concat(s,"-").concat(o,"-").concat(r),className:"altrp-field-option__label"},t.label))})))}},{key:"renderSelect2",value:function(){var e=this,t=this.props.element.getSettings(),r=t.content_options_nullable,n=t.nulled_option_title,a=t.content_placeholder,o=this.getOptions(),s=this.state.value;_.get(s,"dynamic")&&this.props.currentModel.getProperty("altrpModelUpdated")&&(s=this.getContent("content_default_value",!0)),s&&s.dynamic&&(s=""),this.props.element.getSettings("select2_multiple",!1)?(s=(s=s?_.isArray(s)?s:[s]:[]).map((function(e){var t=e;return o.forEach((function(e){e.value&&e.value.toString()===t.toString()&&(t=_objectSpread({},e)),_.isArray(e.options)&&e.options.forEach((function(e){e.value&&e.value.toString()===t.toString()&&(t=_objectSpread({},e))}))})),t}))).forEach((function(e){_.isObject(e)||o.push({value:e,label:e})})):o.forEach((function(e){e&&(e.value===s&&(s=_objectSpread({},e)),_.isArray(e.options)&&e.options.forEach((function(e){e.value==s&&(s=_objectSpread({},e))})))})),!r||"select2"===this.props.element.getSettings("content_type")&&!0===this.props.element.getSettings("select2_multiple")||(o=_.union([{label:n,value:"<null>"}],o));var i={className:"altrp-field-select2",onFocus:this.onFocus,element:this.props.element,classNamePrefix:this.props.element.getId()+" altrp-field-select2",options:o,name:this.props.element.getFieldId(),ref:this.altrpSelectRef,settings:this.props.element.getSettings(),onChange:this.onChange,onBlur:this.onBlur,value:s||_.find(o,(function(t){return t&&t.value==e.state.value})),isOptionSelected:function(t){return _.isNumber(e.state.value)||_.isString(e.state.value)?e.state.value==t.value:e.state.value&&e.state.value.includes(t.value)},placeholder:a,isMulti:this.props.element.getSettings("select2_multiple",!1),onKeyDown:this.handleEnter};return react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"altrp-input-wrapper"},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_admin_src_components_altrp_select_AltrpSelect__WEBPACK_IMPORTED_MODULE_7__.Z,i))}},{key:"renderWysiwyg",value:function(){return react__WEBPACK_IMPORTED_MODULE_4__.createElement(react__WEBPACK_IMPORTED_MODULE_4__.Suspense,{fallback:react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",null,"Загрузка...")},react__WEBPACK_IMPORTED_MODULE_4__.createElement(CKeditor,{onChange:this.onChange,onBlur:this.onBlur,changeText:this.dispatchFieldValueToStore,text:this.getContent("content_default_value"),name:this.getName(),readOnly:this.getContent("read_only")}))}}]),InputWidget}(react__WEBPACK_IMPORTED_MODULE_4__.Component);const __WEBPACK_DEFAULT_EXPORT__=InputWidget},27418:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,_){for(var o,s,i=a(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))r.call(o,c)&&(i[c]=o[c]);if(t){s=t(o);for(var p=0;p<s.length;p++)n.call(o,s[p])&&(i[s[p]]=o[s[p]])}}return i}},75429:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>E});var n=r(81253),a=r(22122),_=r(6610),o=r(5991),s=r(10379),i=r(46070),l=r(77608),c=r(67294),p=(r(22368),r(73935),r(53569)),u=r(75912);var f,d,h,m=(0,(r(81144),r(35639),r(61085)).m)(u.S);const E=(f=m,h=d=function(e){(0,s.Z)(d,e);var t,r,u=(t=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(r){var a=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function d(e){var t;return(0,_.Z)(this,d),(t=u.call(this)).select=void 0,t.lastRequest=void 0,t.mounted=!1,t.optionsCache={},t.handleInputChange=function(e,r){var n=t.props,a=n.cacheOptions,_=n.onInputChange,o=(0,p.G)(e,r,_);if(!o)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(a&&t.optionsCache[o])t.setState({inputValue:o,loadedInputValue:o,loadedOptions:t.optionsCache[o],isLoading:!1,passEmptyOptions:!1});else{var s=t.lastRequest={};t.setState({inputValue:o,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(o,(function(e){t.mounted&&(e&&(t.optionsCache[o]=e),s===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:o,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return o},t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return(0,o.Z)(d,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,r=this.state.inputValue;!0===t&&this.loadOptions(r,(function(t){if(e.mounted){var r=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:r})}}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var r=this.props.loadOptions;if(!r)return t();var n=r(e,t);n&&"function"==typeof n.then&&n.then(t,(function(){return t()}))}},{key:"render",value:function(){var e=this,t=this.props,r=(t.loadOptions,t.isLoading),_=(0,n.Z)(t,["loadOptions","isLoading"]),o=this.state,s=o.defaultOptions,i=o.inputValue,l=o.isLoading,p=o.loadedInputValue,u=o.loadedOptions,d=o.passEmptyOptions?[]:i&&p?u:s||[];return c.createElement(f,(0,a.Z)({},_,{ref:function(t){e.select=t},options:d,isLoading:l||r,onInputChange:this.handleInputChange}))}}]),d}(c.Component),d.defaultProps={cacheOptions:!1,defaultOptions:!1,filterOption:null,isLoading:!1},h)},72408:(e,t,r)=>{"use strict";var n=r(27418),a="function"==typeof Symbol&&Symbol.for,_=a?Symbol.for("react.element"):60103,o=a?Symbol.for("react.portal"):60106,s=a?Symbol.for("react.fragment"):60107,i=a?Symbol.for("react.strict_mode"):60108,l=a?Symbol.for("react.profiler"):60114,c=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,u=a?Symbol.for("react.forward_ref"):60112,f=a?Symbol.for("react.suspense"):60113,d=a?Symbol.for("react.memo"):60115,h=a?Symbol.for("react.lazy"):60116,m="function"==typeof Symbol&&Symbol.iterator;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function O(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||g}function v(){}function P(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||g}O.prototype.isReactComponent={},O.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(E(85));this.updater.enqueueSetState(this,e,t,"setState")},O.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=O.prototype;var y=P.prototype=new v;y.constructor=P,n(y,O.prototype),y.isPureReactComponent=!0;var D={current:null},M=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var n,a={},o=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)M.call(t,n)&&!C.hasOwnProperty(n)&&(a[n]=t[n]);var i=arguments.length-2;if(1===i)a.children=r;else if(1<i){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===a[n]&&(a[n]=i[n]);return{$$typeof:_,type:e,key:o,ref:s,props:a,_owner:D.current}}function R(e){return"object"==typeof e&&null!==e&&e.$$typeof===_}var A=/\/+/g,I=[];function T(e,t,r,n){if(I.length){var a=I.pop();return a.result=e,a.keyPrefix=t,a.func=r,a.context=n,a.count=0,a}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function k(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function L(e,t,r,n){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var s=!1;if(null===e)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case _:case o:s=!0}}if(s)return r(n,e,""===t?"."+B(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var i=0;i<e.length;i++){var l=t+B(a=e[i],i);s+=L(a,l,r,n)}else if("function"==typeof(l=null===e||"object"!=typeof e?null:"function"==typeof(l=m&&e[m]||e["@@iterator"])?l:null))for(e=l.call(e),i=0;!(a=e.next()).done;)s+=L(a=a.value,l=t+B(a,i++),r,n);else if("object"===a)throw r=""+e,Error(E(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return s}function U(e,t,r){return null==e?0:L(e,"",t,r)}function B(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function W(e,t){e.func.call(e.context,t,e.count++)}function w(e,t,r){var n=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?K(e,n,r,(function(e){return e})):null!=e&&(R(e)&&(e=function(e,t){return{$$typeof:_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+r)),n.push(e))}function K(e,t,r,n,a){var _="";null!=r&&(_=(""+r).replace(A,"$&/")+"/"),U(e,w,t=T(t,_,n,a)),k(t)}var x={current:null};function j(){var e=x.current;if(null===e)throw Error(E(321));return e}var Z={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:D,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return K(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;U(e,W,t=T(null,null,t,r)),k(t)},count:function(e){return U(e,(function(){return null}),null)},toArray:function(e){var t=[];return K(e,t,null,(function(e){return e})),t},only:function(e){if(!R(e))throw Error(E(143));return e}},t.Component=O,t.Fragment=s,t.Profiler=l,t.PureComponent=P,t.StrictMode=i,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,t.cloneElement=function(e,t,r){if(null==e)throw Error(E(267,e));var a=n({},e.props),o=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=D.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)M.call(t,c)&&!C.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var p=0;p<c;p++)l[p]=arguments[p+2];a.children=l}return{$$typeof:_,type:e.type,key:o,ref:s,props:a,_owner:i}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=R,t.lazy=function(e){return{$$typeof:h,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return j().useCallback(e,t)},t.useContext=function(e,t){return j().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return j().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return j().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return j().useLayoutEffect(e,t)},t.useMemo=function(e,t){return j().useMemo(e,t)},t.useReducer=function(e,t,r){return j().useReducer(e,t,r)},t.useRef=function(e){return j().useRef(e)},t.useState=function(e){return j().useState(e)},t.version="16.14.0"},67294:(e,t,r)=>{"use strict";e.exports=r(72408)}}]);