(self.webpackChunk=self.webpackChunk||[]).push([[4211],{1866:(t,e,n)=>{"use strict";n.d(e,{Z:()=>x});var r,o,a=n(96156),i=n(6610),c=n(5991),s=n(10379),p=n(46070),u=n(77608),l=n(22122),f=n(32465),d=n(71893),h="#eee",m=d.ZP.span(o||(o=(0,f.Z)(["\n  animation: "," 1.2s ease-in-out infinite;\n  background-color: ",";\n  background-size: 200px 100%;\n  background-repeat: no-repeat;\n  background-image: linear-gradient(90deg, ",");\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 100%;\n"])),(function(t,e){return(0,d.F4)(r||(r=(0,f.Z)(["\n  0% {\n    background-position: -200px 0;\n  }\n  ","\n  100% {\n    background-position: calc(200px + 100%) 0;\n  }\n"])),e>0?"".concat(Math.floor(1/(t+e)*t*100),"% {\n    background-position: calc(200px + 100%) 0;\n  }"):void 0)}),(function(t){var e=t.color;return"".concat(e||h)}),(function(t){var e=t.highlightColor,n=t.color;return"".concat(n||h,", ").concat(e||"#f5f5f5",", ").concat(n||h)}));const g=function(t){return React.createElement("div",{className:t.className},React.createElement(m,(0,l.Z)({},t,{className:"altrp-skeleton__span"})))};var v,b=n(14494),y=n(67294),w=n(40747);const k=d.ZP.div(v||(v=(0,f.Z)(["& {\n  position: relative;\n  max-width: 100%;\n  overflow: hidden;\n  width:",";  \n","\n  \n  background-color: ","; \n}\n&::before{\n  display: block;\n  content: '';\n  width: 100%;\n",";\n}\n&& .altrp-skeleton,\n&& .altrp-image{\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;  \n  height: 100%;\n}\n"])),(function(t){return _.isNumber(t.width)?t.width+"px":t.width?t.width:"100%"}),(function(t){var e=t.settings,n=(0,w.getResponsiveSetting)(e,"aspect_ratio_size");return 0!==Number(n)&&"custom"===n||Number(n)?"height:auto;":t.height&&-1===t.height.indexOf("%")?"height:".concat(t.height?t.height:"auto",";"):"height:auto;"}),(function(t){return t.color?t.color:"#fff"}),(function(t){var e=t.settings,n=t.height,r="",o=(0,w.getResponsiveSetting)(e,"aspect_ratio_size");if(0!==Number(o)){if("custom"===o){var a=(0,w.getResponsiveSetting)(e,"custom_aspect");a=Number(a)||100,r+="padding-top:".concat(a,"%;")}else Number(o)&&(r+="padding-top:".concat(o,"%;"));return r}return n&&_.isString(n)&&-1===n.indexOf("%")||Number(t.mediaWidth)&&Number(t.mediaHeight)&&(r+="padding-top:".concat(t.mediaHeight/t.mediaWidth*100,"%;")),r}));var Z=n(29459);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){(0,a.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var E=function(t){(0,s.Z)(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,u.Z)(e);if(n){var o=(0,u.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,p.Z)(this,t)});function o(t){var e,n,a;(0,i.Z)(this,o),(a=r.call(this,t)).imageRef=y.createRef();var c=!0;return(!(0,w.isSSR)()||null!==(e=t.element)&&void 0!==e&&e.getResponsiveSetting("lazyload_disable"))&&((0,w.isEditor)()||!1===t.lazy||!window.altrpImageLazy||"none"===window.altrpImageLazy||!t.element||null!==(n=t.element)&&void 0!==n&&n.getResponsiveSetting("lazyload_disable"))||(c=!1),a.state={visible:c,update:0},a.timeoutId=setTimeout((function(){return a.setState((function(t){return S(S({},t),{},{update:t.update++})}))}),500),a}return(0,c.Z)(o,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutId)}},{key:"componentDidUpdate",value:function(t,e){var n;if(this.state.visible&&clearTimeout(this.timeoutId),!this.state.visible&&this.imageRef.current&&(null!==(n=this.props)&&void 0!==n&&n.element.getRoot().popupGUID&&this.props.element.getRoot().popupGUID===this.props.popupTrigger.popupID&&this.setState((function(t){return S(S({},t),{},{visible:!0})})),t.scrollPosition!==this.props.scrollPosition||e.update!==this.state.update)){var r=window.mainScrollbars;r||(r=document.querySelector(".front-app-content")),this.imageRef.current&&(0,Z.nX)(this.imageRef.current,r)&&(clearTimeout(this.timeoutId),this.setState((function(t){return S(S({},t),{},{visible:!0})})))}}},{key:"render",value:function(){var t,e=S({},this.props.image),n=this.props.noDefault||!1,r={},o=this.props.width,a=this.props.height;if(!(0,w.isSSR)()&&this.props.image instanceof File)e=this.props.image;else if(this.props.default)0===Object.keys(e).length&&(e=this.props.default);else{if(n)return"";e.url=e.url||"/img/nullImage.png",e.name=e.name||"null",e.assetType=e.assetType||void 0}var i=(0,w.renderAsset)(e);(this.state.visible||"skeleton"===window.altrpImageLazy)&&(r.background="transparent");var c=y.createElement(k,{color:e.main_color,className:"altrp-image-placeholder ",ref:this.imageRef,settings:(null===(t=this.props.element)||void 0===t?void 0:t.getSettings())||{},height:a,width:o,style:r,mediaWidth:e.width||100,mediaHeight:e.height||75},"skeleton"===window.altrpImageLazy&&!this.state.visible&&y.createElement(g,{className:"altrp-skeleton",color:window.altrpSkeletonColor,highlightColor:window.altrpSkeletonHighlightColor}),this.state.visible&&(0,y.cloneElement)(i,{className:this.props.className,id:this.props.id||null,style:this.props.style}));return y.createElement(y.Fragment,null,c)}}]),o}(y.Component);const x=(0,w.isEditor)()?E:(0,b.$j)((function(t){return{scrollPosition:t.scrollPosition,popupTrigger:t.popupTrigger}}))(E)},46251:(t,e,n)=>{"use strict";n.d(e,{Z:()=>g});var r=n(96156),o=n(92137),a=n(6610),i=n(5991),c=n(10379),s=n(46070),p=n(77608),u=n(87757),l=n.n(u),f=n(67294),d=n(71743);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(40747);const g=function(t){(0,c.Z)(v,t);var e,r,u,h,g=(u=v,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,p.Z)(u);if(h){var n=(0,p.Z)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,s.Z)(this,t)});function v(t){var e;return(0,a.Z)(this,v),(e=g.call(this,t)).state={templateComponent:null},e}return(0,i.Z)(v,[{key:"componentDidMount",value:(r=(0,o.Z)(l().mark((function t(){var e,r,o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(4338),n.e(1352)]).then(n.bind(n,81352));case 2:return e=t.sent.default,t.next=5,n.e(4338).then(n.bind(n,44338));case 5:return r=t.sent.default,t.next=8,Promise.all([n.e(1893),n.e(5977),n.e(2435),n.e(4627),n.e(2465)]).then(n.bind(n,14627));case 8:o=t.sent.default,this.setState((function(t){return m(m({},t),{},{templateLoader:e,frontElementsFabric:r,ElementWrapper:o})}),this.loadTemplate);case 10:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"loadTemplate",value:(e=(0,o.Z)(l().mark((function t(){var e,n,r,a,i=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=null,n=this.state,r=n.templateLoader,a=n.frontElementsFabric,!this.props.templateId){t.next=9;break}return t.next=5,r.loadParsedTemplate(this.props.templateId);case 5:e=t.sent,e=a.cloneElement(e),this.props.cardModel instanceof d.Z&&e.setCardModel(this.props.cardModel),e=f.createElement(e.componentClass,m(m({},this.props),{},{children:e.children,element:e,ElementWrapper:this.state.ElementWrapper}));case 9:this.setState((function(t){return m(m({},t),{},{templateComponent:e})}),(0,o.Z)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.isFunction(i.props.onLoad)&&i.props.onLoad();case 2:case"end":return t.stop()}}),t)}))));case 10:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"componentDidUpdate",value:function(t,e){this.props.templateId!==t.templateId&&this.loadTemplate()}},{key:"render",value:function(){return f.createElement("div",{className:"inner-template"},this.state.templateComponent)}}]),v}(f.Component)},40542:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>_t});var r,o=n(92137),a=n(6610),i=n(5991),c=n(63349),s=n(10379),p=n(46070),u=n(77608),l=n(87757),f=n.n(l),d=n(40747),h=n(22843),m=n(73727),g=n(5977),v=n(14494),b=n(22122),y=n(96156),w=n(67294),k=n(31298),Z=(n(46251),n(73935)),R=n(1866),S=n(32465),E=n(71893),x=n(32360);const P=E.ZP.div(r||(r=(0,S.Z)(["\n& .popup-content {\n  ","\n}\n& .popup-close-button {\n  ","\n}\n& .popup-close-button:hover {\n  ","\n}  \n& .popup-close-button-icon {\n  ","\n}  \n& .altrp-offcanvas {\n  ","\n}\n"])),(function(t){var e=t.settings,n="";return e.width_popup_layout&&e.width_popup_layout.size&&(n+="width: ".concat(e.width_popup_layout.size," ").concat(e.width_popup_layout.unit,";")),n}),(function(t){var e=t.settings,n="";if(n+=(0,x.WC)((0,d.getResponsiveSetting)(e,"popup_close_button_padding")),e.popup_close_button_height_size&&e.popup_close_button_height_size.size){var r=(0,d.getResponsiveSetting)(e,"popup_close_button_height_size"),o=r.size,a=r.unit;n+="height: ".concat(o).concat(a,";")}if(e.popup_close_button_width_size&&e.popup_close_button_width_size.size){var i=(0,d.getResponsiveSetting)(e,"popup_close_button_width_size"),c=i.size,s=i.unit;n+="width: ".concat(c).concat(s,";")}return e.popup_close_button_border_type&&(n+=(0,x.WC)((0,d.getResponsiveSetting)(e,"popup_close_button_border_width"),"border"),n+="border-style: ".concat((0,d.getResponsiveSetting)(e,"popup_close_button_border_type"),";"),e.popup_close_button_border_color&&e.popup_close_button_border_color.colorPickedHex&&(n+="border-color: ".concat((0,d.getResponsiveSetting)(e,"popup_close_button_border_color.colorPickedHex"),";"))),n+=(0,x.WC)((0,d.getResponsiveSetting)(e,"popup_close_button_border_radius"),"border-radius"),e.popup_close_button_background_color&&(n+="background-color: ".concat((0,d.getResponsiveSetting)(e,"popup_close_button_background_color").colorPickedHex," !important;")),n+(0,x.X6)((0,d.getResponsiveSetting)(e,"popup_close_button_box_shadow"))}),(function(t){var e=t.settings;return""+(0,d.getResponsiveSetting)(e,"popup_close_button_padding","hover")}),(function(t){var e=t.settings,n="";if(e.popup_close_icon_height_size&&e.popup_close_icon_height_size.size){var r=(0,d.getResponsiveSetting)(e,"popup_close_icon_height_size"),o=r.size,a=r.unit;n+="height: ".concat(o).concat(a,";")}if(e.popup_close_icon_width_size&&e.popup_close_icon_width_size.size){var i=(0,d.getResponsiveSetting)(e,"popup_close_icon_width_size"),c=i.size,s=i.unit;n+="width: ".concat(c).concat(s,";")}return n}),(function(t){var e=t.settings,n="";return e.time_offcanvas&&e.time_offcanvas.size&&(n+="animation-duration: ".concat(e.time_offcanvas.size).concat(e.time_offcanvas.unit," !important;")),n}));function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){(0,y.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const D=function(t){(0,s.Z)(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,u.Z)(e);if(n){var o=(0,u.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,p.Z)(this,t)});function o(t){var e;return(0,a.Z)(this,o),(e=r.call(this,t)).state={settings:t.settings,elementId:t.template.getId(),show:!1},e.offcanvasRef=w.createRef(),e.offcanvasContentRef=w.createRef(),e.show=e.show.bind((0,c.Z)(e)),e.hide=e.hide.bind((0,c.Z)(e)),e.hideButton=e.hideButton.bind((0,c.Z)(e)),e.mainContent=document.getElementsByClassName("main-content")[0],e}return(0,i.Z)(o,[{key:"show",value:function(){this.setState({show:!0}),document.addEventListener("click",this.hide),"push"===this.state.settings.animations_offcanvas&&("left"===this.state.settings.direction_offcanvas?(this.mainContent.style.width="70%",this.mainContent.style.left="30%"):"right"===this.state.settings.direction_offcanvas&&(this.mainContent.style.width="70%"))}},{key:"hide",value:function(t){var e=this;t.path.includes(this.offcanvasContentRef.current)||(this.props.close(),this.setState((function(t){return j(j({},t),{},{hideAnimation:!0})})),setTimeout((function(){e.setState({hideAnimation:!1,show:!1})}),200),document.removeEventListener("click",this.hide)),this.mainContent.style.width="100%",this.mainContent.style.left="0"}},{key:"hideButton",value:function(){var t=this;this.setState((function(t){return j(j({},t),{},{hideAnimation:!0})})),setTimeout((function(){t.setState({hideAnimation:!1,show:!1}),document.removeEventListener("click",t.hide)}),200),this.props.close()}},{key:"componentDidUpdate",value:function(t){this.props.show!==t.show&&this.show()}},{key:"render",value:function(){var t="altrp-offcanvas";switch(this.state.settings.direction_offcanvas){case"left":t+=" altrp-offcanvas-left altrp-offcanvas-vertical";break;case"right":t+=" altrp-offcanvas-right altrp-offcanvas-vertical";break;case"top":t+=" altrp-offcanvas-top altrp-offcanvas-horizontal";break;case"bottom":t+=" altrp-offcanvas-bottom altrp-offcanvas-horizontal";break;case"topLeft":t+=" altrp-offcanvas-top-left altrp-offcanvas-horizontal altrp-offcanvas-vertical";break;case"topRight":t+=" altrp-offcanvas-top-right altrp-offcanvas-horizontal altrp-offcanvas-vertical";break;case"bottomLeft":t+=" altrp-offcanvas-bottom-left altrp-offcanvas-horizontal altrp-offcanvas-vertical";break;case"bottomRight":t+=" altrp-offcanvas-bottom-right altrp-offcanvas-horizontal altrp-offcanvas-vertical"}var e="";switch(this.state.settings.animations_offcanvas){case"push":e+=" altrp-offcanvas-animation-push";break;case"reveal":e+=" altrp-offcanvas-animation-reveal";break;case"none":e+=" altrp-offcanvas-animation-none";break;default:e+=" altrp-offcanvas-animation-slide"}var n="",r=this.props.template;r&&(n=w.createElement(r.componentClass,{element:r,children:r.children})),e+=" altrp-offcanvas-wrapper-cursor-".concat(this.state.settings.close_cursor_offcanvas," ").concat(this.state.settings.overflow_visible_offcanvas?"altrp-offcanvas-wrapper-overflow-visible":"");var o=this.state.settings.switcher_close_button_popup_layout?w.createElement("div",{className:"altrp-offcanvas-button popup-close-button"+" altrp-offcanvas-button-".concat(this.state.settings.popup_close_icon_alignment),onClick:this.hideButton},w.createElement(R.Z,{image:this.state.settings.popup_close_icon,default:{assetType:"icon",name:"deleteOne"},className:"altrp-offcanvas-button-icon popup-close-button-icon"})):"";return w.createElement(w.Fragment,null,w.createElement("div",{className:"altrp-offcanvas-ref",ref:this.offcanvasRef}),Z.createPortal(w.createElement(P,{settings:this.state.settings},w.createElement("div",{className:"altrp-offcanvas-wrapper"+(this.state.show?" altrp-offcanvas-wrapper-show":"")+" ".concat(this.state.elementId,"-altrp-offcanvas")+(this.state.hideAnimation?" altrp-offcanvas-wrapper-animation-hide":"")+e},w.createElement("div",{className:t,ref:this.offcanvasContentRef},w.createElement(k.$B,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,universal:!0},o,n)))),document.getElementById("front-app")))}}]),o}(w.Component);var z=n(54534);var C=function(t){(0,s.Z)(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,u.Z)(e);if(n){var o=(0,u.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,p.Z)(this,t)});function o(t){var e;return(0,a.Z)(this,o),(e=r.call(this,t)).state={isVisible:!1,rootElement:window.frontElementsFabric.parseData(e.props.template.data,null,e.props.page,e.props.models),isShownOnScroll:!1},e.close=e.close.bind((0,c.Z)(e)),e}return(0,i.Z)(o,[{key:"componentDidMount",value:function(){this.state.rootElement.getContent("type_popup")}},{key:"componentDidUpdate",value:function(t){var e=this.props.popupTrigger,n=_.get(this.props,"template.triggers.data",{});switch(n.on_scroll,n.to_element,this.state.isShownOnScroll,this.state.rootElement.getSettings("type_popup","popup")){case"popup":case"offcanvas":e!==t.popupTrigger&&this.setState({isVisible:e.popupID===_.get(this.props,"template.guid")})}}},{key:"close",value:function(){this.setState({isVisible:!1,isShownOnScroll:!1}),this.props.closePopup()}},{key:"render",value:function(){var t=this,e=this.state.isVisible,n=["app-popup"],r=this.state.rootElement;r.popupGUID=_.get(this.props,"template.guid");var o=r.getSettings(""),a=r.getId();switch(n.push("".concat(a,"-app-popup")),o.overlay_close_popup_layout,n.push("app-popup-overlay"),o.height_popup_layout){case"fitToScreen":n.push("app-popup-height-fit-to-screen");break;case"custom":n.push("app-popup-height-custom")}switch(o.horizontal_position_popup_layout){case"left":n.push("app-popup-horizontal-left");break;case"center":n.push("app-popup-horizontal-center");break;case"right":n.push("app-popup-horizontal-right");break;default:n.push("app-popup-horizontal-center")}switch(o.vertical_position_popup_layout){case"top":n.push("app-popup-vertical-top");break;case"center":n.push("app-popup-vertical-center");break;case"bottom":n.push("app-popup-vertical-bottom");break;default:n.push("app-popup-vertical-center")}var i="",c=o.switcher_close_button_popup_layout||!0,s=o.popup_close_icon_alignment;s=s||"right";var p=c?w.createElement("button",{className:"popup-close-button"+("right"===s?" popup-close-button-right":" popup-close-button-left"),onClick:function(){t.setState({isVisible:!1}),t.props.closePopup()}},w.createElement(R.Z,{image:o.popup_close_icon,lazy:!1,default:{assetType:"icon",name:"deleteOne",url:"/img/nullImage.png"},className:"popup-close-button-icon"})):null,u="100%";"custom"===o.height_popup_layout&&(u=Number(o.height_custom_popup_layout.size)||0);var l=e?w.createElement(P,{settings:o,className:n.join(" "),onClick:function(){(void 0===o.popup_close_click_on_dark_area||o.popup_close_click_on_dark_area)&&(t.setState({isVisible:!1}),t.props.closePopup())}},w.createElement("div",{className:"popup-window",onClick:function(t){return t.stopPropagation()}},p,w.createElement(k.$B,{autoHide:!0,autoHeight:!0,renderThumbHorizontal:function(t){return w.createElement("div",(0,b.Z)({},t,{className:"popup-scrollbar-vertical"}))},renderTrackHorizontal:function(){return w.createElement("div",{className:"popup-scrollbar-track-horizontal"})},renderTrackVertical:function(t){return w.createElement("div",(0,b.Z)({},t,{className:"popup-scrollbar-track-vertical"}))},className:"popup-scrollbar",autoHeightMin:100,autoHeightMax:u,autoHideTimeout:1e3,autoHideDuration:200},w.createElement("div",{className:"popup-content"},w.createElement(r.componentClass,{element:r,children:r.children}))))):null;switch(o.type_popup||"popup"){case"popup":i=l;break;case"offcanvas":i=w.createElement(D,{close:this.close,show:this.state.isVisible,settings:o,template:r})}return i}}]),o}(w.Component);const N=(0,v.$j)((function(t){return{scrollPosition:t.scrollPosition,popupTrigger:t.popupTrigger}}),(function(t){return{closePopup:function(){return t((0,z.z)(null))}}}))(C);var U=function(t){(0,s.Z)(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,u.Z)(e);if(n){var o=(0,u.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,p.Z)(this,t)});function o(t){var e;return(0,a.Z)(this,o),e=r.call(this,t),t.area.component=(0,c.Z)(e),e}return(0,i.Z)(o,[{key:"componentWillUnmount",value:function(){var t;window.pageUpdater&&window.pageUpdater.startUpdating(),window.stylesModule.removeStyleById(null===(t=this.rootElement)||void 0===t?void 0:t.id)}},{key:"render",value:function(){var t,e,n=["app-area","app-area_".concat(this.props.id)];if(void 0!==this.props.area.getTemplates&&this.props.area.getTemplates().length)return w.createElement("div",{className:n.join(" ")},this.props.area.getTemplates().map((function(t){return w.createElement(N,{key:t.id,template:t})})));if(null===(t=this.props)||void 0===t||null===(e=t.template)||void 0===e||!e.data)return w.createElement("div",{className:n.join(" ")});"footer"===this.props.id&&(this.props.template.data.lastElement=!0);var r=this.rootElement?this.rootElement:window.frontElementsFabric.parseData(this.props.template.data,null,this.props.page,this.props.models);this.rootElement=r,window["".concat(this.props.id,"_root_element")]=this.rootElement,this.props.scrollPosition.top>0&&this.rootElement.children.forEach((function(t){t.lazySection=!1}));var o=this.rootElement.children;return o=o.filter((function(t){return!t.lazySection})),this.props.area.isCustomArea()&&(n=n.concat(this.props.area.getAreaClasses())),w.createElement("div",{className:n.join(" ")},w.createElement(this.rootElement.componentClass,{element:this.rootElement,children:o}))}}]),o}(w.Component);const T=(0,v.$j)((function(t){return{scrollPosition:t.scrollPosition}}))(U);var I=n(38773),A=function(){function t(){(0,a.Z)(this,t),this.resource=new I.Z({route:"/ajax/pages"})}var e;return(0,i.Z)(t,[{key:"loadPage",value:(e=(0,o.Z)(f().mark((function t(e){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!_.isObject(window.pageStorage[e])){t.next=2;break}return t.abrupt("return",window.pageStorage[e]);case 2:return t.next=4,this.resource.get(e);case 4:return n=t.sent,window.pageStorage[e]=n,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}();window.pageLoader=new A;const M=window.pageLoader;var B=n(87977),W=n(1966),F=n(49981),H=n(71743),V=n(26553),L=n(46221);function q(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J=function(t){(0,s.Z)(m,t);var e,n,r,c,l=(r=m,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,u.Z)(r);if(c){var n=(0,u.Z)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,p.Z)(this,t)});function m(t){var e;return(0,a.Z)(this,m),(e=l.call(this,t)).onStoreUpdate=(0,o.Z)(f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=h.Z.getState().formsStore,_.isEqual(e.getProperty("formsStore"),n)||!e.getProperty("updated")){t.next=5;break}return e.setProperty("formsStore",n),t.next=5,e.onFormsUpdate();case 5:case"end":return t.stop()}}),t)}))),e.setProperty("dataSourcesFormsDependent",[]),e.setProperty("formsStore",h.Z.getState().formsStore),h.Z.subscribe(e.onStoreUpdate),e}return(0,i.Z)(m,[{key:"updateCurrent",value:(n=(0,o.Z)(f().mark((function t(){var e,n,r,a,i,c,s=this,p=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=p.length>0&&void 0!==p[0]?p[0]:null,n=!(p.length>1&&void 0!==p[1])||p[1],!h.Z.getState().currentUser.isEmpty()){t.next=8;break}return t.next=5,new I.Z({route:"/ajax/current-user"}).getAll();case 5:r=(r=t.sent).data,h.Z.dispatch((0,L.a2)(r));case 8:_.get(e,"length")||(e=this.getProperty("currentDataSources")),e||(e=[]),n&&(this.setProperty("currentDataSources",e),this.setProperty("updated",!1),e=e.filter((function(t){return t.getProperty("autoload")}))),e=e.filter((function(t){var e=t.getProperty("parameters");return!(0,d.isJSON)(e)||!((e=(0,d.mbParseJSON)(e,[]))&&e.find((function(e){if(-1===e.paramValue.toString().indexOf("altrpforms."))return!1;var r=t.getParams(window.currentRouterMatch.params,"altrpforms.");if(n&&s.subscribeToFormsUpdate(t,r),!e.required)return!1;var o=e.paramValue||"";return-1!==o.indexOf("{{")&&(o=(0,d.replaceContentWithData)(o)),!o})))})),a={},e.forEach((function(t){a[t.getProperty("priority")]=a[t.getProperty("priority")]||[],a[t.getProperty("priority")].push(t)})),n&&h.Z.dispatch((0,V.PL)()),t.t0=f().keys(a);case 16:if((t.t1=t.t0()).done){t.next=30;break}if(i=t.t1.value,a.hasOwnProperty(i)){t.next=20;break}return t.abrupt("continue",16);case 20:return n&&h.Z.dispatch((0,V.PL)()),c=a[i].map(function(){var t=(0,o.Z)(f().mark((function t(r){var o,a,i,c,p,u;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.getWebUrl()){t.next=46;break}if(o=r.getParams(window.currentRouterMatch.params,"altrpforms."),a=_.cloneDeep(o),i=!1,_.each(o,(function(t,e){0===t.toString().indexOf("altrpforms.")&&(o[e]=_.get(h.Z.getState().formsStore,t.toString().replace("altrpforms.",""),""),i=!0)})),i&&n&&s.subscribeToFormsUpdate(r,_.cloneDeep(a)),c={},t.prev=7,!(p=_.get(window.altrpPreloadedDatasources,r.getAlias()))){t.next=14;break}c=p,_.unset(window.altrpPreloadedDatasources,r.getAlias()),t.next=32;break;case 14:if("show"!==r.getType()){t.next=22;break}if(!(u=_.get(o,"id",_.get(s.props,"match.params.id")))){t.next=20;break}return t.next=19,new I.Z({route:r.getWebUrl()}).get(u);case 19:c=t.sent;case 20:t.next=32;break;case 22:if(_.isEmpty(o)){t.next=29;break}return t.next=25,new I.Z({route:r.getWebUrl()}).getQueried(o);case 25:c=t.sent,r.params=_.cloneDeep(o),t.next=32;break;case 29:return t.next=31,new I.Z({route:r.getWebUrl()}).getAll();case 31:c=t.sent;case 32:t.next=41;break;case 34:if(t.prev=34,t.t0=t.catch(7),!(t.t0 instanceof Promise)){t.next=40;break}return t.next=39,t.t0.then();case 39:t.t0=t.sent;case 40:console.error(t.t0);case 41:return c=_.get(c,"data",c),(e=e.filter((function(t){return t!==r}))).length||s.setProperty("updated",!0),h.Z.dispatch((0,V.cC)(r.getAlias(),c)),t.abrupt("return",c);case 46:case"end":return t.stop()}}),t,null,[[7,34]])})));return function(e){return t.apply(this,arguments)}}()),console.log("Update Datasource Start: ",performance.now()),t.next=25,Promise.all(c);case 25:t.sent,console.log("Update Datasource End: ",performance.now()),n&&h.Z.dispatch((0,V.vt)()),t.next=16;break;case 30:e.length||h.Z.dispatch((0,V.vt)());case 31:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"clearCurrent",value:function(){this.unsetProperty("currentDataSources"),this.setProperty("dataSourcesFormsDependent",[]),h.Z.dispatch((0,V.qS)())}},{key:"subscribeToFormsUpdate",value:function(t,e){var n=this.getProperty("dataSourcesFormsDependent");-1===_.findIndex(n,(function(e){return e.dataSource===t}))&&n.push({dataSource:t,params:e})}},{key:"onFormsUpdate",value:(e=(0,o.Z)(f().mark((function t(){var e,n,r,o,a;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=(e=this.getProperty("dataSourcesFormsDependent",[])).filter((function(t){var e=t.dataSource.getProperty("parameters");return!(0,d.isJSON)(e)||!(e=(0,d.mbParseJSON)(e,[])).find((function(t){if(!t.required)return!1;var e=t.paramValue||"";return-1!==e.indexOf("{{")&&(e=(0,d.replaceContentWithData)(e)),!e}))})),e=_.sortBy(e,(function(t){return t.priority})),n=h.Z.getState().formsStore,r=q(e),t.prev=5,a=f().mark((function t(){var e,r,a,i,c,s;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.value,r=e.dataSource,a=e.updating,i=_.cloneDeep(r.params),c=r.getParams(window.currentRouterMatch.params,"altrpforms."),_.forEach(c,(function(t,e){0===t.toString().indexOf("altrpforms.")&&(c[e]=_.get(n,t.replace("altrpforms.","")))})),_.isEqual(c,i)||a){t.next=52;break}return r.params=_.cloneDeep(c),e.updating=!0,s={},t.prev=10,t.next=13,new I.Z({route:r.getWebUrl()}).getQueried(c);case 13:s=t.sent,s=_.get(s,"data",s),h.Z.dispatch((0,V.cC)(r.getAlias(),s)),t.next=26;break;case 18:if(t.prev=18,t.t0=t.catch(10),!(t.t0 instanceof Promise)){t.next=25;break}return t.next=23,t.t0.then();case 23:t.t0=t.sent,t.t0=(0,d.mbParseJSON)(t.t0);case 25:console.error(t.t0);case 26:if(t.prev=26,void 0===e.pendingParameters||_.isEqual(e.pendingParameters,c)){t.next=48;break}return t.prev=28,t.next=31,new I.Z({route:r.getWebUrl()}).getQueried(e.pendingParameters);case 31:s=t.sent,s=_.get(s,"data",s),h.Z.dispatch((0,V.cC)(r.getAlias(),s)),r.params=_.cloneDeep(e.pendingParameters),t.next=45;break;case 37:if(t.prev=37,t.t1=t.catch(28),!(t.t1 instanceof Promise)){t.next=44;break}return t.next=42,t.t1.then();case 42:t.t1=t.sent,t.t1=(0,d.mbParseJSON)(t.t1);case 44:console.error(t.t1);case 45:return t.prev=45,_.unset(e,"pendingParameters"),t.finish(45);case 48:return e.updating=!1,t.finish(26);case 50:t.next=53;break;case 52:!_.isEqual(c,i)&&a&&(e.pendingParameters=_.cloneDeep(c));case 53:case"end":return t.stop()}}),t,null,[[10,18,26,50],[28,37,45,48]])})),r.s();case 8:if((o=r.n()).done){t.next=12;break}return t.delegateYield(a(),"t0",10);case 10:t.next=8;break;case 12:t.next=17;break;case 14:t.prev=14,t.t1=t.catch(5),r.e(t.t1);case 17:return t.prev=17,r.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[5,14,17,20]])}))),function(){return e.apply(this,arguments)})}]),m}(H.Z);window.dataStorageUpdater=window.dataStorageUpdater||new J;const G=window.dataStorageUpdater;var X,Q=n(1196),Y=n(15272),K=n(86817),tt=n(99585),et=n(61113),nt=["content","footer","header","popups"];const rt=E.ZP.div(X||(X=(0,S.Z)(["\n  position: relative;\n  ","\n"])),(function(t){var e=t.areas,n="";if(!(e=e.filter((function(t){return-1===nt.indexOf(t.id)}))).length)return n;n+="&&{display:grid;grid-template-rows:auto 1fr auto;";var r="",o=e.find((function(t){return"sidebar"===t.settings.area_type&&"right"===t.settings.sidebar_location})),a=e.find((function(t){return"sidebar"===t.settings.area_type&&"left"===t.settings.sidebar_location}));r+=a?"".concat(a.settings.sidebar_width):"0",r+=" calc(100% - ".concat(a?"".concat(a.settings.sidebar_width):"0"," - ").concat(o?"".concat(o.settings.sidebar_width):"0",") "),r+=o?"".concat(o.settings.sidebar_width):"0";var i="";return i=a?"left-sidebar content":"content content",i+=o?" right-sidebar":" content",n+="grid-template-columns:".concat(r,";grid-template-areas:\n    '").concat("app_sidebar"===_.get(a,"settings.sidebar_type")?"left-sidebar":"header"," header ").concat("app_sidebar"===_.get(o,"settings.sidebar_type")?"right-sidebar":"header","'\n    '").concat(i,"'\n    '").concat("app_sidebar"===_.get(a,"settings.sidebar_type")?"left-sidebar":"footer"," footer ").concat("app_sidebar"===_.get(o,"settings.sidebar_type")?"right-sidebar":"footer","';\n    "),n+="}",n+="& .app-area_sidebar-location-left{grid-area:left-sidebar;overflow:hidden;}",n+="& .app-area_sidebar-location-right{grid-area:right-sidebar;overflow:hidden;}",n+="& .app-area_header{grid-area:header;}",n+="& .app-area_footer{grid-area:footer;}",n+="& .app-area_content{grid-area:content;}",n+="& .altrp-section.altrp-section--full-width,& .altrp-section.altrp-section--boxed{max-width:100%;} & .sections-wrapper{max-width: 100%;width: 100%;}",o&&(n+=o.getCustomCSS()),a&&(n+=a.getCustomCSS()),n}));function ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(n),!0).forEach((function(e){(0,y.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}"undefined"==typeof window&&({}.window.ssr=!0);var it=w.lazy((function(){return n.e(6070).then(n.bind(n,16070))})),ct=function(t){(0,s.Z)(k,t);var e,n,r,l,d,m,v,y=(m=k,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,u.Z)(m);if(v){var n=(0,u.Z)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,p.Z)(this,t)});function k(t){var e,n;(0,a.Z)(this,k);var r=(n=y.call(this,t)).props.title;return h.Z.dispatch((0,tt.x)(r)),n.state={areas:!0===window.ssr?n.props.areas.map((function(t){return B.Z.areaFabric(t)})):n.props.areas||[],admin:n.props.currentUser.hasRoles("admin")},n.scrollbar=w.createRef(),n.isReport=(null===(e=window.location)||void 0===e?void 0:e.href.includes("reports"))||!1,h.Z.dispatch((0,Q.L2)()),window.currentRouterMatch=new H.Z(t.match),window.currentPageId=t.id,window.currentRouteComponent=(0,c.Z)(n),console.log("Route constructor: ",performance.now()),n.updateAppData(),n}return(0,i.Z)(k,[{key:"componentWillReceiveProps",value:(d=(0,o.Z)(f().mark((function t(e){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(F.sJ.clear(),_.get(this.props,"model.modelName")===_.get(e,"model.modelName")&&_.get(this.props,"match.params.id")===_.get(e,"match.params.id")){t.next=5;break}return t.next=4,this.changeRouteCurrentModel(e);case 4:h.Z.dispatch((0,et.qs)("url",location.href));case 5:_.isEqual(_.get(this.props,"match.params"),_.get(e,"match.params"))||this.updateAppData(),this.setState((function(t){return at(at({},t),{},{admin:e.currentUser.hasRoles("admin")})}));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"componentDidMount",value:(l=(0,o.Z)(f().mark((function t(){var e,n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.mainScrollbars=this.scrollbar.current,h.Z.dispatch((0,et.qs)("url",location.href)),!this.props.lazy||!this.props.allowed){t.next=8;break}return t.next=5,M.loadPage(this.props.id);case 5:e=t.sent,n=e.areas.map((function(t){return B.Z.areaFabric(t)})),this.setState((function(t){return at(at({},t),{},{areas:n})}));case 8:this.changeRouteCurrentModel(),h.Z.dispatch((0,Y.sG)()),window.formsManager.clearFieldsStorage(),console.log("Route Mounted: ",performance.now());case 12:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){}},{key:"updateAppData",value:(r=(0,o.Z)(f().mark((function t(){var e;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:G.clearCurrent(),window.formsManager&&formsManager.clearFormsStore(),e=this.props.data_sources,G.updateCurrent(e),h.Z.dispatch((0,K.aH)());case 5:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"changeRouteCurrentModel",value:(n=(0,o.Z)(f().mark((function t(e){var n,r,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!_.get(this.props,"model.modelName")||!_.get(this.props,"match.params.id")){t.next=17;break}return n=e||this.props,t.prev=2,t.next=5,new I.Z({route:"/ajax/models/".concat(n.model.modelName)}).get(n.match.params.id);case 5:r=t.sent,o=h.Z.getState().currentModel.getData(),r.altrpModelUpdated=!0,_.isEqual(r,o)||(h.Z.dispatch((0,W.D)({altrpModelUpdated:!1})),h.Z.dispatch((0,W.D)(r))),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0),h.Z.dispatch((0,W.D)({altrpModelUpdated:!0}));case 15:t.next=18;break;case 17:h.Z.dispatch((0,W.D)({altrpModelUpdated:!0}));case 18:case"end":return t.stop()}}),t,this,[[2,11]])}))),function(t){return n.apply(this,arguments)})},{key:"componentDidUpdate",value:(e=(0,o.Z)(f().mark((function t(e){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.isEqual(_.get(this.props,"match"),_.get(e,"match"))||(window.currentRouterMatch=new H.Z(this.props.match));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"render",value:function(){var t=this;return this.props.allowed?w.createElement(w.Fragment,null,w.createElement(w.Suspense,{fallback:w.createElement("div",null)},this.state.admin&&w.createElement(it,{areas:this.state.areas,data:this.props.currentUser.data,idPage:this.props.id})," "),w.createElement(rt,{className:"route-content",id:"route-content",areas:this.state.areas},this.state.areas.map((function(e,n){return w.createElement(T,(0,b.Z)({},e,{area:e,areas:t.state.areas,page:t.props.id,models:[t.props.model],key:"appArea_"+e.id}))})))):w.createElement(g.l_,{to:this.props.redirect||"/"})}}]),k}(w.Component);const st=(0,v.$j)((function(t){return{currentUser:t.currentUser}}))((0,g.EN)(ct));function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach((function(e){(0,y.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var lt=function(t){(0,s.Z)(m,t);var e,r,l,h=(r=m,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,u.Z)(r);if(l){var n=(0,u.Z)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,p.Z)(this,t)});function m(t){var e;return(0,a.Z)(this,m),(e=h.call(this,t)).state={},e.emailTemplate=React.createRef(),window.emailTemplatesRenderer=(0,c.Z)(e),e}return(0,i.Z)(m,[{key:"componentDidMount",value:(e=(0,o.Z)(f().mark((function t(){var e;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(8782).then(n.bind(n,58782));case 2:e=t.sent.baseEmailRender,this.setState((function(t){return ut(ut({},t),{},{baseEmailRender:e})}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"render",value:function(){if(!this.props.currentEmailTemplate||!this.state.baseEmailRender)return null;var t=(0,d.mbParseJSON)(this.props.currentEmailTemplate.data);(t=window.frontElementsFabric.parseData(t)).templateType="email";var e=React.createElement(t.componentClass,{element:t,children:t.children,baseRender:this.state.baseEmailRender});return React.createElement("table",{id:"altrp-email-renderer",style:{width:"100%",display:"none"},ref:this.emailTemplate},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,e))))}}]),m}(Component);const ft=(0,v.$j)((function(t){return{altrpresponses:t.altrpresponses,formsStore:t.formsStore,currentDataStorage:t.currentDataStorage,currentModel:t.currentModel,currentUser:t.currentUser,altrpMeta:t.altrpMeta,altrpPageState:t.altrpPageState,currentEmailTemplate:t.currentEmailTemplate}}))(lt);var dt=n(72337);var ht=React.lazy((function(){return n.e(8510).then(n.bind(n,38510))})),mt=function(t){(0,s.Z)(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,u.Z)(e);if(n){var o=(0,u.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,p.Z)(this,t)});function o(t){var e;return(0,a.Z)(this,o),(e=r.call(this,t)).mainScroller=React.createRef(),e.router=React.createRef(),e}return(0,i.Z)(o,[{key:"componentDidMount",value:function(){this.router.current&&(window.frontAppRouter=this.router.current),this.mainScroller.current&&this.mainScroller.current.addEventListener("scroll",(function(t){h.Z.dispatch((0,dt.y)({top:t.target.scrollTop}))}))}},{key:"render",value:function(){return React.createElement(m.VK,{ref:this.router},React.createElement(ft,null),React.createElement("div",{ref:this.mainScroller,className:"front-app-content ".concat((0,d.isAltrpTestMode)()?"front-app-content_test":"")},React.createElement(g.rs,null,this.props.routes.map((function(t){return React.createElement(g.AW,{key:t.id,children:React.createElement(st,t),path:t.path,exact:!0})})))),React.createElement(React.Suspense,{fallback:""},React.createElement(ht,null)))}}]),o}(Component);const gt=(0,v.$j)((function(t){return{routes:t.appRoutes.routes}}))(mt);var vt=n(46843),bt=n(84554),yt=n(57865),wt=n(89862);const _t=function(t){(0,s.Z)(g,t);var e,r,l,m=(r=g,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,u.Z)(r);if(l){var n=(0,u.Z)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,p.Z)(this,t)});function g(t){var e;return(0,a.Z)(this,g),e=m.call(this,t),window.frontApp=(0,c.Z)(e),e.getRoutes(),console.log("FRONT APP: ",performance.now()),e}return(0,i.Z)(g,[{key:"getRoutes",value:function(){var t=this;return(0,d.getRoutes)().then((function(e){t.routes=e.default}))}},{key:"onWidgetMount",value:function(){console.log(performance.now()),this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){}),100)}},{key:"componentDidMount",value:(e=(0,o.Z)(f().mark((function t(){var e,r,o,a,i,c,s,p,u,l;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return new I.Z({route:"/ajax/"}).get("current-user").then((function(t){_.isEqual(h.Z.getState().currentUser.getData(),t.data)||h.Z.dispatch((0,L.a2)(t.data))})),t.next=3,new I.Z({route:"/admin/ajax/settings"}).get("pusher_app_key");case 3:return a=t.sent,t.next=6,new I.Z({route:"/admin/ajax/settings"}).get("websockets_port");case 6:return i=t.sent,t.next=9,new I.Z({route:"/admin/ajax/settings"}).get("pusher_host");case 9:if(c=t.sent,a=null===(e=a)||void 0===e?void 0:e.pusher_app_key,i=null===(r=i)||void 0===r?void 0:r.websockets_port,c=null===(o=c)||void 0===o?void 0:o.pusher_host,a&&i){try{window.Pusher=n(86606),window.Echo=new bt.Z({broadcaster:"pusher",key:a,wsHost:c,wsPort:i,forceTLS:!1,disableStats:!0})}catch(t){console.log(t)}s=h.Z.getState(),p=s.currentUser,window.Echo.private("App.User."+p.id).notification((function(t){h.Z.dispatch((0,L.jk)(t)),console.log(h.Z.getState().currentUser,"STORE NOTICE")})),u=window.Echo.join("online"),l=[],u.here((function(t){l=t,h.Z.dispatch((0,L.Br)(l))})).joining((function(t){l.push(t),h.Z.dispatch((0,L.Br)(l))})).leaving((function(t){l.splice(l.indexOf(t),1),h.Z.dispatch((0,L.Br)(l))}))}else console.log("Вебсокеты выключены");case 14:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})},{key:"render",value:function(){return React.createElement(v.zt,{store:h.Z},React.createElement(wt.W,{backend:yt.PD},React.createElement(gt,null)),React.createElement(vt.ZP,null))}}]),g}(Component)},32360:(t,e,n)=>{"use strict";n.d(e,{EX:()=>a,WC:()=>i,X6:()=>c,UK:()=>s,zq:()=>p,iY:()=>u,mX:()=>l,S_:()=>f,EN:()=>d,qn:()=>h,Ej:()=>m,u$:()=>g,ny:()=>v,Dr:()=>b,Vb:()=>y,HL:()=>w});var r=n(40747),o=[{verticalAlignValues:["super","top","text-top"],alignItemsValue:"flex-start"},{verticalAlignValues:["middle"],alignItemsValue:"center"},{verticalAlignValues:["baseline"],alignItemsValue:"baseline"},{verticalAlignValues:["sub","bottom","text-bottom"],alignItemsValue:"flex-end"}];function a(t){var e="";return o.forEach((function(n){-1!==n.verticalAlignValues.indexOf(t)&&(e=n.alignItemsValue)})),e}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"padding",n="";if(_.isEmpty(t))return n;var r=t.unit,o=void 0===r?"px":r,a=t.left,i=t.right,c=t.top,s=t.bottom;switch(e){case"border-width":a&&(n+="border-left-width: ".concat(a).concat(o,"; ")),i&&(n+="border-right-width: ".concat(i).concat(o,"; ")),c&&(n+="border-top-width: ".concat(c).concat(o,"; ")),s&&(n+="border-bottom-width: ".concat(s).concat(o,"; "));break;case"border-radius":c&&(n+="border-top-left-radius: ".concat(c).concat(o,"; ")),i&&(n+="border-top-right-radius: ".concat(i).concat(o,"; ")),s&&(n+="border-bottom-right-radius: ".concat(s).concat(o,"; ")),a&&(n+="border-bottom-left-radius: ".concat(a).concat(o,"; "));break;default:a&&(n+="".concat(e,"-left: ").concat(a).concat(o,"; ")),i&&(n+="".concat(e,"-right: ").concat(i).concat(o,"; ")),c&&(n+="".concat(e,"-top: ").concat(c).concat(o,"; ")),s&&(n+="".concat(e,"-bottom: ").concat(s).concat(o,"; "))}return n}function c(t){if(t){var e=t.type,n=void 0===e?"outline":e,r=t.offsetX,o=t.horizontal,a=t.offsetY,i=t.vertical,c=t.blurRadius,s=t.blur,p=t.spread,u=t.spreadRadius,l=t.color;return console.log(t),"box-shadow: ".concat(n||" "," ").concat(r||o||0,"px ").concat(a||i||0,"px ").concat(c||s||0,"px ").concat(u||p||0,"px ").concat(l,";")}return""}function s(t,e){if(_.isEmpty(t))return"";if(t){var n=t.colorPickedHex;return void 0!==e?"&:".concat(e," {background-color: ").concat(n,";} "):"background-color: ".concat(n,"; ")}return""}function p(t){if(_.isEmpty(t))return"";if(t.isWithGradient){var e=t.angle,n=t.firstColor,r=t.firstPoint,o=t.secondColor,a=t.secondPoint;return"background-image: linear-gradient(".concat(e,"deg, ").concat(n," ").concat(r,"%, ").concat(o," ").concat(a,"%); ")}return""}function u(t){if(_.isEmpty(t))return"";var e=t.blur,n=t.brightness,r=t.contrast,o=t.hue,a=t.saturate;return"& .altrp-image {filter: blur(".concat(e,"px) brightness(").concat(n,"%) contrast(").concat(r,"%) saturate(").concat(a,"%) hue-rotate(").concat(o,"deg);} ")}function l(t,e){return t?"".concat(e,": ").concat(t,"; "):""}function f(t,e){return t?"".concat(e,": ").concat(t.colorPickedHex,"; "):""}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="";if(_.isEmpty(t))return e;var n=t.size,r=t.unit;return"column-gap: ".concat(n+r,"; ")}function h(t){return t?"opacity: ".concat(t.size,"; "):""}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="";if(_.isEmpty(t))return e;var n=t.family,r=t.size,o=t.lineHeight,a=t.spacing,i=t.style,c=t.transform,s=t.weight,p=t.decoration,u=t.sizeUnit,l=t.lineHeightUnit;return p&&(e+="text-decoration: ".concat(p,"; ")),c&&(e+="text-transform: ".concat(c,"; ")),a&&(e+="letter-spacing: ".concat(a,"px; ")),o&&(e+="line-height: ".concat(l?o+l:o,"; ")),s&&(e+="font-weight: ".concat(s,"; ")),i&&(e+="font-style: ".concat(i,"; ")),r&&(e+="font-size: ".concat(r?r+(u||"px"):"","; ")),_.isEmpty(n)||(e+="font-family: ".concat(n,"; ")),e}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="";if(_.isEmpty(t))return e;var n=t.bottom,r=t.left,o=t.right,a=t.top,i=t.unit;return""!==a&&(e+="border-top-width: ".concat(a+i," ;")),""!==o&&(e+="border-right-width: ".concat(o+i," ;")),""!==n&&(e+="border-bottom-width: ".concat(n+i," ;")),""!==r&&(e+="border-left-width: ".concat(r+i," ;")),e}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="";if(_.isEmpty(t))return e;var n=t.size,r=t.unit;return"border-radius: ".concat(n+r,"; ")}function b(t){return t||""}function y(t){if(t){if(t.size){var e=t.unit||"px";return t.size+e}return""}return""}function w(t,e){var n="";return t.forEach((function(t){if(_.isString(t))"}"!==t?"."===t.split("")[0]||"&"===t.split("")[0]?n+="".concat(t," {"):n+="& .".concat(t," {"):n+="}";else{if(_.isArray(t)){var o=t[3]||null,a=(0,r.getResponsiveSetting)(e,t[1],o);switch(t[2]){case"dimensions":n+=function(t,e){if(t){var n=t.unit||"px",r=t.left||0,o=t.right||0,a=t.bottom||0,i=t.top||0;return t.left||t.right||t.bottom||t.top?"".concat(e,": ").concat(i+n," ").concat(o+n," ").concat(a+n," ").concat(r+n,";"):""}}(a,t[0]);break;case"color":n+=function(t,e){return t&&t.color?"".concat(e,": ").concat(t.color,";"):""}(a,t[0]);break;case"gradient":n+=(i=a).isWithGradient?"background-image: ".concat(i.value,";"):"";break;case"typographic":n+=m(a);break;case"slider":n+="".concat(t[0],": ").concat(y(a),";");break;case"shadow":n+=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type||"",n=t.horizontal||0,r=t.vertical||0,o=t.blur||0,a=t.spread||0,i=t.color||"";return"box-shadow: ".concat(e," ").concat(n,"px ").concat(r,"px ").concat(o,"px ").concat(a," ").concat(i,";")}(a);default:n+="".concat(t[0],": ").concat(b(a),";")}}_.isFunction(t)&&(n+=t())}var i})),n}}}]);