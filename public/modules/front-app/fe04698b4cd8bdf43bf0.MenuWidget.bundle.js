(self.webpackChunk=self.webpackChunk||[]).push([[4894],{78578:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>j});var r=n(22122),o=n(96156),c=n(92137),a=n(6610),i=n(5991),l=n(63349),s=n(10379),u=n(46070),p=n(77608),d=n(32465),g=n(87757),f=n.n(g),m=n(67294),b=n(53766),h=n(76941),v=n(38773);function y(){return w.apply(this,arguments)}function w(){return(w=(0,c.Z)(f().mark((function t(){var e,n,r,o=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:""){t.next=3;break}return t.abrupt("return",null);case 3:return n=new v.Z({route:"/ajax/menus"}),t.next=6,n.get(e);case 6:return r=t.sent,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var x,_=n(5998),k=n(40747),S=n(71893),E=n(32360);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var I=(0,S.vJ)(x||(x=(0,d.Z)(["\n  ","\n  .altrp-menu-item__icon svg {\n    display: block;\n    height: 20px;\n    width: 20px;\n  }\n"])),(function(t){var e=t.elementId,n=t.settings,r=".bp3-menu-item.altrp-menu-item".concat(e,"{align-items:center;border-radius:0;"),o=(0,k.getResponsiveSetting)(n,"padding");o&&(r+=(0,E.WC)(o));var c=(0,k.getResponsiveSetting)(n,"typographic");c&&(r+=(0,E.Ej)(c));var a=(0,k.getResponsiveSetting)(n,"bg");a&&a.color&&(r+="background-color: ".concat(a.color,";"));var i=(0,k.getResponsiveSetting)(n,"color");i&&i.color&&(r+="color: ".concat(i.color,";"),r+=".bp3-icon svg, .bp3-icon path{fill: ".concat(i.color,";}")),r+="}",r+=".bp3-popover-open.bp3-popover-target .bp3-menu-item.altrp-menu-item.altrp-menu-item".concat(e,",\n    .bp3-menu-item.altrp-menu-item.altrp-menu-item").concat(e,":hover{"),(a=(0,k.getResponsiveSetting)(n,"bg",":hover"))&&a.color&&(r+="background-color: ".concat(a.color,";")),(c=(0,k.getResponsiveSetting)(n,"typographic",":hover"))&&(r+=(0,E.Ej)(c)),(i=(0,k.getResponsiveSetting)(n,"color",":hover"))&&i.color&&(r+="color: ".concat(i.color,";"),r+=".bp3-icon svg, .bp3-icon path{fill: ".concat(i.color,";}")),r+="}";var l=(0,k.getResponsiveSetting)(n,"gap");l&&(r+=".altrp-portal".concat(e," .bp3-menu > li:not(:last-child) { margin-bottom: ").concat(l,"}")),r+=".altrp-portal".concat(e," .bp3-menu{");var s=(0,k.getResponsiveSetting)(n,"sub_menu_padding");s&&(r+=(0,E.WC)(s));var u=(0,k.getResponsiveSetting)(n,"sub_menu_bg");u&&u.color&&(r+="background-color: ".concat(u.color,";")),r+="}",r+=".bp3-portal .altrp-portal.altrp-portal".concat(e," .bp3-popover-content{");var p=(0,k.getResponsiveSetting)(n,"sub_menu_shadow");p&&(r+=(0,E.X6)(p)),r+="}",r+=".altrp-portal.altrp-portal".concat(e," .bp3-popover-content,\n    .altrp-portal.altrp-portal").concat(e," .bp3-menu{");var d=(0,k.getResponsiveSetting)(n,"sub_menu_radius");return d&&(r+=(0,E.WC)(d,"border-radius")),r+="}",r+=".altrp-portal".concat(e," .bp3-menu:hover{"),(u=(0,k.getResponsiveSetting)(n,"sub_menu_bg",":hover"))&&u.color&&(r+="background-color: ".concat(u.color,";")),r+=".bp3-portal .altrp-portal.altrp-portal".concat(e," .bp3-popover-content:hover{"),(p=(0,k.getResponsiveSetting)(n,"sub_menu_shadow",":hover"))&&(r+=(0,E.X6)(p)),r+="}",r+="}",r+=".altrp-portal.altrp-portal".concat(e," .bp3-popover-content:hover,\n    .altrp-portal.altrp-portal").concat(e," .bp3-menu:hover{"),(d=(0,k.getResponsiveSetting)(n,"sub_menu_radius",":hover"))&&(r+=(0,E.WC)(d,"border-radius")),r+="}",console.log(r),r}));const j=function(t){(0,s.Z)(d,t);var e,n,o=(e=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,p.Z)(e);if(n){var o=(0,p.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,u.Z)(this,t)});function d(t){var e;return(0,a.Z)(this,d),(e=o.call(this,t)).getMenuData=(0,c.Z)(f().mark((function t(){var n,r,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.menuData&&!e.loading){t.next=2;break}return t.abrupt("return");case 2:if(e.loading=!0,n=appStore.getState().altrpMenus,r=e.props.element.getResponsiveSetting("menu"),o=n.find((function(t){return t.guid===r}))){t.next=12;break}return t.next=9,y(r);case 9:(o=t.sent).children=(0,k.mbParseJSON)(o.children),appStore.dispatch((0,_.b)(o));case 12:e.setState((function(t){return O(O({},t),{},{menuData:o})}),(function(){e.loading=!1}));case 13:case"end":return t.stop()}}),t)}))),e.getMenuClasses=function(){return e.props.element,["altrp-menu"].join(" ")},e.renderSubItems=function(t,n){if(!t.length)return null;var r=e.props.element,o={usePortal:!0,portalClassName:"altrp-portal altrp-portal".concat(e.elementId),portalContainer:window.EditorFrame?window.EditorFrame.contentWindow.document.body:document.body};return 1===n&&"horizontal"===r.getResponsiveSetting("type")&&(o.position=b.Ly.BOTTOM_LEFT),m.createElement(m.Fragment,null,t.map((function(t){return m.createElement(h.sN,{popoverProps:o,depth:n,href:t.url,width:100,className:"altrp-menu-item altrp-menu-item".concat(e.elementId),key:t.id,onClick:function(n){n.preventDefault(),!(0,k.isEditor)()&&e.props.history&&e.props.history.push(t.url)},icon:m.createElement("span",{className:"altrp-menu-item__icon",dangerouslySetInnerHTML:{__html:t.icon}}),text:t.label},e.renderSubItems(t.children,n+1))})))},e.state={},window.elementDecorator&&window.elementDecorator((0,l.Z)(e)),t.baseRender&&(e.render=t.baseRender((0,l.Z)(e))),e.elementId=t.element.getId(),e}return(0,i.Z)(d,[{key:"renderHorizontalMenu",value:function(){var t=this;this.getMenuData();var e=this.state.menuData;return e?m.createElement(h.hE,{fill:!0,alignText:"left"},e.children.map((function(e){return m.createElement(h.zx,{minimal:!0,icon:m.createElement("span",{className:"altrp-menu-item__icon",dangerouslySetInnerHTML:{__html:e.icon}}),rightIcon:"caret-down",text:e.label,href:e.url,key:e.id,onClick:function(n){n.preventDefault(),!(0,k.isEditor)()&&t.props.history&&t.props.history.push(e.url)}})}))):null}},{key:"renderVerticalMenu",value:function(){this.getMenuData();var t=this.state.menuData;return t?m.createElement(h.v2,{className:this.getMenuClasses()},m.createElement(I,(0,r.Z)({},this.props,{settings:this.props.element.getSettings(),elementId:this.elementId})),this.renderSubItems(t.children,1)):null}},{key:"render",value:function(){switch(this.props.element.getResponsiveSetting("type")){case"horizontal":default:return this.renderVerticalMenu()}}}]),d}(m.Component)},32360:(t,e,n)=>{"use strict";n.d(e,{EX:()=>c,WC:()=>a,X6:()=>i,UK:()=>l,zq:()=>s,iY:()=>u,mX:()=>p,S_:()=>d,EN:()=>g,qn:()=>f,Ej:()=>m,u$:()=>b,ny:()=>h,Dr:()=>v,Vb:()=>y,HL:()=>w});var r=n(40747),o=[{verticalAlignValues:["super","top","text-top"],alignItemsValue:"flex-start"},{verticalAlignValues:["middle"],alignItemsValue:"center"},{verticalAlignValues:["baseline"],alignItemsValue:"baseline"},{verticalAlignValues:["sub","bottom","text-bottom"],alignItemsValue:"flex-end"}];function c(t){var e="";return o.forEach((function(n){-1!==n.verticalAlignValues.indexOf(t)&&(e=n.alignItemsValue)})),e}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"padding",n="";if(_.isEmpty(t))return n;var r=t.unit,o=void 0===r?"px":r,c=t.left,a=t.right,i=t.top,l=t.bottom;switch(e){case"border-width":c&&(n+="border-left-width: ".concat(c).concat(o,"; ")),a&&(n+="border-right-width: ".concat(a).concat(o,"; ")),i&&(n+="border-top-width: ".concat(i).concat(o,"; ")),l&&(n+="border-bottom-width: ".concat(l).concat(o,"; "));break;case"border-radius":i&&(n+="border-top-left-radius: ".concat(i).concat(o,"; ")),a&&(n+="border-top-right-radius: ".concat(a).concat(o,"; ")),l&&(n+="border-bottom-right-radius: ".concat(l).concat(o,"; ")),c&&(n+="border-bottom-left-radius: ".concat(c).concat(o,"; "));break;default:c&&(n+="".concat(e,"-left: ").concat(c).concat(o,"; ")),a&&(n+="".concat(e,"-right: ").concat(a).concat(o,"; ")),i&&(n+="".concat(e,"-top: ").concat(i).concat(o,"; ")),l&&(n+="".concat(e,"-bottom: ").concat(l).concat(o,"; "))}return n}function i(t){if(t){var e=t.type,n=void 0===e?"outline":e,r=t.offsetX,o=t.horizontal,c=t.offsetY,a=t.vertical,i=t.blurRadius,l=t.blur,s=t.spread,u=t.spreadRadius,p=t.color;return console.log(t),"box-shadow: ".concat(n||" "," ").concat(r||o||0,"px ").concat(c||a||0,"px ").concat(i||l||0,"px ").concat(u||s||0,"px ").concat(p,";")}return""}function l(t,e){if(_.isEmpty(t))return"";if(t){var n=t.colorPickedHex;return void 0!==e?"&:".concat(e," {background-color: ").concat(n,";} "):"background-color: ".concat(n,"; ")}return""}function s(t){if(_.isEmpty(t))return"";if(t.isWithGradient){var e=t.angle,n=t.firstColor,r=t.firstPoint,o=t.secondColor,c=t.secondPoint;return"background-image: linear-gradient(".concat(e,"deg, ").concat(n," ").concat(r,"%, ").concat(o," ").concat(c,"%); ")}return""}function u(t){if(_.isEmpty(t))return"";var e=t.blur,n=t.brightness,r=t.contrast,o=t.hue,c=t.saturate;return"& .altrp-image {filter: blur(".concat(e,"px) brightness(").concat(n,"%) contrast(").concat(r,"%) saturate(").concat(c,"%) hue-rotate(").concat(o,"deg);} ")}function p(t,e){return t?"".concat(e,": ").concat(t,"; "):""}function d(t,e){return t?"".concat(e,": ").concat(t.colorPickedHex,"; "):""}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="";if(_.isEmpty(t))return e;var n=t.size,r=t.unit;return"column-gap: ".concat(n+r,"; ")}function f(t){return t?"opacity: ".concat(t.size,"; "):""}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="";if(_.isEmpty(t))return e;var n=t.family,r=t.size,o=t.lineHeight,c=t.spacing,a=t.style,i=t.transform,l=t.weight,s=t.decoration,u=t.sizeUnit,p=t.lineHeightUnit;return s&&(e+="text-decoration: ".concat(s,"; ")),i&&(e+="text-transform: ".concat(i,"; ")),c&&(e+="letter-spacing: ".concat(c,"px; ")),o&&(e+="line-height: ".concat(p?o+p:o,"; ")),l&&(e+="font-weight: ".concat(l,"; ")),a&&(e+="font-style: ".concat(a,"; ")),r&&(e+="font-size: ".concat(r?r+(u||"px"):"","; ")),_.isEmpty(n)||(e+="font-family: ".concat(n,"; ")),e}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="";if(_.isEmpty(t))return e;var n=t.bottom,r=t.left,o=t.right,c=t.top,a=t.unit;return""!==c&&(e+="border-top-width: ".concat(c+a," ;")),""!==o&&(e+="border-right-width: ".concat(o+a," ;")),""!==n&&(e+="border-bottom-width: ".concat(n+a," ;")),""!==r&&(e+="border-left-width: ".concat(r+a," ;")),e}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="";if(_.isEmpty(t))return e;var n=t.size,r=t.unit;return"border-radius: ".concat(n+r,"; ")}function v(t){return t||""}function y(t){if(t){if(t.size){var e=t.unit||"px";return t.size+e}return""}return""}function w(t,e){var n="";return t.forEach((function(t){if(_.isString(t))"}"!==t?"."===t.split("")[0]||"&"===t.split("")[0]?n+="".concat(t," {"):n+="& .".concat(t," {"):n+="}";else{if(_.isArray(t)){var o=t[3]||null,c=(0,r.getResponsiveSetting)(e,t[1],o);switch(t[2]){case"dimensions":n+=function(t,e){if(t){var n=t.unit||"px",r=t.left||0,o=t.right||0,c=t.bottom||0,a=t.top||0;return t.left||t.right||t.bottom||t.top?"".concat(e,": ").concat(a+n," ").concat(o+n," ").concat(c+n," ").concat(r+n,";"):""}}(c,t[0]);break;case"color":n+=function(t,e){return t&&t.color?"".concat(e,": ").concat(t.color,";"):""}(c,t[0]);break;case"gradient":n+=(a=c).isWithGradient?"background-image: ".concat(a.value,";"):"";break;case"typographic":n+=m(c);break;case"slider":n+="".concat(t[0],": ").concat(y(c),";");break;case"shadow":n+=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type||"",n=t.horizontal||0,r=t.vertical||0,o=t.blur||0,c=t.spread||0,a=t.color||"";return"box-shadow: ".concat(e," ").concat(n,"px ").concat(r,"px ").concat(o,"px ").concat(c," ").concat(a,";")}(c);default:n+="".concat(t[0],": ").concat(v(c),";")}}_.isFunction(t)&&(n+=t())}var a})),n}}}]);