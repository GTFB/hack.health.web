exports.id=132,exports.ids=[132],exports.modules={3132:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>q});var n,a=r(12),s=r.n(a),o=r(2373),i=r.n(o),u=r(3315),c=r.n(u),p=r(2827),l=r.n(p),g=r(9317),d=r.n(g),f=r(8867),m=r.n(f),h=r(3168),v=r.n(h),b=r(2531),y=r.n(b),P=r(9297),O=r.n(P),x=r(7683),E=r(1232),S=r(4050),w=r(1954),k=r(3929),j=r(6777),N=r(1248),T=r.n(N),C=r(9914);const D=r.n(C)().div(n||(n=T()(["{\n  grid-template-columns: repeat(",", 1fr);\n  display: grid;    \n  ","\n"])),(function(e){return e.columnsCount}),(function(e){var t=e.posts_columns_gap,r=e.posts_rows_gap,n="";return t&&!Number(t)?n+="grid-column-gap:".concat(t,";"):Number(t)&&(n+="grid-column-gap:".concat(t,"px;")),r&&!Number(r)?n+="grid-row-gap:".concat(r,";"):Number(r)&&(n+="grid-row-gap:".concat(r,"px;")),n}));var R=r(95);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.e(958).then(r.t.bind(r,2958,23)),r.e(879).then(r.t.bind(r,6879,23));var A=function(e){d()(o,e);var t,r,n,a,s=(n=o,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v()(n);if(a){var r=v()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return m()(this,e)});function o(e){var t;return c()(this,o),(t=s.call(this,e)).renderPost=function(e){var r=_.get(t.props.settings,"posts_card_hover_template",null),n=_.get(t.props.settings,"posts_transition_type",null),a=_.cloneDeep(t.props.data[e]||t.props.data),s=a.component||"";if(t.state.simpleTemplate){var o=S.default.cloneElement(t.state.simpleTemplate);o.setCardModel(new w.Z(a),e),s=O().createElement(o.componentClass,{element:o,ElementWrapper:k.default,children:o.children})}return O().createElement(O().Fragment,{key:(a.id||a.altrpIndex)+Math.random()},O().createElement("div",{className:"altrp-post"},s,r&&O().createElement("div",{className:"altrp-post altrp-post--hover altrp-post--hover--".concat(n)},s)))},t.state={simpleTemplate:"",simpleTemplateId:null,currentPage:1},t}return l()(o,[{key:"componentDidMount",value:(r=i()(y().mark((function e(){var t,r,n=this;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.settings,!(r=_.get(t,"posts_card_template"))){e.next=6;break}if(r){e.next=5;break}return e.abrupt("return");case 5:this.setState((function(e){return M(M({},e),{},{simpleTemplateId:r})}),i()(y().mark((function e(){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.default.loadParsedTemplate(r);case 2:t=e.sent,n.setState((function(e){return M(M({},e),{},{simpleTemplate:t})}));case 4:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"shouldComponentUpdate",value:function(e,t){return!((0,j.hz)()&&this.props.settings===e.settings&&_.isEqual(this.state.simpleTemplate,t.simpleTemplate)&&_.isEqual(this.state.simpleTemplateId,t.simpleTemplateId)&&_.isEqual(this.props.data,e.data)&&this.state.currentPage===t.currentPage)}},{key:"componentDidUpdate",value:(t=i()(y().mark((function e(t){var r,n,a,s=this;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props.settings,n=this.state.simpleTemplateId,a=_.get(r,"posts_card_template",n),_.isEqual(t.data,this.props.data)||this.setState((function(e){return M(M({},e),{},{posts:s.props.data})})),a===n){e.next=8;break}if(a){e.next=7;break}return e.abrupt("return");case 7:this.setState((function(e){return M(M({},e),{},{simpleTemplateId:a})}),i()(y().mark((function e(){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.default.loadParsedTemplate(a);case 2:t=e.sent,s.setState((function(e){return M(M({},e),{},{simpleTemplate:t})}));case 4:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getPageCount",value:function(){var e=this.props.data,t=Number((0,j.RG)(this.props.settings,"posts_per_page"))||12;return t&&_.get(e,"length")?Math.ceil(e.length/t):1}},{key:"setPage",value:function(e){(e=Number(e))||(e=1),e<0&&(e=0),e>this.getPageCount()&&(e=this.getPageCount()),this.state.currentPage!==e&&this.setState((function(t){return M(M({},t),{},{currentPage:e})}))}},{key:"renderPagination",value:function(){var e=this,t=M({},this.props.settings);if(!this.props.data.length&&!(0,j.hz)())return null;var r=(0,j.RG)(this.props.settings,"posts_pagination_type")||"";if(r){var n=this.state.currentPage,a=this.getPageCount();if("pages"===r){t.hide_pagination_select=!0,t.hide_page_input=!0;var s={settings:t,pageCount:a,pageIndex:this.state.currentPage-1,nextPage:function(){e.setPage(e.state.currentPage+1)},previousPage:function(){e.setPage(e.state.currentPage-1)},gotoPage:function(t){e.setPage(t+1)},pageSize:this.props.element.getResponsiveSetting("posts_per_page"),widgetId:this.props.element.getId()};return O().createElement(R.Z,s)}return"prev_next"===r?O().createElement("div",{className:"altrp-pagination-pages"},O().createElement("button",{className:"altrp-pagination__previous "+(n<=1?"state-disabled":""),disabled:n<=1,onClick:function(){e.setPage(n-1)}},O().createElement("span",null,t.posts_prev_text||""),(0,j.eh)(t.prev_icon)),O().createElement("button",{className:"altrp-pagination__next "+(n===a?"state-disabled":""),disabled:n===a,onClick:function(){e.setPage(n+1)}},O().createElement("span",null,t.posts_next_text||""),(0,j.eh)(t.next_icon))):O().createElement("div",{className:"altrp-pagination"},!t.hide_pre_page_button&&O().createElement("button",{className:"altrp-pagination__previous",onClick:function(){return e.setPage(n-1)},disabled:n<=1},O().createElement("span",{dangerouslySetInnerHTML:{__html:t.prev_text||"Previous Page"}}),(0,j.eh)(t.prev_icon)),!t.hide_pages_buttons_button&&O().createElement("div",{className:"altrp-pagination__count"},t.pageText),!t.hide_next_page_button&&O().createElement("button",{className:"altrp-pagination__next",onClick:function(){return e.setPage(n+1)},disabled:n===a},O().createElement("span",{dangerouslySetInnerHTML:{__html:t.next_text||"Next Page"}}),(0,j.eh)(t.next_icon)))}return null}},{key:"render",value:function(){var e=this,t=this.state.currentPage,r=Number((0,j.RG)(this.props.settings,"posts_per_page"))||12,n=this.props.data;!_.isArray(n)&&_.isObject(n)&&(n=[n]),_.isArray(n)||(n=[]);var a=0;r&&Number(r)&&(t>1&&(a=(t-1)*r),n=n.slice(a,a+r));var s=Number((0,j.RG)(this.props.settings,"posts_columns"))||1,o=(0,j.RG)(this.props.settings,"posts_columns_gap")||"",i=(0,j.RG)(this.props.settings,"posts_rows_gap")||"";return O().createElement(O().Fragment,null,O().createElement(D,{columnsCount:s,posts_columns_gap:o,posts_rows_gap:i,className:"altrp-posts"},n.map((function(t,r){return e.renderPost(a+r)}))),this.renderPagination())}}]),o}(O().Component);const q=function(e){return"datasource"===e.settings.choose_datasource?((0,j.hz)()&&((e=M({},e)).settings=M({},e.settings),e.data=Array.from({length:100},(function(){return{}})),(0,j.Js)(e.data)),O().createElement(A,e)):O().createElement(x.Z,e,O().createElement(A,null))}},7683:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(12),a=r.n(n),s=r(2373),o=r.n(s),i=r(9e3),u=r.n(i),c=r(2531),p=r.n(c),l=r(9297),g=r.n(l),d=(r(6548),r(2585)),f=r(6777);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const v=function(e){var t,r,n,a=[],s={forceFetchOnMount:!0,refetchOnWindowFocus:!0},i=e.children,c=void 0===i?[]:i,m=e.query,v=e.data,b=e.settings,y=e.updateToken,P={};b.tables_columns&&b.tables_columns.forEach((function(e){e.column_is_default_sorted&&!P.order_by&&(P.order_by=e.accessor,P.order=_.get(e,"column_is_default_sorted_direction","ASC"))}));var O=(0,l.useState)(1),x=u()(O,2),E=x[0],S=x[1],w=(0,l.useState)(P),k=u()(w,2),j=k[0],N=k[1],T=(0,l.useState)({}),C=u()(T,2),D=C[0],R=C[1],I=(0,l.useCallback)(function(){var e=o()(p().mark((function e(t){var r,n,a,s,o,i,u,c=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:1,n=c.length>2?c[2]:void 0,a=c.length>3?c[3]:void 0,c.length>4&&c[4],s=c.length>5?c[5]:void 0,o=c.length>6?c[6]:void 0,"datasource"!==b.choose_datasource){e.next=8;break}return e.abrupt("return",v);case 8:return i={page:r},u=JSON.stringify(a),n&&(i=_.assign(n,i)),s&&(i.altrpUdateToken=s),o&&(i.order="ASC",i.order_by=o),u.length>2&&(i.filters=u),e.next=16,m.getQueried(i);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());if(m.pageSize){var M=(0,d.usePaginatedQuery)([m.dataSourceName,E,j,D,m.getParams(),y],I,s),A=M.status,q=M.resolvedData,G=M.latestData;a=q||a,t=A,r=M.error,n=G,(0,l.useEffect)((function(){null!=G&&G.hasMore&&d.queryCache.prefetchQuery([m.dataSourceName,E+1],I)}),[G,I,E,j,D,y])}else{var z=(0,d.useQuery)([m.dataSourceName,m.getParams(),y],(function(e){return m.getResource().getQueried(h(h({},j),{},{filters:filterSettingJSON,groupBy}))}),s),F=z.status;a=z.data,t=F,r=z.error}_.isObject(a)&&!_.isArray(a)&&(a=[a]),a.length||(a=v),_.isArray(c)||(c=[c]),_.isEmpty(v)&&(v=a),g().useEffect((function(){(0,f.Js)(v)}),[v]);var Q=g().useMemo((function(){return _.isArray(v)?v:_.isObject(v)?[v]:[]}),[v]),B=h(h({},e),{},{data:Q,_status:t,setFilterSettings:R,setSortSettings:N,filterSetting:D,sortSetting:j,_latestData:n,setPage:S,page:E,_error:r});return c.map((function(e){return g().cloneElement(e,h(h({},B),{},{key:e.key}))}))}}};