exports.id=876,exports.ids=[876],exports.modules={2876:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ye,settingsToColumns:()=>ve});var r,l=n(4755),a=n.n(l),o=n(12),c=n.n(o),i=n(5606),s=n.n(i),u=n(6280),d=n.n(u),p=n(2373),m=n.n(p),g=n(9e3),f=n.n(g),b=n(2531),v=n.n(b),h=n(2740),w=n.n(h),y=n(6777),E=n(2146),x=n(3255),O=n(906),P=n(7683),R=n(8109),S=n(2690),j=n(3603),k=n(9297),N=n.n(k),C=n(1232),z=n(4050),I=n(1954),M=n(3929),T=n(4756),F=n(1248),D=n.n(F),A=n(9914),G=n.n(A);const B=G().div(r||(r=D()([""])));var L,H=n(7267);const V=G().div(L||(L=D()(["",""])),(function(e){var t=e.settings,n=e.column;if(!t.table_transpose)return"";var r=n.column_cell_vertical_alignment,l=n.header_full_width,a=n.header_bg,o=(0,y.RG)(t,"table_style_main_width"),c=(0,y.RG)(t,"table_style_other_width"),i="&.altrp-table-th.altrp-table-cell{",s=(0,y.RG)(t,"cell_vertical_alignment");return s=(0,H.EX)(s),r&&(s=(0,H.EX)(r)),s&&(i+="\n    display: flex;\n    align-items: ".concat(s,";\n    > span{\n      display: block;\n      width: 100%;\n    }\n    ")),a&&(i+="background-color:".concat(a.color,";")),l&&(i+="\n      grid-column-start: 1;\n      grid-column-end: ".concat(n.filteredRows.length+2,";\n      width: calc(").concat(_.get(o,"size")+(_.get(o,"unit")||"px")," + (").concat(_.get(c,"size")+(_.get(c,"unit")||"px"),") * ").concat(n.filteredRows.length,")\n    ")),(i+="\n      width: ".concat(_.get(o,"size")+(_.get(o,"unit")||"px"),"\n    "))+"}"}));var W,Y=n(6460),q=n(9001);const X=G().div(W||(W=D()(["",""])),(function(e){var t=e.settings,n=e.column;if(!t.table_transpose)return"";var r=n.column_cell_vertical_alignment,l=n.body_bg,a=n.header_full_width,o=(0,y.RG)(t,"table_style_other_width"),c=(0,y.RG)(t,"cell_vertical_alignment");c=(0,H.EX)(c),r&&(c=(0,H.EX)(r));var i="&.altrp-table-td.altrp-table-cell{";return c&&(i+="\n    display: flex;\n    align-items: ".concat(c,";\n    .altrp-table-td__default-content{\n      display: block;\n      width: 100%;\n    }\n    ")),a?"&.altrp-table-td{display:none;}":(l&&(i+="background-color:".concat(l.color,";")),i+="\n  width: ".concat(_.get(o,"size")+(_.get(o,"unit")||"px"),";\n  "),i+="}")}));function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const U=function(e){var t=e.cell,n=e.settings,r=t.row,l=t.column,a=n.resize_columns,o=n.replace_rows,i=n.virtualized_rows,u=n.hide_expanded_row_icon,d=n.expanded_row_icon,p=n.hide_not_expanded_row_icon,m=n.not_expanded_row_icon,g=t.render("Cell");"##"===t.column.id&&(g=t.row.index+1),t.isGrouped?g=React.createElement(React.Fragment,null,React.createElement("span",r.getToggleRowExpandedProps(),r.isExpanded?(0,y.hY)(u,d,"ðŸ‘‡","expanded-row"):(0,y.hY)(p,m,"ðŸ‘‰","not-expanded-row"))," ",t.render("Cell")," (",(0,y.YW)(r,"subRows"),")"):t.isAggregated?g=t.render("Aggregated"):t.isPlaceholder&&(g=t.render("Cell"));var f=["altrp-table-td","altrp-table-cell"];t.isAggregated&&f.push("altrp-table-td_aggregated"),t.isPlaceholder&&f.push("altrp-table-td_placeholder"),t.isGrouped&&f.push("altrp-table-td_grouped");var b=React.useMemo((function(){var e=t.getCellProps();if(a||i||delete e.style,_.get(t,"column.column_styles_field")){var n=_.get(t,"column.column_styles_field");n=_.get(r.original,n,""),n=(0,y.hB)(n,{}),e.style=_.assign(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n),e.style)}return e}),[a,o,i,t.getCellProps().style.width,_.get(t,"column.column_styles_field")]);n.table_hover_row||f.join("altrp-table-background");var v=t.column.column_body_alignment?{textAlign:t.column.column_body_alignment}:{};return v=_.assign(v,b.style||{}),t.column.column_cell_vertical_alignment&&"inherit"!==t.column.column_cell_vertical_alignment&&(v.verticalAlign=t.column.column_cell_vertical_alignment),React.createElement(X,s()({},b,{settings:n,column:l,style:v,className:f.join(" ")}),g)};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const K=function(e){var t=e.row,n=e.index,r=e.moveRow,l=e.style,a=e.visibleColumns,o=e.cardTemplate,c=e.settings,i=React.useRef(null),u=React.useRef(null),d=$({},t.getRowProps());delete d.role,delete d.style;var p=null,m=c.resize_columns,g=c.replace_rows,_=c.row_expand,b=c.virtualized_rows,v=c.card_template,h=c.replace_text,w=c.replace_image,y=c.replace_width;if(o){var E=z.default.cloneElement(o);E.setCardModel(new I.Z(t.original||{})),p=React.createElement(E.componentClass,{element:E,ElementWrapper:M.default,children:E.children})}var x=React.useMemo((function(){var e=t.getRowProps();return m||b||(delete e.style,l={}),g&&(e.ref=i),e}),[m,g,b]),O=(0,q.useDrop)({accept:"row",hover:function(e,t){if(i.current){var l=e.index,a=n;if(l!==a){var o=i.current.getBoundingClientRect(),c=(o.bottom-o.top)/2,s=t.getClientOffset().y-o.top;l<a&&s<c||l>a&&s>c||(r(l,a),e.index=a)}}}}),P=f()(O,2)[1],R=(0,q.useDrag)({item:{type:"row",index:n},collect:function(e){return{isDragging:e.isDragging()}}}),S=f()(R,3),j=S[0].isDragging,k=S[1],N=j?0:1;(0,S[2])(P(i)),k(u);var C=React.useMemo((function(){return m||b?l:{}}),[m,b,t.getRowProps().style.width]);return React.createElement(React.Fragment,d,React.createElement("div",s()({},x,{className:"altrp-table-tr ".concat(j?"altrp-table-tr__dragging":""),style:$($({},C),{},{opacity:N})}),g&&React.createElement("div",{className:"altrp-table-td replace-text",ref:u,style:{width:y}},h,w&&w.url&&React.createElement("img",{src:w.url,className:"replace-picture"})),t.cells.map((function(e,t){return React.createElement(U,{cell:e,key:t,settings:c})}))),t.isExpanded&&_&&v&&o&&React.createElement("div",{className:"altrp-table-tr altrp-posts"},React.createElement("td",{colSpan:a.length+g,className:"altrp-table-td altrp-post"},p)))};var Q;const ee=G().div(Q||(Q=D()(["\n",""])),(function(e){var t,n=e.settings,r=e.groupIndex,l=(0,y.RG)(n,"tables_groups"),a=(0,y.RG)(n,"tables_settings_for_subheading"),o=_.get(a,r-1,{}).transition;if(!_.isArray(l)||!r)return"";if(!(t=r>l.length?l[l.length-1]:l[r-1]))return"";if(!_.isObject(t))return"";var c=t,i=c.cell_alignment,s=c.padding,u=c.color,d=c.bg_color,p=c.typographic,m="&.altrp-table-tr .altrp-table-td{";null!=o&&o.size&&(m+="transition-duration: ".concat(o.size,"s;")),_.isObject(s)&&(m+=(0,H.WC)(s)),_.isObject(p)&&(m+=(0,H.Ej)(p)),i&&(m+="text-align: ".concat(i,";")),null!=u&&u.color&&(m+="color: ".concat(u.color,";")),null!=d&&d.color&&(m+="background-color: ".concat(d.color,";")),m+="}&.altrp-table-tr .altrp-table-td:hover{";var g=t["cell_alignment_:hover_"],f=t["padding_:hover_"],b=t["color_:hover_"],v=t["bg_color_:hover_"],h=t["typographic_:hover_"];return _.isObject(f)&&(m+=(0,H.WC)(f)),_.isObject(h)&&(m+=(0,H.Ej)(h)),g&&(m+="text-align: ".concat(g,";")),null!=b&&b.color&&(m+="color: ".concat(b.color,";")),null!=v&&v.color&&(m+="background-color: ".concat(v.color,";")),m+"}"}));function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const ne=function e(t){var n=t.prepareRow,r=t.rows,l=t.visibleColumns,a=t.totalColumnsWidth,o=t.moveRow,i=t.settings,u=t.cardTemplate,d=t.groupIndex,p=t.page,m=N().useMemo((function(){return(0,y.LF)()}),[]),g=i.virtualized_rows,b=i.virtualized_height,v=i.item_size,h=i.tables_settings_for_subheading,w=(i.table_style_table_striple_style,N().useCallback((function(e){var t=e.index,a=e.style,c=p?p[t]:r[t];return n(c),N().createElement(K,s()({index:t,row:c,visibleColumns:l,moveRow:o,settings:i,cardTemplate:u},c.getRowProps({style:a})))}),[p,r,l,i,u,o,n])),E=N().useMemo((function(){return p?p.length:r.length}),[p,r]),x=N().useMemo((function(){var e;if(_.isEmpty(h))return null;var t,n,l=null===(e=h[d])||void 0===e?void 0:e.name;if(!l)return null;if(-1!==l.indexOf("?")&&-1!==l.indexOf(":")){var a=l.split("?")[1].split(":"),o=f()(a,2);t=o[0],n=o[1],t=t.trim(),n=n.trim(),cell.value=cell.value?t:n,l=l.split("?")[0].trim()}var c=[];return(p||r).forEach((function(e){var r,a=c.find((function(t){return t.columnValue===e.original[l]}));r=t||n?e.original[l]?t:n:e.original[l],a||(a={columnValue:r,rows:[]},c.push(a)),a.rows.push(e)})),c}),[h,p,r]);return _.isEmpty(x)?g?N().createElement(N().Fragment,null,N().createElement(Y.FixedSizeList,{height:Number(b)||0,itemCount:E,itemSize:Number(v)||0,width:a+m},w)):N().createElement(N().Fragment,null,(p||r).map((function(e,t){return n(e),N().createElement(K,s()({index:t,row:e,visibleColumns:l,moveRow:o,settings:i,cardTemplate:u},e.getRowProps()))}))):x.map((function(n,r){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);return a.page=n.rows,a.rows=n.rows,a.groupIndex=d+1,a.key=n.columnValue+r,N().createElement(N().Fragment,{key:a.key},N().createElement(ee,{className:"altrp-table-tr altrp-table-tr_group-subheading",groupIndex:a.groupIndex,settings:i},N().createElement("td",{colSpan:l.length||1,className:"altrp-table-td",dangerouslySetInnerHTML:{__html:0===n.columnValue?"0":n.columnValue||"&nbsp;"}})),N().createElement(e,a))}))};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const le=function(e){var t=e.settings,n=t.tables_settings_for_subheading,r=t.table_style_table_striple_style,l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return l.rows=N().useMemo((function(){if(_.isEmpty(n))return e.rows;var t=[],r=[];n.forEach((function(e){e.name&&(t.push(e.name),r.push(e.order||"asc"))}))}),[n]),l.groupIndex=0,N().createElement("div",s()({},e.getTableBodyProps(),{className:"altrp-table-tbody ".concat(r?"altrp-table-tbody--striped":"")}),N().createElement(ne,l))};var ae=n(95),oe=["indeterminate","icons"];function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return n.some((function(e){return!e&&!r||(_.isString(r)||(r+=""),r.includes(e))}))}))}))}function ue(e,t,n){return t=t?t[0]:void 0,(0,j.matchSorter)(e,n,{keys:[function(e){var n=e.values[t];return"##"===t&&(n=e.index+1),n}]})}function de(e,t,n){return t=t?t[0]:void 0,e.filter((function(e){return _.get(e,"values.".concat(t))===n}))}function pe(e,t,n){return t=t?t[0]:void 0,e.filter((function(e){return n=n.replace(/\s/g,""),-1!==_.get(e,"values.".concat(t),"").replace(/\s/g,"").indexOf(n)}))}function me(e){var t=e.settings,n=e.currentScreen,r=e.widgetId,l=(e.query,e.data),a=(e.currentModel,e._status),o=(e._error,e.setSortSettings,e.setFilterSettings,e.filterSetting,e._latestData,e.widgetState);function i(e){var t=e.row,n=e.data,r=e.cell,l=e.value,a=e.updateData,o=r.column,c=N().useState(l),i=f()(c,2),s=i[0],u=i[1];N().useEffect((function(){u(l)}),[l,r]);var d,p,g=o.column_template,b=o.column_is_editable,h=o.column_edit_url,w=o.column_external_link,O=o.column_blank_link,P=o.edit_disabled,R=o.column_cell_content_type,S=o._accessor;if((S=(S=S||"").trim())&&-1!==S.indexOf("?")&&-1!==S.indexOf(":")){var j=S.split("?")[1].split(":"),k=f()(j,2);d=k[0],p=k[1],d=d.trim(),p=p.trim(),r.value=r.value?d:p}0===S.indexOf('"')&&'"'===S[S.length-1]&&(r.value=S.substring(1,S.length-1));var F=N().useState(null),D=f()(F,2),A=D[0],G=D[1],B=N().useMemo((function(){return b&&h?(0,y.Sr)(h,t.original):null}),[h,b,t]);N().useEffect((function(){g&&m()(v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.default.loadParsedTemplate(g);case 2:t=e.sent,G(t);case 4:case"end":return e.stop()}}),e)})))()}),[g]);var L=r.value,H=(0,y.hz)()?"a":E.Link;switch(w&&!(0,y.hz)()&&(H="a"),_.isObject(r.value)&&(L=""),R){case"email":L=N().createElement("a",{href:"mailto:".concat(r.value),className:"altrp-inherit altrp-table-td__default-content",dangerouslySetInnerHTML:{__html:0===r.value?"0":r.value||"&nbsp;"}});break;case"phone":L=N().createElement("a",{href:"tel:".concat(r.value),className:"altrp-inherit altrp-table-td__default-content",dangerouslySetInnerHTML:{__html:0===r.value?"0":r.value||"&nbsp;"}});break;default:L=o.column_link?N().createElement(H,{to:(0,y.Sr)(o.column_link,t.original),href:(0,y.Sr)(o.column_link,t.original),target:O?"_blank":"",className:"altrp-inherit altrp-table-td__default-content",dangerouslySetInnerHTML:{__html:0===r.value?"0":r.value||"&nbsp;"}}):N().createElement("span",{href:null,className:"altrp-inherit altrp-table-td__default-content",dangerouslySetInnerHTML:{__html:0===r.value?"0":r.value||"&nbsp;"}})}var V=N().useMemo((function(){if(!A)return null;var e=z.default.cloneElement(A);return e.setCardModel(new I.Z(t.original||{})),N().createElement(e.componentClass,{element:e,ElementWrapper:M.default,children:e.children})}),[A,t.original,n]);return V?N().createElement("div",{className:"altrp-posts"},N().createElement("div",{className:"altrp-post overflow-visible"},V)):B&&!P?N().createElement(T.Z,{className:"altrp-inherit",route:B,resourceid:"",changevalue:function(e){u(e)},onBlur:function(e){a(t.index,S,e)},value:s}):_.get(r,"column.actions.length")?(0,x.renderCellActions)(r,t):_.isString(L)?L:N().createElement(N().Fragment,null,L)}e.sortSetting;var u=N().useRef(o),p=t.inner_page_size,g=t.global_filter,b=t.card_template,h=t.row_expand,P=t.selected_storage,R=t.row_select,j=t.row_select_width,k=t.store_state,F=t.loading_text,D=t.row_select_all,A=t.hide_columns,G=t.resize_columns,L=t.table_transpose,H=t.virtualized_rows,W=t.replace_rows,Y=t.tables_settings_for_subheading,q=t.replace_width,X=t.ids_storage,Z=t.hide_grouped_column_icon,U=t.grouped_column_icon,J=t.hide_not_grouped_column_icon,$=t.not_grouped_column_icon,K=t.checkbox_checked_icon,Q=void 0===K?{}:K,ee=t.checkbox_unchecked_icon,te=void 0===ee?{}:ee,ne=t.checkbox_indeterminate_icon,re=void 0===ne?{}:ne,oe=N().useState(null),ce=f()(oe,2),me=ce[0],fe=ce[1],_e=N().useState(l),be=f()(_e,2),ye=be[0],Ee=be[1];N().useEffect((function(){Ee(l)}),[l]);var xe=N().useMemo((function(){return{fuzzyText:ue,fullMatchText:de,partialMatchText:pe,text:function(e,t,n){return t=t?t[0]:void 0,e.filter((function(e){var r=e.values[t];return"##"===t&&(r=e.index+1),void 0===r||String(r).toLowerCase().startsWith(String(n).toLowerCase())}))},between:function(e,t,n){var r=n||[],l=r[0],a=r[1];if((l="number"==typeof l?l:-1/0)>(a="number"==typeof a?a:1/0)){var o=l;l=a,a=o}return e.filter((function(e){return t.some((function(t){var n=e.values[t];return"##"===t&&(n=e.index+1),n>=l&&n<=a}))}))},equals:function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return"##"===t&&(r=e.index+1),r==n}))}))},includesSome:se}}),[]),Oe=N().useMemo((function(){return{Filter:ge,width:150,Cell:i}}),[]);N().useEffect((function(){l?_.isArray(l)||(l=[l]):l=[]}),[l]);var Pe=N().useMemo((function(){return ve(t,r)}),[t,r]);N().useEffect((function(){b&&h&&m()(v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.default.loadParsedTemplate(b);case 2:t=e.sent,fe(t);case 4:case"end":return e.stop()}}),e)})))()}),[h,b]);var Re=[O.useFilters,O.useGlobalFilter,O.useGroupBy,O.useSortBy,O.useExpanded,O.usePagination,O.useRowSelect,O.useResizeColumns,O.useBlockLayout];R&&Re.push((function(e){e.visibleColumns.push((function(e){return[{id:"selection",column_width:j||0,column_name:function(e){var n=e.getToggleAllRowsSelectedProps,r=e.getToggleAllPageRowsSelectedProps;return!t.inner_page_size||t.inner_page_size<0||D?N().createElement("div",{className:"altrp-toggle-row"},N().createElement(he,s()({},n(),{icons:{checkedIcon:Q,uncheckedIcon:te,indeterminateIcon:re}}))):N().createElement("div",{className:"altrp-toggle-row"},N().createElement(he,s()({},r(),{icons:{checkedIcon:Q,uncheckedIcon:te,indeterminateIcon:re}})))},Cell:function(e){var t=e.row;return N().createElement("div",{className:"altrp-toggle-row"},N().createElement(he,s()({},t.getToggleRowSelectedProps(),{icons:{checkedIcon:Q,uncheckedIcon:te,indeterminateIcon:re}})))}}].concat(d()(e))}))}));var Se=N().useState(!1),je=f()(Se,2),ke=je[0],Ne=je[1],Ce=function(e,t,n){Ne(!0),Ee((function(r){return r.map((function(l,a){return a===e?ie(ie({},r[e]),{},c()({},t,n)):l}))}))},ze=N().useCallback((function(e){return e.id}),[]),Ie=N().useMemo((function(){var e={columns:Pe,data:ye,filterTypes:xe,autoResetPage:!ke,defaultColumn:Oe,updateData:Ce};if(W&&(e.getRowId=ze),(0,y.hz)()&&(e.initialState=p>=1?{pageSize:Number(p)}:{pageSize:l.length}),_.isArray(e.data)||(_.isObject(e.data)?e.data=[e.data]:e.data=[]),!_.isEmpty(Y)){var t=Y.map((function(e){return{id:e.name,desc:"DESC"===e.order}}));_.set(e,"initialState.sortBy",t)}return e}),[p,l,Pe,u,ye,W,ke,Y]);N().useEffect((function(){_.isObject(u.current)&&(Ie.initialState=u.current)}),[u,l]);var Me=O.useTable.apply(void 0,[Ie].concat(Re)),Te=Me.getTableProps,Fe=Me.getTableBodyProps,De=Me.headerGroups,Ae=Me.prepareRow,Ge=Me.page,Be=(Me.canPreviousPage,Me.canNextPage,Me.pageOptions,Me.pageCount),Le=Me.gotoPage,He=Me.nextPage,Ve=Me.previousPage,We=Me.getToggleHideAllColumnsProps,Ye=Me.allColumns,qe=Me.rows,Xe=Me.visibleColumns,Ze=Me.preGlobalFilteredRows,Ue=Me.setGlobalFilter,Je=Me.setPageSize,$e=Me.selectedFlatRows,Ke=Me.totalColumnsWidth,Qe=Me.state,et=Qe.pageIndex,tt=Qe.globalFilter,nt=(Qe.groupBy,Qe.selectedRowIds,Qe.expanded,Qe.pageSize);function rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[];return _.isEmpty(e)||e.forEach((function(e){e.original&&(t?n.push(_.get(e.original,t)):n.push(e.original)),e.subRows&&(n=_.concat(n,rt(e.subRows)))})),n}N().useEffect((function(){k&&(0,y.Un)(r,Qe)})),N().useEffect((function(){Je&&(Number(p)&&!Number(p<1)||Je(l.length||10),Je(Number(p)||l.length||10))}),[p,l]);var lt=N().useMemo((function(){return rt($e)}),[$e]),at=N().useMemo((function(){return rt($e,"id")}),[$e]);N().useEffect((function(){!P||_.isEqual(altrpHelpers.getDataByPath(P),lt)||(0,y.hz)()||(0,y.As)(P,lt)}),[$e]),N().useEffect((function(){!X||_.isEqual(altrpHelpers.getDataByPath(X),at)||(0,y.hz)()||(0,y.As)(X,at)}),[$e]);var ot=N().useMemo((function(){var e=null;return p&&p>=1&&(e={settings:t,nextPage:He,previousPage:Ve,pageIndex:et,pageCount:Be,pageSize:nt,setPageSize:Je,widgetId:r,gotoPage:Le}),e}),[p,nt,Be,et,t]),ct=N().useRef(null);return N().createElement(N().Fragment,null,A&&N().createElement("div",{className:"altrp-table-hidden"},N().createElement("div",{className:"altrp-table-hidden__all"},N().createElement(he,We())," Toggle All"),Ye.map((function(e){return["expander","selection"].indexOf(e.id)>=0?null:N().createElement("div",{key:e.id,className:"altrp-table-hidden__column"},N().createElement("label",null,N().createElement("input",s()({type:"checkbox"},e.getToggleHiddenProps()))," ",e.column_name||e.id,e.id))})),N().createElement("br",null)),N().createElement(B,s()({className:"altrp-table altrp-table_columns-"+Pe.length,ReactTable:Me,currentScreen:n,settings:t,table:ct,ref:ct},Te()),N().createElement("div",{className:"altrp-table-head"},(0,x.renderAdditionalRows)(t),De.map((function(e){var n=e.getHeaderGroupProps();return G||H||delete n.style,N().createElement("div",s()({},n,{className:"altrp-table-tr"}),W&&N().createElement("div",{className:"altrp-table-th altrp-table-cell",style:{width:q}}),e.headers.map((function(e,n){var r=e.column_width,l=e.column_header_alignment,a=e.getHeaderProps(e.getSortByToggleProps());a.settings=t;var o=ie(ie({},e.getResizerProps()),{},{onClick:function(e){e.stopPropagation()}});G||H||(a.style={},r&&(a.style.width=r+"%"),l&&(a.style.textAlign=l));var c=e.render("column_name");return _.isString(c)&&(c=N().createElement("span",{dangerouslySetInnerHTML:{__html:e.render("column_name")||"&nbsp;"}})),L&&_.unset(a,"style.width"),N().createElement(V,s()({},a,{column:e,className:"altrp-table-th altrp-table-cell",key:n}),c,e.canGroupBy?N().createElement("span",s()({},e.getGroupByToggleProps(),{className:"altrp-table-th__group-toggle"}),e.isGrouped?(0,y.hY)(J,$," ðŸ›‘ ","not-grouped-column"):(0,y.hY)(Z,U," ðŸ‘Š ","grouped-column")):null,e.isSorted?e.isSortedDesc?(0,S.hX)().renderIcon("chevron",{className:"rotate-180 sort-icon "}):(0,S.hX)().renderIcon("chevron",{className:"sort-icon"}):"",e.column_is_filtered&&N().createElement("label",{className:"altrp-label altrp-label_".concat(e.column_filter_type),onClick:function(e){e.stopPropagation()}},e.render("Filter")),G&&N().createElement("div",s()({},o,{className:"altrp-table__resizer ".concat(e.isResizing?"altrp-table__resizer_resizing":"")})))})))})),g&&N().createElement("div",{className:"altrp-table-tr"},N().createElement("th",{className:"altrp-table-th altrp-table-th_global-filter altrp-table-cell",role:"cell",colSpan:Xe.length+W,style:{textAlign:"left"}},N().createElement(we,{widgetId:r,preGlobalFilteredRows:Ze,globalFilter:tt,setGlobalFilter:Ue,settings:t})))),"success"===a?N().createElement(le,{getTableBodyProps:Fe,prepareRow:Ae,totalColumnsWidth:Ke,rows:qe,visibleColumns:Xe,moveRow:function(e,t){var n=ye[e];Ee(w()(ye,{$splice:[[e,1],[t,0,n]]}))},settings:t,page:Ge,cardTemplate:me}):N().createElement("div",null,N().createElement("div",{className:"altrp-table-tr altrp-table-tr_loading"},N().createElement("div",{className:"altrp-table-td altrp-table-td_loading",colSpan:Xe.length+W},"loading"===a&&F||null)))),ot&&N().createElement(ae.Z,ot))}function ge(e,t){var n=e.column,r=n.filterValue,l=n.preFilteredRows,a=n.setFilter,o=n.filter_placeholder,c=(n.column_filter_type,n.column_is_filtered,l.length);return o=o?o.replace("{{count}}",c):"Search ".concat(c," records..."),N().createElement("input",{value:r||"",className:"altrp-field",onChange:function(e){a(e.target.value||void 0)},placeholder:o})}function fe(e){var t=e.column,n=(t.filterValue,t.setFilter),r=t.preFilteredRows,l=t.id,a=t.filter_placeholder,o=e.widgetId,c=N().useMemo((function(){var e=new Set;return r.forEach((function(t){e.add(t.values[l])})),d()(e.values()).map((function(e){return{value:e,label:e+""}}))}),[l,r]);return N().createElement(R.Z,{options:c,isMulti:!0,placeholder:a||"Select some...",className:"altrp-table__filter-select",classNamePrefix:o+" altrp-field-select2",onChange:function(e){_.isArray(e)||(e=[]);var t=e.map((function(e){return e.value}));n(t)}})}function _e(e){var t=e.column,n=t.filterValue,r=t.setFilter,l=t.preFilteredRows,a=t.id,o=t.filter_button_text,c=N().useMemo((function(){var e=l.length?l[0].values[a]:0;"##"===a&&l.length&&(e=l[0].index);var t=e,n=e;return l.forEach((function(e){var r=e.values[a];"##"===a&&(r=e.index),t=Math.min(r,t),n=Math.max(r,n)})),[t,n]}),[a,l]),i=f()(c,2),s=i[0],u=i[1],d=o||"Off";return N().createElement(N().Fragment,null,N().createElement("input",{type:"range",className:"altrp-field",min:s,max:u,value:n||s,onChange:function(e){r(parseInt(e.target.value,10))}}),N().createElement("button",{className:"altrp-btn ".concat(void 0!==n?"active":""),onClick:function(){return r(void 0)}},d))}function be(e){var t=e.column,n=t.filterValue,r=void 0===n?[]:n,l=t.preFilteredRows,a=t.setFilter,o=t.filter_max_placeholder,c=t.filter_min_placeholder,i=t.id,s=N().useMemo((function(){var e=l.length?l[0].values[i]:0;"##"===i&&l.length&&(e=l[0].index);var t=e,n=e;return l.forEach((function(e){var r=e.values[i];"##"===i&&(r=e.index),t=Math.min(r,t),n=Math.max(r,n)})),[t,n]}),[i,l]),u=f()(s,2),d=u[0],p=u[1],m=c||"Min (".concat(d,")"),g=o||"Max (".concat(p,")");return N().createElement("div",{className:"altrp-filter-group",style:{display:"flex"}},N().createElement("input",{value:r[0]||"",type:"number",className:"altrp-field",onChange:function(e){var t=e.target.value;a((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[t?parseInt(t,10):void 0,e[1]]}))},placeholder:m,style:{width:"70px",marginRight:"0.5rem"}}),"to",N().createElement("input",{value:r[1]||"",type:"number",className:"altrp-field",onChange:function(e){var t=e.target.value;a((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[e[0],t?parseInt(t,10):void 0]}))},placeholder:g,style:{width:"70px",marginLeft:"0.5rem"}}))}function ve(e,t){var n=[],r=e.tables_columns,l=e.card_template,a=e.row_expand,o=e.virtualized_rows,c=e.resize_columns,i=e.hide_expanded_row_icon,u=e.expanded_row_icon,d=e.hide_not_expanded_row_icon,p=e.edit_disabled,m=e.not_expanded_row_icon;r=r||[];var g=((0,y.RG)(e,"columns_order")||"").trim();if(g=g?g.split(","):[],r.forEach((function(e){if(e.actions&&e.actions.length||e.accessor){if(e.edit_disabled=p,e._accessor=e.accessor,e.accessor&&-1!==e.accessor.indexOf("?")&&-1!==e.accessor.indexOf(":")&&(e.accessor=e.accessor.split("?")[0].trim()),e.column_name=e.column_name||"&nbsp;",e.column_is_filtered)switch(e.filter="fuzzyText",e.column_filter_type){case"min_max":e.filter="between",e.Filter=be;break;case"slider":e.filter="equals",e.Filter=_e;break;case"select":e.filter="includesSome",e.Filter=function(e){var n=e.column;return N().createElement(fe,{column:n,widgetId:t})};break;case"text":switch(e.column_text_filter_type){case"full_match":e.filter="fullMatchText";break;case"partial_match":e.filter="partialMatchText"}}if(e.canGroupBy=!!e.group_by,e.disableSortBy=!e.column_is_sorted,e.aggregate){var r=e.aggregate_template||"{{value}} Unique Names";e.Aggregated=function(e){var t=e.value;return r.replace(/{{value}}/g,t)}}(o||c)&&(e.width=Number(e.column_width)||150),n.push(e)}})),e.row_expand&&n.unshift({id:"expander",column_name:function(e){var t=e.getToggleAllRowsExpandedProps,n=e.isAllRowsExpanded;return N().createElement("span",s()({},t(),{className:"altrp-table__all-row-expander"}),n?(0,y.hY)(i,u,"ðŸ‘‡","expanded-row"):(0,y.hY)(d,m,"ðŸ‘‰","not-expanded-row"))},Cell:function(e){var t=e.row;return l&&a||t.canExpand?N().createElement("span",s()({className:"altrp-table__row-expander"},t.getToggleRowExpandedProps({style:{paddingLeft:"".concat(2*t.depth,"rem")}})),t.isExpanded?(0,y.hY)(i,u,"ðŸ‘‡","expanded-row"):(0,y.hY)(d,m,"ðŸ‘‰","not-expanded-row")):null}}),g.length){var f=[];g.forEach((function(e){e=parseInt(e)-1,n[e]&&-1===f.indexOf(n[e])&&f.push(n[e])})),n=f}return n}n.e(879).then(n.t.bind(n,6879,23)),n.e(958).then(n.t.bind(n,2958,23)),se.autoRemove=function(e){return!e||!e.length},ue.autoRemove=function(e){return!e},de.autoRemove=function(e){return!e},pe.autoRemove=function(e){return!e};var he=N().forwardRef((function(e,t){var n=e.indeterminate,r=e.icons,l=a()(e,oe),o=N().useRef(),c=t||o;N().useEffect((function(){c.current.indeterminate=n}),[c,n]);var i=r.checkedIcon.name?l.checked?r.checkedIcon:n?r.indeterminateIcon:r.uncheckedIcon:null;return N().createElement("label",{className:"check-icon--"+(l.checked?"checked":n?"indeterminate":"unchecked")},i&&(0,y.eh)(i),N().createElement("input",s()({type:"checkbox",ref:c},l,{className:i?"hidden":""})))}));function we(e){var t=e.preGlobalFilteredRows,n=e.globalFilter,r=e.setGlobalFilter,l=e.widgetId,a=e.settings,o=a.global_filter_placeholder,c=a.global_filter_label,i=t.length,s=N().useState(n),u=f()(s,2),d=u[0],p=u[1],m=(0,O.useAsyncDebounce)((function(e){r(e||void 0)}),200),g=c||"Search:".concat(" "),_=o||"".concat(i," records...");return _=_.replace(/{{count}}/g,i),N().createElement("div",{className:"altrp-table-global-filter"},N().createElement("label",{htmlFor:"altrp-table-global-filter".concat(l),dangerouslySetInnerHTML:{__html:g}}),N().createElement("input",{id:"altrp-table-global-filter".concat(l),value:d||"",onChange:function(e){p(e.target.value),m(e.target.value)},placeholder:_}))}const ye=function(e){if("datasource"===(e=ie({},e)).settings.choose_datasource){var t=N().useMemo((function(){return e.settings.inner_page_size>0?100:10}),[e.settings.inner_page_size]);return e._status="success",(0,y.hz)()&&((e=ie({},e)).settings=ie({},e.settings),e.data=Array.from({length:t},(function(){return{}})),(0,y.Js)(e.data)),N().createElement(me,e)}return N().createElement(P.Z,e,N().createElement(me,null))}}};