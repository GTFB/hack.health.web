exports.id=971,exports.ids=[971],exports.modules={5971:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>D});var n=o(3315),r=o.n(n),s=o(2827),i=o.n(s),a=o(6819),p=o.n(a),c=o(9317),l=o.n(c),d=o(8867),h=o.n(d),u=o(3168),f=o.n(u),b=o(9297),g=o.n(b),m=o(12),y=o.n(m),w=o(9e3),_=o.n(w),v=o(2268),S=o.n(v),O=o(7755),k=o(6777),E=o(9949);function T(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function j(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?T(Object(o),!0).forEach((function(e){y()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function z(t){var e=(0,b.useRef)(),o=(0,b.useState)(t.settings.updateSettings||{}),n=_()(o,2),r=n[0],s=n[1],i=(0,b.useState)(!1),a=_()(i,2),p=a[0],c=a[1],l=(0,E.D9)(t.updateToken),d=document.body;t.editor||(d=(0,b.useMemo)((function(){return(0,k.hz)()?document.getElementById("editorContent").contentWindow.document.body:document.body})));var h=t.settings.placement,u=["bottom-start","bottom","bottom-end","top-start","top","top-end","left-start","left","left-end","right-start","right","right-end"];-1===u.indexOf(h)&&(console.log(h),h=u[0]);var f=(0,O.usePopper)(t.target.current,e.current,{placement:h,modifiers:[{name:"offset",options:{offset:t.settings.offset}}]}),m=f.styles,y=f.attributes,w=f.forceUpdate,v=f.update;return(0,b.useEffect)((function(){t.updateToken!==l&&(w(),new Event("resize",{bubbles:!0,cancelable:!0}),(0,k.hz)()||console.log(),v()),0!==Object.keys(r).length&&JSON.stringify(r)!==JSON.stringify(t.settings.updateSettings)&&(s(t.settings.updateSettings),w()),!p&&t.target.current&&(console.log("aann"),c(!0))}),[t.children,h,t.target,t.updateToken]),t.portal?S().createPortal(g().cloneElement(t.children,j({ref:e,style:m.popper},y.popper)),d):g().cloneElement(t.children,j({ref:e,style:m.popper},y.popper))}var P=o(7591);const D=function(t){l()(s,t);var e,o,n=(e=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=f()(e);if(o){var r=f()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return h()(this,t)});function s(t){var e;return r()(this,s),(e=n.call(this,t)).state={show:!1,updateToken:void 0},e.show=e.show.bind(p()(e)),e.leaveHide=e.leaveHide.bind(p()(e)),e.enterShow=e.enterShow.bind(p()(e)),e.children=g().createRef(),e}return i()(s,[{key:"show",value:function(){var t=this;this.props.settings.show_delay_dropbar_options.size||this.props.settings.hide_delay_dropbar_options.size?this.state.show?setTimeout((function(){t.setState((function(t){return{show:!t.show}}))}),this.props.settings.hide_delay_dropbar_options.size):setTimeout((function(){t.setState((function(t){return{show:!t.show}}))}),this.props.settings.show_delay_dropbar_options.size):this.setState((function(t){return{show:!t.show}}))}},{key:"leaveHide",value:function(){var t=this;this.props.settings.hide_delay_dropbar_options.size?setTimeout((function(){t.setState({show:!1})}),this.props.settings.hide_delay_dropbar_options.size):this.setState({show:!1})}},{key:"enterShow",value:function(t){var e=this;t.currentTarget,this.props.showDelay.size&&!this.state.show?setTimeout((function(){e.setState({show:!0})}),this.props.showDelay.size):this.setState((function(t){return{show:!t.show}}))}},{key:"componentDidUpdate",value:function(t,e,o){this.state.show,e.show}},{key:"render",value:function(){var t=this,e=g().Children.only(this.props.children),o="altrp-dropbar-"+this.props.className,n=this.props.settings.type_dropbar_section||"text",r=this.props.getContent("content_dropbar_section");return g().createElement("div",{className:"altrp-dropbar altrp-dropbar-"+o},g().createElement("span",{className:"altrp-dropbar-children-wrapper "+o+"-wrapper",onMouseEnter:"hover"===this.props.settings.mode_dropbar_options?this.enterShow:null,onMouseLeave:"hover"===this.props.settings.mode_dropbar_options?this.leaveHide:null},g().cloneElement(e,{ref:this.children,onClick:"click"===this.props.settings.mode_dropbar_options?this.show:null}),g().createElement(z,{target:this.children,portal:!0,updateToken:this.state.updateToken,settings:{placement:this.props.settings.position_dropbar_options,offset:[0,this.props.settings.offset_dropbar_options.size],updateSettings:{width:this.props.settings.width_dropbar_options}}},g().createElement("div",{className:"altrp-dropbar-container "+" ".concat(this.props.elemenentId,"-altrp-dropbar ")+o+"-containter"+(this.state.show?" altrp-dropbar-container-show":" altrp-dropbar-container-hide")},"text"===n?g().createElement("div",{className:"altrp-dropbar-content "+o+"-content",dangerouslySetInnerHTML:{__html:r||""}}):g().createElement(P.Z,{onLoad:function(){t.setState({updateToken:Math.random()})},templateId:this.props.settings.template_dropbar_section,cardModel:this.props.element.getCurrentModel()})))))}}]),s}(b.Component)}};